{
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/userServer.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/userServer.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/userServer.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/userServer.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
        "sourceFileName": "userServer.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nrequire('./config/config');\n\nrequire('./models/db');\n\nconst rtsIndex = require('./routes/index.routes');\n\nconst manageEvents = require(\"./manageEvents\");\n\nconst Grid = require('gridfs-stream');\n\nconst GridFsStorage = require('multer-gridfs-storage');\n\nconst multer = require('multer');\n\nconst mongoose = require('mongoose'),\n      express = require('express'),\n      bodyParser = require('body-parser'),\n      cors = require('cors');\n\nvar app = express();\nconst connection = mongoose.connection;\nlet gfs;\nconnection.once('open', () => {\n  /*   gfs = Grid(connection.db, mongoose.mongo);\n    gfs.collection('uploads'); */\n  console.log('MongoDB database connection established successfully!');\n});\n/* const storage = new GridFsStorage({\n  url: process.env.MONGODB_URI,\n  file: (req, file) => {\n    return new Promise((resolve, reject) => {\n      crypto.randomBytes(16, (err, buf) => {\n        if (err) {\n          return reject(err);\n        }\n        const filename = buf.toString('hex') + path.extname(file.originalname);\n        const fileInfo = {\n          filename: filename,\n          bucketName: 'uploads'\n        };\n        resolve(fileInfo);\n      });\n    });\n  }\n});\nconst upload = multer({ storage }).single('file');\n\napp.post('/upload', upload, (req, res, err) => {\n  console.log('req', req.body)\n  return res.json({originalname:req.file.originalname, uploadname:req.file.filename});\n});\n */\n\nmanageEvents();\napp.use(cors()); //middleware\n\napp.use(bodyParser.json());\napp.use(cors());\napp.use('/api', rtsIndex); //error handler\n\napp.use((err, req, res, next) => {\n  if (err.name == 'ValidationError') {\n    var valErrors = [];\n    Object.keys(err.errors).forEach(key => valErrors.push(err.errors[key].message));\n    res.status(422).send(valErrors);\n  }\n});\napp.listen(process.env.PORT, () => console.log(`Server started at port: ${process.env.PORT}`));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJTZXJ2ZXIuanMiXSwibmFtZXMiOlsicmVxdWlyZSIsInJ0c0luZGV4IiwibWFuYWdlRXZlbnRzIiwiR3JpZCIsIkdyaWRGc1N0b3JhZ2UiLCJtdWx0ZXIiLCJtb25nb29zZSIsImV4cHJlc3MiLCJib2R5UGFyc2VyIiwiY29ycyIsImFwcCIsImNvbm5lY3Rpb24iLCJnZnMiLCJvbmNlIiwiY29uc29sZSIsImxvZyIsInVzZSIsImpzb24iLCJlcnIiLCJyZXEiLCJyZXMiLCJuZXh0IiwibmFtZSIsInZhbEVycm9ycyIsIk9iamVjdCIsImtleXMiLCJlcnJvcnMiLCJmb3JFYWNoIiwia2V5IiwicHVzaCIsIm1lc3NhZ2UiLCJzdGF0dXMiLCJzZW5kIiwibGlzdGVuIiwicHJvY2VzcyIsImVudiIsIlBPUlQiXSwibWFwcGluZ3MiOiI7O0FBQUFBLE9BQU8sQ0FBQyxpQkFBRCxDQUFQOztBQUNBQSxPQUFPLENBQUMsYUFBRCxDQUFQOztBQUNBLE1BQU1DLFFBQVEsR0FBR0QsT0FBTyxDQUFDLHVCQUFELENBQXhCOztBQUNBLE1BQU1FLFlBQVksR0FBR0YsT0FBTyxDQUFDLGdCQUFELENBQTVCOztBQUNBLE1BQU1HLElBQUksR0FBR0gsT0FBTyxDQUFDLGVBQUQsQ0FBcEI7O0FBQ0EsTUFBTUksYUFBYSxHQUFHSixPQUFPLENBQUMsdUJBQUQsQ0FBN0I7O0FBQ0EsTUFBTUssTUFBTSxHQUFHTCxPQUFPLENBQUMsUUFBRCxDQUF0Qjs7QUFFQSxNQUFNTSxRQUFRLEdBQUdOLE9BQU8sQ0FBQyxVQUFELENBQXhCO0FBQUEsTUFDTU8sT0FBTyxHQUFHUCxPQUFPLENBQUMsU0FBRCxDQUR2QjtBQUFBLE1BRU1RLFVBQVUsR0FBR1IsT0FBTyxDQUFDLGFBQUQsQ0FGMUI7QUFBQSxNQUdNUyxJQUFJLEdBQUdULE9BQU8sQ0FBQyxNQUFELENBSHBCOztBQUtBLElBQUlVLEdBQUcsR0FBR0gsT0FBTyxFQUFqQjtBQUVBLE1BQU1JLFVBQVUsR0FBR0wsUUFBUSxDQUFDSyxVQUE1QjtBQUNBLElBQUlDLEdBQUo7QUFFQUQsVUFBVSxDQUFDRSxJQUFYLENBQWdCLE1BQWhCLEVBQXdCLE1BQU07QUFDOUI7O0FBRUVDLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHVEQUFaO0FBQ0QsQ0FKRDtBQU1BOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXlCQWIsWUFBWTtBQUVaUSxHQUFHLENBQUNNLEdBQUosQ0FBUVAsSUFBSSxFQUFaLEUsQ0FFQTs7QUFDQUMsR0FBRyxDQUFDTSxHQUFKLENBQVFSLFVBQVUsQ0FBQ1MsSUFBWCxFQUFSO0FBQ0FQLEdBQUcsQ0FBQ00sR0FBSixDQUFRUCxJQUFJLEVBQVo7QUFDQUMsR0FBRyxDQUFDTSxHQUFKLENBQVEsTUFBUixFQUFnQmYsUUFBaEIsRSxDQUVBOztBQUNBUyxHQUFHLENBQUNNLEdBQUosQ0FBUSxDQUFDRSxHQUFELEVBQU1DLEdBQU4sRUFBV0MsR0FBWCxFQUFnQkMsSUFBaEIsS0FBeUI7QUFDL0IsTUFBSUgsR0FBRyxDQUFDSSxJQUFKLElBQVksaUJBQWhCLEVBQWtDO0FBQ2hDLFFBQUlDLFNBQVMsR0FBRyxFQUFoQjtBQUNBQyxJQUFBQSxNQUFNLENBQUNDLElBQVAsQ0FBWVAsR0FBRyxDQUFDUSxNQUFoQixFQUF3QkMsT0FBeEIsQ0FBZ0NDLEdBQUcsSUFBSUwsU0FBUyxDQUFDTSxJQUFWLENBQWVYLEdBQUcsQ0FBQ1EsTUFBSixDQUFXRSxHQUFYLEVBQWdCRSxPQUEvQixDQUF2QztBQUNBVixJQUFBQSxHQUFHLENBQUNXLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQlQsU0FBckI7QUFDRDtBQUNGLENBTkQ7QUFRQWIsR0FBRyxDQUFDdUIsTUFBSixDQUFXQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsSUFBdkIsRUFBNkIsTUFBS3RCLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLDJCQUEwQm1CLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxJQUFLLEVBQXhELENBQWxDIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9qb25hdGhhbmF1Z3VzdGluL0Rlc2t0b3AvV2Vic2l0ZXMvbGl2ZS1jaWNsZS9iYWNrZW5kIiwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnLi9jb25maWcvY29uZmlnJyk7XG5yZXF1aXJlKCcuL21vZGVscy9kYicpO1xuY29uc3QgcnRzSW5kZXggPSByZXF1aXJlKCcuL3JvdXRlcy9pbmRleC5yb3V0ZXMnKTtcbmNvbnN0IG1hbmFnZUV2ZW50cyA9IHJlcXVpcmUoXCIuL21hbmFnZUV2ZW50c1wiKTtcbmNvbnN0IEdyaWQgPSByZXF1aXJlKCdncmlkZnMtc3RyZWFtJyk7XG5jb25zdCBHcmlkRnNTdG9yYWdlID0gcmVxdWlyZSgnbXVsdGVyLWdyaWRmcy1zdG9yYWdlJyk7XG5jb25zdCBtdWx0ZXIgPSByZXF1aXJlKCdtdWx0ZXInKTtcblxuY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpLFxuICAgICAgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKSxcbiAgICAgIGJvZHlQYXJzZXIgPSByZXF1aXJlKCdib2R5LXBhcnNlcicpLFxuICAgICAgY29ycyA9IHJlcXVpcmUoJ2NvcnMnKTtcblxudmFyIGFwcCA9IGV4cHJlc3MoKTtcblxuY29uc3QgY29ubmVjdGlvbiA9IG1vbmdvb3NlLmNvbm5lY3Rpb247XG5sZXQgZ2ZzXG5cbmNvbm5lY3Rpb24ub25jZSgnb3BlbicsICgpID0+IHtcbi8qICAgZ2ZzID0gR3JpZChjb25uZWN0aW9uLmRiLCBtb25nb29zZS5tb25nbyk7XG4gIGdmcy5jb2xsZWN0aW9uKCd1cGxvYWRzJyk7ICovXG4gIGNvbnNvbGUubG9nKCdNb25nb0RCIGRhdGFiYXNlIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQgc3VjY2Vzc2Z1bGx5IScpO1xufSk7XG5cbi8qIGNvbnN0IHN0b3JhZ2UgPSBuZXcgR3JpZEZzU3RvcmFnZSh7XG4gIHVybDogcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkksXG4gIGZpbGU6IChyZXEsIGZpbGUpID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY3J5cHRvLnJhbmRvbUJ5dGVzKDE2LCAoZXJyLCBidWYpID0+IHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmaWxlbmFtZSA9IGJ1Zi50b1N0cmluZygnaGV4JykgKyBwYXRoLmV4dG5hbWUoZmlsZS5vcmlnaW5hbG5hbWUpO1xuICAgICAgICBjb25zdCBmaWxlSW5mbyA9IHtcbiAgICAgICAgICBmaWxlbmFtZTogZmlsZW5hbWUsXG4gICAgICAgICAgYnVja2V0TmFtZTogJ3VwbG9hZHMnXG4gICAgICAgIH07XG4gICAgICAgIHJlc29sdmUoZmlsZUluZm8pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn0pO1xuY29uc3QgdXBsb2FkID0gbXVsdGVyKHsgc3RvcmFnZSB9KS5zaW5nbGUoJ2ZpbGUnKTtcblxuYXBwLnBvc3QoJy91cGxvYWQnLCB1cGxvYWQsIChyZXEsIHJlcywgZXJyKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdyZXEnLCByZXEuYm9keSlcbiAgcmV0dXJuIHJlcy5qc29uKHtvcmlnaW5hbG5hbWU6cmVxLmZpbGUub3JpZ2luYWxuYW1lLCB1cGxvYWRuYW1lOnJlcS5maWxlLmZpbGVuYW1lfSk7XG59KTtcbiAqL1xubWFuYWdlRXZlbnRzKCk7XG5cbmFwcC51c2UoY29ycygpKTtcblxuLy9taWRkbGV3YXJlXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbmFwcC51c2UoY29ycygpKTtcbmFwcC51c2UoJy9hcGknLCBydHNJbmRleCk7XG5cbi8vZXJyb3IgaGFuZGxlclxuYXBwLnVzZSgoZXJyLCByZXEsIHJlcywgbmV4dCkgPT4ge1xuICBpZiAoZXJyLm5hbWUgPT0gJ1ZhbGlkYXRpb25FcnJvcicpe1xuICAgIHZhciB2YWxFcnJvcnMgPSBbXTtcbiAgICBPYmplY3Qua2V5cyhlcnIuZXJyb3JzKS5mb3JFYWNoKGtleSA9PiB2YWxFcnJvcnMucHVzaChlcnIuZXJyb3JzW2tleV0ubWVzc2FnZSkpO1xuICAgIHJlcy5zdGF0dXMoNDIyKS5zZW5kKHZhbEVycm9ycylcbiAgfVxufSk7XG5cbmFwcC5saXN0ZW4ocHJvY2Vzcy5lbnYuUE9SVCwgKCk9PiBjb25zb2xlLmxvZyhgU2VydmVyIHN0YXJ0ZWQgYXQgcG9ydDogJHtwcm9jZXNzLmVudi5QT1JUfWApKTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "userServer.js"
      ],
      "names": [
        "require",
        "rtsIndex",
        "manageEvents",
        "Grid",
        "GridFsStorage",
        "multer",
        "mongoose",
        "express",
        "bodyParser",
        "cors",
        "app",
        "connection",
        "gfs",
        "once",
        "console",
        "log",
        "use",
        "json",
        "err",
        "req",
        "res",
        "next",
        "name",
        "valErrors",
        "Object",
        "keys",
        "errors",
        "forEach",
        "key",
        "push",
        "message",
        "status",
        "send",
        "listen",
        "process",
        "env",
        "PORT"
      ],
      "mappings": ";;AAAAA,OAAO,CAAC,iBAAD,CAAP;;AACAA,OAAO,CAAC,aAAD,CAAP;;AACA,MAAMC,QAAQ,GAAGD,OAAO,CAAC,uBAAD,CAAxB;;AACA,MAAME,YAAY,GAAGF,OAAO,CAAC,gBAAD,CAA5B;;AACA,MAAMG,IAAI,GAAGH,OAAO,CAAC,eAAD,CAApB;;AACA,MAAMI,aAAa,GAAGJ,OAAO,CAAC,uBAAD,CAA7B;;AACA,MAAMK,MAAM,GAAGL,OAAO,CAAC,QAAD,CAAtB;;AAEA,MAAMM,QAAQ,GAAGN,OAAO,CAAC,UAAD,CAAxB;AAAA,MACMO,OAAO,GAAGP,OAAO,CAAC,SAAD,CADvB;AAAA,MAEMQ,UAAU,GAAGR,OAAO,CAAC,aAAD,CAF1B;AAAA,MAGMS,IAAI,GAAGT,OAAO,CAAC,MAAD,CAHpB;;AAKA,IAAIU,GAAG,GAAGH,OAAO,EAAjB;AAEA,MAAMI,UAAU,GAAGL,QAAQ,CAACK,UAA5B;AACA,IAAIC,GAAJ;AAEAD,UAAU,CAACE,IAAX,CAAgB,MAAhB,EAAwB,MAAM;AAC9B;;AAEEC,EAAAA,OAAO,CAACC,GAAR,CAAY,uDAAZ;AACD,CAJD;AAMA;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBAb,YAAY;AAEZQ,GAAG,CAACM,GAAJ,CAAQP,IAAI,EAAZ,E,CAEA;;AACAC,GAAG,CAACM,GAAJ,CAAQR,UAAU,CAACS,IAAX,EAAR;AACAP,GAAG,CAACM,GAAJ,CAAQP,IAAI,EAAZ;AACAC,GAAG,CAACM,GAAJ,CAAQ,MAAR,EAAgBf,QAAhB,E,CAEA;;AACAS,GAAG,CAACM,GAAJ,CAAQ,CAACE,GAAD,EAAMC,GAAN,EAAWC,GAAX,EAAgBC,IAAhB,KAAyB;AAC/B,MAAIH,GAAG,CAACI,IAAJ,IAAY,iBAAhB,EAAkC;AAChC,QAAIC,SAAS,GAAG,EAAhB;AACAC,IAAAA,MAAM,CAACC,IAAP,CAAYP,GAAG,CAACQ,MAAhB,EAAwBC,OAAxB,CAAgCC,GAAG,IAAIL,SAAS,CAACM,IAAV,CAAeX,GAAG,CAACQ,MAAJ,CAAWE,GAAX,EAAgBE,OAA/B,CAAvC;AACAV,IAAAA,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBT,SAArB;AACD;AACF,CAND;AAQAb,GAAG,CAACuB,MAAJ,CAAWC,OAAO,CAACC,GAAR,CAAYC,IAAvB,EAA6B,MAAKtB,OAAO,CAACC,GAAR,CAAa,2BAA0BmB,OAAO,CAACC,GAAR,CAAYC,IAAK,EAAxD,CAAlC",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "sourcesContent": [
        "require('./config/config');\nrequire('./models/db');\nconst rtsIndex = require('./routes/index.routes');\nconst manageEvents = require(\"./manageEvents\");\nconst Grid = require('gridfs-stream');\nconst GridFsStorage = require('multer-gridfs-storage');\nconst multer = require('multer');\n\nconst mongoose = require('mongoose'),\n      express = require('express'),\n      bodyParser = require('body-parser'),\n      cors = require('cors');\n\nvar app = express();\n\nconst connection = mongoose.connection;\nlet gfs\n\nconnection.once('open', () => {\n/*   gfs = Grid(connection.db, mongoose.mongo);\n  gfs.collection('uploads'); */\n  console.log('MongoDB database connection established successfully!');\n});\n\n/* const storage = new GridFsStorage({\n  url: process.env.MONGODB_URI,\n  file: (req, file) => {\n    return new Promise((resolve, reject) => {\n      crypto.randomBytes(16, (err, buf) => {\n        if (err) {\n          return reject(err);\n        }\n        const filename = buf.toString('hex') + path.extname(file.originalname);\n        const fileInfo = {\n          filename: filename,\n          bucketName: 'uploads'\n        };\n        resolve(fileInfo);\n      });\n    });\n  }\n});\nconst upload = multer({ storage }).single('file');\n\napp.post('/upload', upload, (req, res, err) => {\n  console.log('req', req.body)\n  return res.json({originalname:req.file.originalname, uploadname:req.file.filename});\n});\n */\nmanageEvents();\n\napp.use(cors());\n\n//middleware\napp.use(bodyParser.json());\napp.use(cors());\napp.use('/api', rtsIndex);\n\n//error handler\napp.use((err, req, res, next) => {\n  if (err.name == 'ValidationError'){\n    var valErrors = [];\n    Object.keys(err.errors).forEach(key => valErrors.push(err.errors[key].message));\n    res.status(422).send(valErrors)\n  }\n});\n\napp.listen(process.env.PORT, ()=> console.log(`Server started at port: ${process.env.PORT}`));\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1581029444345
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/config\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/config/config.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/config",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/config/config.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/config/config.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/config/config.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/config",
        "sourceFileName": "config.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\n// check env\nvar env = process.env.NONE_ENV || 'development'; // fetch env.con\n\nvar config = require('./config.json');\n\nvar envConfig = config[env]; // add env. config values to process.env\n\nObject.keys(envConfig).forEach(key => process.env[key] = envConfig[key]);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJlbnYiLCJwcm9jZXNzIiwiTk9ORV9FTlYiLCJjb25maWciLCJyZXF1aXJlIiwiZW52Q29uZmlnIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrZXkiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQSxJQUFJQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQ0QsR0FBUixDQUFZRSxRQUFaLElBQXdCLGFBQWxDLEMsQ0FDQTs7QUFDQSxJQUFJQyxNQUFNLEdBQUdDLE9BQU8sQ0FBQyxlQUFELENBQXBCOztBQUNBLElBQUlDLFNBQVMsR0FBR0YsTUFBTSxDQUFDSCxHQUFELENBQXRCLEMsQ0FDQTs7QUFDQU0sTUFBTSxDQUFDQyxJQUFQLENBQVlGLFNBQVosRUFBdUJHLE9BQXZCLENBQStCQyxHQUFHLElBQUlSLE9BQU8sQ0FBQ0QsR0FBUixDQUFZUyxHQUFaLElBQW1CSixTQUFTLENBQUNJLEdBQUQsQ0FBbEUiLCJzb3VyY2VSb290IjoiL1VzZXJzL2pvbmF0aGFuYXVndXN0aW4vRGVza3RvcC9XZWJzaXRlcy9saXZlLWNpY2xlL2JhY2tlbmQvY29uZmlnIiwic291cmNlc0NvbnRlbnQiOlsiLy8gY2hlY2sgZW52XG52YXIgZW52ID0gcHJvY2Vzcy5lbnYuTk9ORV9FTlYgfHwgJ2RldmVsb3BtZW50Jztcbi8vIGZldGNoIGVudi5jb25cbnZhciBjb25maWcgPSByZXF1aXJlKCcuL2NvbmZpZy5qc29uJyk7XG52YXIgZW52Q29uZmlnID0gY29uZmlnW2Vudl07XG4vLyBhZGQgZW52LiBjb25maWcgdmFsdWVzIHRvIHByb2Nlc3MuZW52XG5PYmplY3Qua2V5cyhlbnZDb25maWcpLmZvckVhY2goa2V5ID0+IHByb2Nlc3MuZW52W2tleV0gPSBlbnZDb25maWdba2V5XSk7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "config.js"
      ],
      "names": [
        "env",
        "process",
        "NONE_ENV",
        "config",
        "require",
        "envConfig",
        "Object",
        "keys",
        "forEach",
        "key"
      ],
      "mappings": ";;AAAA;AACA,IAAIA,GAAG,GAAGC,OAAO,CAACD,GAAR,CAAYE,QAAZ,IAAwB,aAAlC,C,CACA;;AACA,IAAIC,MAAM,GAAGC,OAAO,CAAC,eAAD,CAApB;;AACA,IAAIC,SAAS,GAAGF,MAAM,CAACH,GAAD,CAAtB,C,CACA;;AACAM,MAAM,CAACC,IAAP,CAAYF,SAAZ,EAAuBG,OAAvB,CAA+BC,GAAG,IAAIR,OAAO,CAACD,GAAR,CAAYS,GAAZ,IAAmBJ,SAAS,CAACI,GAAD,CAAlE",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/config",
      "sourcesContent": [
        "// check env\nvar env = process.env.NONE_ENV || 'development';\n// fetch env.con\nvar config = require('./config.json');\nvar envConfig = config[env];\n// add env. config values to process.env\nObject.keys(envConfig).forEach(key => process.env[key] = envConfig[key]);\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557273659461
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models/db.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models/db.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models/db.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models/db.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models",
        "sourceFileName": "db.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst mongoose = require('mongoose');\n\nmongoose.connect(process.env.MONGODB_URI, {\n  useNewUrlParser: true\n}, err => {\n  if (!err) {\n    console.log('MongoDB connection succeeded.');\n  } else {\n    console.log('Error in MongoDB connection : ' + JSON.stringify(err, undefined, 2));\n  }\n});\n\nrequire('./user.model');\n\nrequire('./event.model');\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsImNvbm5lY3QiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09EQl9VUkkiLCJ1c2VOZXdVcmxQYXJzZXIiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiSlNPTiIsInN0cmluZ2lmeSIsInVuZGVmaW5lZCJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFELENBQXhCOztBQUVBRCxRQUFRLENBQUNFLE9BQVQsQ0FBaUJDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxXQUE3QixFQUEwQztBQUFDQyxFQUFBQSxlQUFlLEVBQUU7QUFBbEIsQ0FBMUMsRUFBcUVDLEdBQUQsSUFBUztBQUN6RSxNQUFJLENBQUNBLEdBQUwsRUFBVTtBQUFFQyxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSwrQkFBWjtBQUErQyxHQUEzRCxNQUNLO0FBQUVELElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLG1DQUFtQ0MsSUFBSSxDQUFDQyxTQUFMLENBQWVKLEdBQWYsRUFBb0JLLFNBQXBCLEVBQStCLENBQS9CLENBQS9DO0FBQW9GO0FBQzlGLENBSEQ7O0FBS0FYLE9BQU8sQ0FBQyxjQUFELENBQVA7O0FBQ0FBLE9BQU8sQ0FBQyxlQUFELENBQVAiLCJzb3VyY2VSb290IjoiL1VzZXJzL2pvbmF0aGFuYXVndXN0aW4vRGVza3RvcC9XZWJzaXRlcy9saXZlLWNpY2xlL2JhY2tlbmQvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xuXG5tb25nb29zZS5jb25uZWN0KHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJLCB7dXNlTmV3VXJsUGFyc2VyOiB0cnVlfSwgIChlcnIpID0+IHtcbiAgICBpZiAoIWVycikgeyBjb25zb2xlLmxvZygnTW9uZ29EQiBjb25uZWN0aW9uIHN1Y2NlZWRlZC4nKTsgfVxuICAgIGVsc2UgeyBjb25zb2xlLmxvZygnRXJyb3IgaW4gTW9uZ29EQiBjb25uZWN0aW9uIDogJyArIEpTT04uc3RyaW5naWZ5KGVyciwgdW5kZWZpbmVkLCAyKSk7IH1cbn0pO1xuXG5yZXF1aXJlKCcuL3VzZXIubW9kZWwnKTtcbnJlcXVpcmUoJy4vZXZlbnQubW9kZWwnKTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "db.js"
      ],
      "names": [
        "mongoose",
        "require",
        "connect",
        "process",
        "env",
        "MONGODB_URI",
        "useNewUrlParser",
        "err",
        "console",
        "log",
        "JSON",
        "stringify",
        "undefined"
      ],
      "mappings": ";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AAEAD,QAAQ,CAACE,OAAT,CAAiBC,OAAO,CAACC,GAAR,CAAYC,WAA7B,EAA0C;AAACC,EAAAA,eAAe,EAAE;AAAlB,CAA1C,EAAqEC,GAAD,IAAS;AACzE,MAAI,CAACA,GAAL,EAAU;AAAEC,IAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ;AAA+C,GAA3D,MACK;AAAED,IAAAA,OAAO,CAACC,GAAR,CAAY,mCAAmCC,IAAI,CAACC,SAAL,CAAeJ,GAAf,EAAoBK,SAApB,EAA+B,CAA/B,CAA/C;AAAoF;AAC9F,CAHD;;AAKAX,OAAO,CAAC,cAAD,CAAP;;AACAA,OAAO,CAAC,eAAD,CAAP",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models",
      "sourcesContent": [
        "const mongoose = require('mongoose');\n\nmongoose.connect(process.env.MONGODB_URI, {useNewUrlParser: true},  (err) => {\n    if (!err) { console.log('MongoDB connection succeeded.'); }\n    else { console.log('Error in MongoDB connection : ' + JSON.stringify(err, undefined, 2)); }\n});\n\nrequire('./user.model');\nrequire('./event.model');\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1571411911020
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models/user.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models/user.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models/user.model.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models/user.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models",
        "sourceFileName": "user.model.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst mongoose = require('mongoose');\n\nconst bcrypt = require('bcryptjs');\n\nconst jwt = require('jsonwebtoken');\n\nconst Event = require('../models/event.model');\n\nvar Schema = mongoose.Schema;\nvar ObjectId = Schema.ObjectId;\nvar userSchema = new mongoose.Schema({\n  fullName: {\n    type: String,\n    required: 'Full name can\\'t be empty'\n  },\n  email: {\n    type: String,\n    required: 'Email can\\'t be empty',\n    unique: true\n  },\n  password: {\n    type: String,\n    required: 'Password can\\'t be empty',\n    minlength: [6, 'Password must be at least 6 characters long']\n  },\n  relationships: {\n    followers: [{\n      type: String,\n      ref: \"User\"\n    }],\n    following: [{\n      type: String,\n      ref: \"User\"\n    }]\n  },\n  saltSecret: String,\n  posts: {\n    userPosts: [{\n      type: String\n    }]\n  }\n}); //Custom validation for email\n\nuserSchema.path('email').validate(val => {\n  return /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(val);\n}, 'Invalid e-mail.');\nuserSchema.pre('save', function (next) {\n  bcrypt.genSalt(10, (err, salt) => {\n    bcrypt.hash(this.password, salt, (err, hash) => {\n      this.password = hash;\n      this.saltSecret = salt;\n      next();\n    });\n  });\n}); // Methods\n\nuserSchema.methods.verifyPassword = async function (password, hashed_pass) {\n  const saltSecret = this.saltSecret;\n  const isValid = await bcrypt.compare(password, hashed_pass);\n  return isValid;\n};\n\nuserSchema.methods.generateJwt = function () {\n  return jwt.sign({\n    _id: this._id\n  }, process.env.JWT_SECRET, {\n    expiresIn: process.env.JWT_EXP\n  });\n};\n\nmongoose.model('User', userSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIubW9kZWwuanMiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJyZXF1aXJlIiwiYmNyeXB0Iiwiand0IiwiRXZlbnQiLCJTY2hlbWEiLCJPYmplY3RJZCIsInVzZXJTY2hlbWEiLCJmdWxsTmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImVtYWlsIiwidW5pcXVlIiwicGFzc3dvcmQiLCJtaW5sZW5ndGgiLCJyZWxhdGlvbnNoaXBzIiwiZm9sbG93ZXJzIiwicmVmIiwiZm9sbG93aW5nIiwic2FsdFNlY3JldCIsInBvc3RzIiwidXNlclBvc3RzIiwicGF0aCIsInZhbGlkYXRlIiwidmFsIiwidGVzdCIsInByZSIsIm5leHQiLCJnZW5TYWx0IiwiZXJyIiwic2FsdCIsImhhc2giLCJtZXRob2RzIiwidmVyaWZ5UGFzc3dvcmQiLCJoYXNoZWRfcGFzcyIsImlzVmFsaWQiLCJjb21wYXJlIiwiZ2VuZXJhdGVKd3QiLCJzaWduIiwiX2lkIiwicHJvY2VzcyIsImVudiIsIkpXVF9TRUNSRVQiLCJleHBpcmVzSW4iLCJKV1RfRVhQIiwibW9kZWwiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBRCxDQUF4Qjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxVQUFELENBQXRCOztBQUNBLE1BQU1FLEdBQUcsR0FBR0YsT0FBTyxDQUFDLGNBQUQsQ0FBbkI7O0FBQ0EsTUFBTUcsS0FBSyxHQUFHSCxPQUFPLENBQUMsdUJBQUQsQ0FBckI7O0FBRUEsSUFBSUksTUFBTSxHQUFHTCxRQUFRLENBQUNLLE1BQXRCO0FBQ0EsSUFBSUMsUUFBUSxHQUFHRCxNQUFNLENBQUNDLFFBQXRCO0FBRUEsSUFBSUMsVUFBVSxHQUFHLElBQUlQLFFBQVEsQ0FBQ0ssTUFBYixDQUFvQjtBQUNuQ0csRUFBQUEsUUFBUSxFQUFFO0FBQ1JDLElBQUFBLElBQUksRUFBRUMsTUFERTtBQUVSQyxJQUFBQSxRQUFRLEVBQUU7QUFGRixHQUR5QjtBQUtuQ0MsRUFBQUEsS0FBSyxFQUFFO0FBQ0xILElBQUFBLElBQUksRUFBRUMsTUFERDtBQUVMQyxJQUFBQSxRQUFRLEVBQUUsdUJBRkw7QUFHTEUsSUFBQUEsTUFBTSxFQUFFO0FBSEgsR0FMNEI7QUFVbkNDLEVBQUFBLFFBQVEsRUFBRTtBQUNSTCxJQUFBQSxJQUFJLEVBQUVDLE1BREU7QUFFUkMsSUFBQUEsUUFBUSxFQUFFLDBCQUZGO0FBR1JJLElBQUFBLFNBQVMsRUFBRSxDQUFDLENBQUQsRUFBSSw2Q0FBSjtBQUhILEdBVnlCO0FBZW5DQyxFQUFBQSxhQUFhLEVBQUU7QUFDYkMsSUFBQUEsU0FBUyxFQUFFLENBQUM7QUFBRVIsTUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCUSxNQUFBQSxHQUFHLEVBQUU7QUFBckIsS0FBRCxDQURFO0FBRWJDLElBQUFBLFNBQVMsRUFBRSxDQUFDO0FBQUVWLE1BQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQlEsTUFBQUEsR0FBRyxFQUFFO0FBQXJCLEtBQUQ7QUFGRSxHQWZvQjtBQW1CbkNFLEVBQUFBLFVBQVUsRUFBRVYsTUFuQnVCO0FBb0JuQ1csRUFBQUEsS0FBSyxFQUFFO0FBQ0xDLElBQUFBLFNBQVMsRUFBRSxDQUFDO0FBQUViLE1BQUFBLElBQUksRUFBRUM7QUFBUixLQUFEO0FBRE47QUFwQjRCLENBQXBCLENBQWpCLEMsQ0F5QkE7O0FBRUFILFVBQVUsQ0FBQ2dCLElBQVgsQ0FBZ0IsT0FBaEIsRUFBeUJDLFFBQXpCLENBQW1DQyxHQUFELElBQVM7QUFDekMsU0FBTywwSkFBMEpDLElBQTFKLENBQStKRCxHQUEvSixDQUFQO0FBQ0QsQ0FGRCxFQUVHLGlCQUZIO0FBSUFsQixVQUFVLENBQUNvQixHQUFYLENBQWUsTUFBZixFQUF1QixVQUFTQyxJQUFULEVBQWU7QUFDcEMxQixFQUFBQSxNQUFNLENBQUMyQixPQUFQLENBQWUsRUFBZixFQUFtQixDQUFDQyxHQUFELEVBQU1DLElBQU4sS0FBZTtBQUNoQzdCLElBQUFBLE1BQU0sQ0FBQzhCLElBQVAsQ0FBWSxLQUFLbEIsUUFBakIsRUFBMkJpQixJQUEzQixFQUFpQyxDQUFDRCxHQUFELEVBQU1FLElBQU4sS0FBZTtBQUM5QyxXQUFLbEIsUUFBTCxHQUFnQmtCLElBQWhCO0FBQ0EsV0FBS1osVUFBTCxHQUFrQlcsSUFBbEI7QUFDQUgsTUFBQUEsSUFBSTtBQUNMLEtBSkQ7QUFLRCxHQU5EO0FBT0QsQ0FSRCxFLENBVUE7O0FBRUFyQixVQUFVLENBQUMwQixPQUFYLENBQW1CQyxjQUFuQixHQUFvQyxnQkFBZ0JwQixRQUFoQixFQUEwQnFCLFdBQTFCLEVBQXVDO0FBQ3pFLFFBQU1mLFVBQVUsR0FBRyxLQUFLQSxVQUF4QjtBQUNBLFFBQU1nQixPQUFPLEdBQUcsTUFBTWxDLE1BQU0sQ0FBQ21DLE9BQVAsQ0FBZXZCLFFBQWYsRUFBeUJxQixXQUF6QixDQUF0QjtBQUNBLFNBQU9DLE9BQVA7QUFDRCxDQUpEOztBQU1BN0IsVUFBVSxDQUFDMEIsT0FBWCxDQUFtQkssV0FBbkIsR0FBaUMsWUFBWTtBQUMzQyxTQUFPbkMsR0FBRyxDQUFDb0MsSUFBSixDQUFTO0FBQUNDLElBQUFBLEdBQUcsRUFBRSxLQUFLQTtBQUFYLEdBQVQsRUFDUEMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFVBREwsRUFDaUI7QUFDdEJDLElBQUFBLFNBQVMsRUFBRUgsT0FBTyxDQUFDQyxHQUFSLENBQVlHO0FBREQsR0FEakIsQ0FBUDtBQUlELENBTEQ7O0FBTUE3QyxRQUFRLENBQUM4QyxLQUFULENBQWUsTUFBZixFQUF1QnZDLFVBQXZCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9qb25hdGhhbmF1Z3VzdGluL0Rlc2t0b3AvV2Vic2l0ZXMvbGl2ZS1jaWNsZS9iYWNrZW5kL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoJ2JjcnlwdGpzJyk7XG5jb25zdCBqd3QgPSByZXF1aXJlKCdqc29ud2VidG9rZW4nKTtcbmNvbnN0IEV2ZW50ID0gcmVxdWlyZSgnLi4vbW9kZWxzL2V2ZW50Lm1vZGVsJyk7XG5cbnZhciBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XG52YXIgT2JqZWN0SWQgPSBTY2hlbWEuT2JqZWN0SWQ7XG5cbnZhciB1c2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIGZ1bGxOYW1lOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiAnRnVsbCBuYW1lIGNhblxcJ3QgYmUgZW1wdHknXG4gIH0sXG4gIGVtYWlsOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiAnRW1haWwgY2FuXFwndCBiZSBlbXB0eScsXG4gICAgdW5pcXVlOiB0cnVlXG4gIH0sXG4gIHBhc3N3b3JkOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiAnUGFzc3dvcmQgY2FuXFwndCBiZSBlbXB0eScsXG4gICAgbWlubGVuZ3RoOiBbNiwgJ1Bhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgNiBjaGFyYWN0ZXJzIGxvbmcnXVxuICB9LFxuICByZWxhdGlvbnNoaXBzOiB7XG4gICAgZm9sbG93ZXJzOiBbeyB0eXBlOiBTdHJpbmcsIHJlZjogXCJVc2VyXCIgfV0sXG4gICAgZm9sbG93aW5nOiBbeyB0eXBlOiBTdHJpbmcsIHJlZjogXCJVc2VyXCIgfV1cbiAgfSxcbiAgc2FsdFNlY3JldDogU3RyaW5nLFxuICBwb3N0czoge1xuICAgIHVzZXJQb3N0czogW3sgdHlwZTogU3RyaW5nfV1cbiAgfVxufSk7XG5cbi8vQ3VzdG9tIHZhbGlkYXRpb24gZm9yIGVtYWlsXG5cbnVzZXJTY2hlbWEucGF0aCgnZW1haWwnKS52YWxpZGF0ZSgodmFsKSA9PiB7XG4gIHJldHVybiAvXigoW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXF0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvLnRlc3QodmFsKTtcbn0sICdJbnZhbGlkIGUtbWFpbC4nKTtcblxudXNlclNjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbihuZXh0KSB7XG4gIGJjcnlwdC5nZW5TYWx0KDEwLCAoZXJyLCBzYWx0KSA9PiB7XG4gICAgYmNyeXB0Lmhhc2godGhpcy5wYXNzd29yZCwgc2FsdCwgKGVyciwgaGFzaCkgPT4ge1xuICAgICAgdGhpcy5wYXNzd29yZCA9IGhhc2g7XG4gICAgICB0aGlzLnNhbHRTZWNyZXQgPSBzYWx0O1xuICAgICAgbmV4dCgpO1xuICAgIH0pXG4gIH0pXG59KVxuXG4vLyBNZXRob2RzXG5cbnVzZXJTY2hlbWEubWV0aG9kcy52ZXJpZnlQYXNzd29yZCA9IGFzeW5jIGZ1bmN0aW9uIChwYXNzd29yZCwgaGFzaGVkX3Bhc3MpIHtcbiAgY29uc3Qgc2FsdFNlY3JldCA9IHRoaXMuc2FsdFNlY3JldDtcbiAgY29uc3QgaXNWYWxpZCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCBoYXNoZWRfcGFzcyk7XG4gIHJldHVybiBpc1ZhbGlkO1xufVxuXG51c2VyU2NoZW1hLm1ldGhvZHMuZ2VuZXJhdGVKd3QgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBqd3Quc2lnbih7X2lkOiB0aGlzLl9pZH0sXG4gIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQsIHtcbiAgICBleHBpcmVzSW46IHByb2Nlc3MuZW52LkpXVF9FWFBcbiAgfSk7XG59XG5tb25nb29zZS5tb2RlbCgnVXNlcicsIHVzZXJTY2hlbWEpO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "user.model.js"
      ],
      "names": [
        "mongoose",
        "require",
        "bcrypt",
        "jwt",
        "Event",
        "Schema",
        "ObjectId",
        "userSchema",
        "fullName",
        "type",
        "String",
        "required",
        "email",
        "unique",
        "password",
        "minlength",
        "relationships",
        "followers",
        "ref",
        "following",
        "saltSecret",
        "posts",
        "userPosts",
        "path",
        "validate",
        "val",
        "test",
        "pre",
        "next",
        "genSalt",
        "err",
        "salt",
        "hash",
        "methods",
        "verifyPassword",
        "hashed_pass",
        "isValid",
        "compare",
        "generateJwt",
        "sign",
        "_id",
        "process",
        "env",
        "JWT_SECRET",
        "expiresIn",
        "JWT_EXP",
        "model"
      ],
      "mappings": ";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAMC,MAAM,GAAGD,OAAO,CAAC,UAAD,CAAtB;;AACA,MAAME,GAAG,GAAGF,OAAO,CAAC,cAAD,CAAnB;;AACA,MAAMG,KAAK,GAAGH,OAAO,CAAC,uBAAD,CAArB;;AAEA,IAAII,MAAM,GAAGL,QAAQ,CAACK,MAAtB;AACA,IAAIC,QAAQ,GAAGD,MAAM,CAACC,QAAtB;AAEA,IAAIC,UAAU,GAAG,IAAIP,QAAQ,CAACK,MAAb,CAAoB;AACnCG,EAAAA,QAAQ,EAAE;AACRC,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE;AAFF,GADyB;AAKnCC,EAAAA,KAAK,EAAE;AACLH,IAAAA,IAAI,EAAEC,MADD;AAELC,IAAAA,QAAQ,EAAE,uBAFL;AAGLE,IAAAA,MAAM,EAAE;AAHH,GAL4B;AAUnCC,EAAAA,QAAQ,EAAE;AACRL,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE,0BAFF;AAGRI,IAAAA,SAAS,EAAE,CAAC,CAAD,EAAI,6CAAJ;AAHH,GAVyB;AAenCC,EAAAA,aAAa,EAAE;AACbC,IAAAA,SAAS,EAAE,CAAC;AAAER,MAAAA,IAAI,EAAEC,MAAR;AAAgBQ,MAAAA,GAAG,EAAE;AAArB,KAAD,CADE;AAEbC,IAAAA,SAAS,EAAE,CAAC;AAAEV,MAAAA,IAAI,EAAEC,MAAR;AAAgBQ,MAAAA,GAAG,EAAE;AAArB,KAAD;AAFE,GAfoB;AAmBnCE,EAAAA,UAAU,EAAEV,MAnBuB;AAoBnCW,EAAAA,KAAK,EAAE;AACLC,IAAAA,SAAS,EAAE,CAAC;AAAEb,MAAAA,IAAI,EAAEC;AAAR,KAAD;AADN;AApB4B,CAApB,CAAjB,C,CAyBA;;AAEAH,UAAU,CAACgB,IAAX,CAAgB,OAAhB,EAAyBC,QAAzB,CAAmCC,GAAD,IAAS;AACzC,SAAO,0JAA0JC,IAA1J,CAA+JD,GAA/J,CAAP;AACD,CAFD,EAEG,iBAFH;AAIAlB,UAAU,CAACoB,GAAX,CAAe,MAAf,EAAuB,UAASC,IAAT,EAAe;AACpC1B,EAAAA,MAAM,CAAC2B,OAAP,CAAe,EAAf,EAAmB,CAACC,GAAD,EAAMC,IAAN,KAAe;AAChC7B,IAAAA,MAAM,CAAC8B,IAAP,CAAY,KAAKlB,QAAjB,EAA2BiB,IAA3B,EAAiC,CAACD,GAAD,EAAME,IAAN,KAAe;AAC9C,WAAKlB,QAAL,GAAgBkB,IAAhB;AACA,WAAKZ,UAAL,GAAkBW,IAAlB;AACAH,MAAAA,IAAI;AACL,KAJD;AAKD,GAND;AAOD,CARD,E,CAUA;;AAEArB,UAAU,CAAC0B,OAAX,CAAmBC,cAAnB,GAAoC,gBAAgBpB,QAAhB,EAA0BqB,WAA1B,EAAuC;AACzE,QAAMf,UAAU,GAAG,KAAKA,UAAxB;AACA,QAAMgB,OAAO,GAAG,MAAMlC,MAAM,CAACmC,OAAP,CAAevB,QAAf,EAAyBqB,WAAzB,CAAtB;AACA,SAAOC,OAAP;AACD,CAJD;;AAMA7B,UAAU,CAAC0B,OAAX,CAAmBK,WAAnB,GAAiC,YAAY;AAC3C,SAAOnC,GAAG,CAACoC,IAAJ,CAAS;AAACC,IAAAA,GAAG,EAAE,KAAKA;AAAX,GAAT,EACPC,OAAO,CAACC,GAAR,CAAYC,UADL,EACiB;AACtBC,IAAAA,SAAS,EAAEH,OAAO,CAACC,GAAR,CAAYG;AADD,GADjB,CAAP;AAID,CALD;;AAMA7C,QAAQ,CAAC8C,KAAT,CAAe,MAAf,EAAuBvC,UAAvB",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models",
      "sourcesContent": [
        "const mongoose = require('mongoose');\nconst bcrypt = require('bcryptjs');\nconst jwt = require('jsonwebtoken');\nconst Event = require('../models/event.model');\n\nvar Schema = mongoose.Schema;\nvar ObjectId = Schema.ObjectId;\n\nvar userSchema = new mongoose.Schema({\n  fullName: {\n    type: String,\n    required: 'Full name can\\'t be empty'\n  },\n  email: {\n    type: String,\n    required: 'Email can\\'t be empty',\n    unique: true\n  },\n  password: {\n    type: String,\n    required: 'Password can\\'t be empty',\n    minlength: [6, 'Password must be at least 6 characters long']\n  },\n  relationships: {\n    followers: [{ type: String, ref: \"User\" }],\n    following: [{ type: String, ref: \"User\" }]\n  },\n  saltSecret: String,\n  posts: {\n    userPosts: [{ type: String}]\n  }\n});\n\n//Custom validation for email\n\nuserSchema.path('email').validate((val) => {\n  return /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(val);\n}, 'Invalid e-mail.');\n\nuserSchema.pre('save', function(next) {\n  bcrypt.genSalt(10, (err, salt) => {\n    bcrypt.hash(this.password, salt, (err, hash) => {\n      this.password = hash;\n      this.saltSecret = salt;\n      next();\n    })\n  })\n})\n\n// Methods\n\nuserSchema.methods.verifyPassword = async function (password, hashed_pass) {\n  const saltSecret = this.saltSecret;\n  const isValid = await bcrypt.compare(password, hashed_pass);\n  return isValid;\n}\n\nuserSchema.methods.generateJwt = function () {\n  return jwt.sign({_id: this._id},\n  process.env.JWT_SECRET, {\n    expiresIn: process.env.JWT_EXP\n  });\n}\nmongoose.model('User', userSchema);\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1580451530546
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models/event.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models/event.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models/event.model.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models/event.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models",
        "sourceFileName": "event.model.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst mongoose = require(\"mongoose\");\n\nconst Schema = mongoose.Schema;\nlet Event = new Schema({\n  eventName: {\n    type: String\n  },\n  location: {\n    type: String\n  },\n  lat: {\n    type: Number\n  },\n  long: {\n    type: Number\n  },\n  startDate: {\n    type: String\n  },\n  eventDateUntil: {\n    type: String\n  },\n  info: {\n    type: String\n  },\n  price: {\n    type: Number,\n    default: 0\n  },\n  interest: {\n    type: Number,\n    default: 0\n  },\n  eventPrivate: {\n    type: Boolean,\n    default: false\n  },\n  promoter: {\n    /*     required: true */\n  },\n  status: {\n    type: String,\n    default: 'Open'\n  }\n});\nmodule.exports = mongoose.model('Event', Event);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV2ZW50Lm1vZGVsLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsIlNjaGVtYSIsIkV2ZW50IiwiZXZlbnROYW1lIiwidHlwZSIsIlN0cmluZyIsImxvY2F0aW9uIiwibGF0IiwiTnVtYmVyIiwibG9uZyIsInN0YXJ0RGF0ZSIsImV2ZW50RGF0ZVVudGlsIiwiaW5mbyIsInByaWNlIiwiZGVmYXVsdCIsImludGVyZXN0IiwiZXZlbnRQcml2YXRlIiwiQm9vbGVhbiIsInByb21vdGVyIiwic3RhdHVzIiwibW9kdWxlIiwiZXhwb3J0cyIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBeEI7O0FBR0EsTUFBTUMsTUFBTSxHQUFHRixRQUFRLENBQUNFLE1BQXhCO0FBRUEsSUFBSUMsS0FBSyxHQUFHLElBQUlELE1BQUosQ0FBVztBQUNyQkUsRUFBQUEsU0FBUyxFQUFFO0FBQ1RDLElBQUFBLElBQUksRUFBRUM7QUFERyxHQURVO0FBSXJCQyxFQUFBQSxRQUFRLEVBQUU7QUFDUkYsSUFBQUEsSUFBSSxFQUFFQztBQURFLEdBSlc7QUFPckJFLEVBQUFBLEdBQUcsRUFBRTtBQUNISCxJQUFBQSxJQUFJLEVBQUVJO0FBREgsR0FQZ0I7QUFVckJDLEVBQUFBLElBQUksRUFBRTtBQUNKTCxJQUFBQSxJQUFJLEVBQUVJO0FBREYsR0FWZTtBQWFyQkUsRUFBQUEsU0FBUyxFQUFFO0FBQ1ROLElBQUFBLElBQUksRUFBRUM7QUFERyxHQWJVO0FBZ0JyQk0sRUFBQUEsY0FBYyxFQUFFO0FBQ2RQLElBQUFBLElBQUksRUFBRUM7QUFEUSxHQWhCSztBQW1CckJPLEVBQUFBLElBQUksRUFBRTtBQUNKUixJQUFBQSxJQUFJLEVBQUVDO0FBREYsR0FuQmU7QUFzQnJCUSxFQUFBQSxLQUFLLEVBQUU7QUFDTFQsSUFBQUEsSUFBSSxFQUFFSSxNQUREO0FBRUxNLElBQUFBLE9BQU8sRUFBRTtBQUZKLEdBdEJjO0FBMEJyQkMsRUFBQUEsUUFBUSxFQUFFO0FBQ1JYLElBQUFBLElBQUksRUFBRUksTUFERTtBQUVSTSxJQUFBQSxPQUFPLEVBQUU7QUFGRCxHQTFCVztBQThCckJFLEVBQUFBLFlBQVksRUFBRTtBQUNaWixJQUFBQSxJQUFJLEVBQUVhLE9BRE07QUFFWkgsSUFBQUEsT0FBTyxFQUFFO0FBRkcsR0E5Qk87QUFrQ3JCSSxFQUFBQSxRQUFRLEVBQUU7QUFDWjtBQURZLEdBbENXO0FBcUNyQkMsRUFBQUEsTUFBTSxFQUFFO0FBQ05mLElBQUFBLElBQUksRUFBRUMsTUFEQTtBQUVOUyxJQUFBQSxPQUFPLEVBQUU7QUFGSDtBQXJDYSxDQUFYLENBQVo7QUEyQ0FNLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnRCLFFBQVEsQ0FBQ3VCLEtBQVQsQ0FBZSxPQUFmLEVBQXdCcEIsS0FBeEIsQ0FBakIiLCJzb3VyY2VSb290IjoiL1VzZXJzL2pvbmF0aGFuYXVndXN0aW4vRGVza3RvcC9XZWJzaXRlcy9saXZlLWNpY2xlL2JhY2tlbmQvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKFwibW9uZ29vc2VcIik7XG5cblxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hO1xuXG5sZXQgRXZlbnQgPSBuZXcgU2NoZW1hKHtcbiAgZXZlbnROYW1lOiB7XG4gICAgdHlwZTogU3RyaW5nXG4gIH0sXG4gIGxvY2F0aW9uOiB7XG4gICAgdHlwZTogU3RyaW5nXG4gIH0sXG4gIGxhdDoge1xuICAgIHR5cGU6IE51bWJlclxuICB9LFxuICBsb25nOiB7XG4gICAgdHlwZTogTnVtYmVyXG4gIH0sXG4gIHN0YXJ0RGF0ZToge1xuICAgIHR5cGU6IFN0cmluZ1xuICB9LFxuICBldmVudERhdGVVbnRpbDoge1xuICAgIHR5cGU6IFN0cmluZ1xuICB9LFxuICBpbmZvOiB7XG4gICAgdHlwZTogU3RyaW5nXG4gIH0sXG4gIHByaWNlOiB7XG4gICAgdHlwZTogTnVtYmVyLFxuICAgIGRlZmF1bHQ6IDBcbiAgfSxcbiAgaW50ZXJlc3Q6IHtcbiAgICB0eXBlOiBOdW1iZXIsXG4gICAgZGVmYXVsdDogMFxuICB9LFxuICBldmVudFByaXZhdGU6IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IGZhbHNlXG4gIH0sXG4gIHByb21vdGVyOiB7XG4vKiAgICAgcmVxdWlyZWQ6IHRydWUgKi9cbiAgfSxcbiAgc3RhdHVzOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGRlZmF1bHQ6ICdPcGVuJ1xuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBtb25nb29zZS5tb2RlbCgnRXZlbnQnLCBFdmVudClcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "event.model.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Schema",
        "Event",
        "eventName",
        "type",
        "String",
        "location",
        "lat",
        "Number",
        "long",
        "startDate",
        "eventDateUntil",
        "info",
        "price",
        "default",
        "interest",
        "eventPrivate",
        "Boolean",
        "promoter",
        "status",
        "module",
        "exports",
        "model"
      ],
      "mappings": ";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AAGA,MAAMC,MAAM,GAAGF,QAAQ,CAACE,MAAxB;AAEA,IAAIC,KAAK,GAAG,IAAID,MAAJ,CAAW;AACrBE,EAAAA,SAAS,EAAE;AACTC,IAAAA,IAAI,EAAEC;AADG,GADU;AAIrBC,EAAAA,QAAQ,EAAE;AACRF,IAAAA,IAAI,EAAEC;AADE,GAJW;AAOrBE,EAAAA,GAAG,EAAE;AACHH,IAAAA,IAAI,EAAEI;AADH,GAPgB;AAUrBC,EAAAA,IAAI,EAAE;AACJL,IAAAA,IAAI,EAAEI;AADF,GAVe;AAarBE,EAAAA,SAAS,EAAE;AACTN,IAAAA,IAAI,EAAEC;AADG,GAbU;AAgBrBM,EAAAA,cAAc,EAAE;AACdP,IAAAA,IAAI,EAAEC;AADQ,GAhBK;AAmBrBO,EAAAA,IAAI,EAAE;AACJR,IAAAA,IAAI,EAAEC;AADF,GAnBe;AAsBrBQ,EAAAA,KAAK,EAAE;AACLT,IAAAA,IAAI,EAAEI,MADD;AAELM,IAAAA,OAAO,EAAE;AAFJ,GAtBc;AA0BrBC,EAAAA,QAAQ,EAAE;AACRX,IAAAA,IAAI,EAAEI,MADE;AAERM,IAAAA,OAAO,EAAE;AAFD,GA1BW;AA8BrBE,EAAAA,YAAY,EAAE;AACZZ,IAAAA,IAAI,EAAEa,OADM;AAEZH,IAAAA,OAAO,EAAE;AAFG,GA9BO;AAkCrBI,EAAAA,QAAQ,EAAE;AACZ;AADY,GAlCW;AAqCrBC,EAAAA,MAAM,EAAE;AACNf,IAAAA,IAAI,EAAEC,MADA;AAENS,IAAAA,OAAO,EAAE;AAFH;AArCa,CAAX,CAAZ;AA2CAM,MAAM,CAACC,OAAP,GAAiBtB,QAAQ,CAACuB,KAAT,CAAe,OAAf,EAAwBpB,KAAxB,CAAjB",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models",
      "sourcesContent": [
        "const mongoose = require(\"mongoose\");\n\n\nconst Schema = mongoose.Schema;\n\nlet Event = new Schema({\n  eventName: {\n    type: String\n  },\n  location: {\n    type: String\n  },\n  lat: {\n    type: Number\n  },\n  long: {\n    type: Number\n  },\n  startDate: {\n    type: String\n  },\n  eventDateUntil: {\n    type: String\n  },\n  info: {\n    type: String\n  },\n  price: {\n    type: Number,\n    default: 0\n  },\n  interest: {\n    type: Number,\n    default: 0\n  },\n  eventPrivate: {\n    type: Boolean,\n    default: false\n  },\n  promoter: {\n/*     required: true */\n  },\n  status: {\n    type: String,\n    default: 'Open'\n  }\n});\n\nmodule.exports = mongoose.model('Event', Event)\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1578431118000
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/routes/index.routes.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/routes/index.routes.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/routes/index.routes.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/routes/index.routes.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/routes",
        "sourceFileName": "index.routes.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst express = require('express');\n\nconst router = express.Router();\n\nconst ctrlUser = require('../controllers/user.controller');\n\nconst ctrlEvent = require('../controllers/event.controller');\n\nconst jwtHelper = require('../config/jwtHelper');\n\nrouter.route('/test').post(jwtHelper.verifyJwtToken, (req, res) => {\n  console.log('yes');\n  console.log('req.body:', req.body);\n  res.status(200).send(req.body);\n});\nrouter.post('/register', ctrlUser.register);\nrouter.post('/authenticate', ctrlUser.authenticate);\nrouter.post('/refresh', ctrlUser.refresh);\nrouter.post('/logout', ctrlUser.logout);\nrouter.get('/userProfile', jwtHelper.verifyJwtToken, ctrlUser.userProfile);\nrouter.get('/users', jwtHelper.verifyJwtToken, ctrlUser.users);\nrouter.post('/posts', jwtHelper.verifyJwtToken, ctrlUser.posts);\nrouter.post('/ticketmaster-events', ctrlEvent.tmEvents);\nrouter.get('/users2', ctrlUser.users);\nrouter.get(\"/profile/:email\", ctrlUser.friendProfile);\nrouter.post('/follow', jwtHelper.verifyJwtToken, ctrlUser.follow);\nrouter.get('/events', ctrlEvent.events);\nrouter.post('/events/add', jwtHelper.verifyJwtToken, ctrlEvent.addEvent);\nrouter.post('/events/upload', ctrlEvent.uploadFiles);\nrouter.route('/events/:id').get((req, res) => {\n  Event.findById(req.params.id, (err, event) => {\n    if (err) console.log(err);else res.json(event);\n  });\n});\nrouter.route('/events/update/:id').post((req, res) => {\n  Event.findById(req.params.id, (err, event) => {\n    if (!event) return next(new Error('Could not load document'));else {\n      // This may change here\n      event.eventName = req.body.eventName;\n      event.eventLocation = req.body.eventLocation;\n      event.eventLat = req.body.eventLat;\n      event.eventLng = req.body.eventLng;\n      event.eventDateFrom = req.body.eventDateFrom;\n      event.eventDateUntil = req.body.eventDateUntil;\n      event.eventDescr = req.body.eventDescr;\n      event.price = req.body.price;\n      event.eventPrivate = req.body.eventPrivate;\n      event.interest = req.body.interest;\n      event.save().then(event => {\n        res.json('Update done');\n      }).catch(err => {\n        res.status(400).send('Update failed');\n      });\n    }\n  });\n});\nrouter.route('/events/delete/:id').get((req, res) => {\n  Event.findByIdAndRemove({\n    _id: req.params.id\n  }, (err, event) => {\n    if (err) res.json(err);else res.json('Remove successfully');\n  });\n});\n/* router.post('/unfollow', function(req, res) {\n    const user_id = req.user._id;\n    const to_follow_id = req.body.follow_id;\n\n    let bulk = Follow.collection.initializeUnorderedBulkOp();\n\n    bulk.find({ 'user': Types.ObjectId(user_id) }).upsert().updateOne({\n        $pull: {\n            following: Types.ObjectId(to_follow_id)\n        }\n    });\n\n    bulk.find({ 'user': Types.ObjectId(to_follow_id) }).upsert().updateOne({\n        $pull: {\n            followers: Types.ObjectId(user_id)\n        }\n    })\n\n    bulk.execute(function(err, doc) {\n        if (err) {\n            return res.json({\n                'state': false,\n                'msg': err\n            })\n        }\n        res.json({\n            'state': true,\n            'msg': 'Unfollowed'\n        })\n    })\n}) */\n\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnJvdXRlcy5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImN0cmxVc2VyIiwiY3RybEV2ZW50Iiwiand0SGVscGVyIiwicm91dGUiLCJwb3N0IiwidmVyaWZ5Snd0VG9rZW4iLCJyZXEiLCJyZXMiLCJjb25zb2xlIiwibG9nIiwiYm9keSIsInN0YXR1cyIsInNlbmQiLCJyZWdpc3RlciIsImF1dGhlbnRpY2F0ZSIsInJlZnJlc2giLCJsb2dvdXQiLCJnZXQiLCJ1c2VyUHJvZmlsZSIsInVzZXJzIiwicG9zdHMiLCJ0bUV2ZW50cyIsImZyaWVuZFByb2ZpbGUiLCJmb2xsb3ciLCJldmVudHMiLCJhZGRFdmVudCIsInVwbG9hZEZpbGVzIiwiRXZlbnQiLCJmaW5kQnlJZCIsInBhcmFtcyIsImlkIiwiZXJyIiwiZXZlbnQiLCJqc29uIiwibmV4dCIsIkVycm9yIiwiZXZlbnROYW1lIiwiZXZlbnRMb2NhdGlvbiIsImV2ZW50TGF0IiwiZXZlbnRMbmciLCJldmVudERhdGVGcm9tIiwiZXZlbnREYXRlVW50aWwiLCJldmVudERlc2NyIiwicHJpY2UiLCJldmVudFByaXZhdGUiLCJpbnRlcmVzdCIsInNhdmUiLCJ0aGVuIiwiY2F0Y2giLCJmaW5kQnlJZEFuZFJlbW92ZSIsIl9pZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBUixFQUFmOztBQUVBLE1BQU1DLFFBQVEsR0FBR0gsT0FBTyxDQUFDLGdDQUFELENBQXhCOztBQUNBLE1BQU1JLFNBQVMsR0FBR0osT0FBTyxDQUFDLGlDQUFELENBQXpCOztBQUdBLE1BQU1LLFNBQVMsR0FBR0wsT0FBTyxDQUFDLHFCQUFELENBQXpCOztBQUNBQyxNQUFNLENBQUNLLEtBQVAsQ0FBYSxPQUFiLEVBQXNC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RUFBTUMsR0FBTixLQUFjO0FBQ25Eb0IsRUFBQUEsS0FBSyxDQUFDc0IsaUJBQU4sQ0FBd0I7QUFBQ0MsSUFBQUEsR0FBRyxFQUFFNUMsR0FBRyxDQUFDdUIsTUFBSixDQUFXQztBQUFqQixHQUF4QixFQUE4QyxDQUFDQyxHQUFELEVBQU1DLEtBQU4sS0FBZ0I7QUFDNUQsUUFBSUQsR0FBSixFQUNFeEIsR0FBRyxDQUFDMEIsSUFBSixDQUFTRixHQUFULEVBREYsS0FHRXhCLEdBQUcsQ0FBQzBCLElBQUosQ0FBUyxxQkFBVDtBQUNILEdBTEQ7QUFNRCxDQVBEO0FBU0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBZ0NBa0IsTUFBTSxDQUFDQyxPQUFQLEdBQWlCdEQsTUFBakIiLCJzb3VyY2VSb290IjoiL1VzZXJzL2pvbmF0aGFuYXVndXN0aW4vRGVza3RvcC9XZWJzaXRlcy9saXZlLWNpY2xlL2JhY2tlbmQvcm91dGVzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbmNvbnN0IGN0cmxVc2VyID0gcmVxdWlyZSgnLi4vY29udHJvbGxlcnMvdXNlci5jb250cm9sbGVyJyk7XG5jb25zdCBjdHJsRXZlbnQgPSByZXF1aXJlKCcuLi9jb250cm9sbGVycy9ldmVudC5jb250cm9sbGVyJyk7XG5cblxuY29uc3Qgand0SGVscGVyID0gcmVxdWlyZSgnLi4vY29uZmlnL2p3dEhlbHBlcicpO1xucm91dGVyLnJvdXRlKCcvdGVzdCcpLnBvc3Qoand0SGVscGVyLnZlcmlmeUp3dFRva2VuLCAocmVxLCByZXMpID0+IHtcbiAgY29uc29sZS5sb2coJ3llcycpO1xuICBjb25zb2xlLmxvZygncmVxLmJvZHk6JywgcmVxLmJvZHkpO1xuICByZXMuc3RhdHVzKDIwMCkuc2VuZChyZXEuYm9keSk7XG59KTtcbnJvdXRlci5wb3N0KCcvcmVnaXN0ZXInLCBjdHJsVXNlci5yZWdpc3Rlcik7XG5yb3V0ZXIucG9zdCgnL2F1dGhlbnRpY2F0ZScsIGN0cmxVc2VyLmF1dGhlbnRpY2F0ZSk7XG5yb3V0ZXIucG9zdCgnL3JlZnJlc2gnLCBjdHJsVXNlci5yZWZyZXNoKTtcbnJvdXRlci5wb3N0KCcvbG9nb3V0JywgY3RybFVzZXIubG9nb3V0KTtcbnJvdXRlci5nZXQoJy91c2VyUHJvZmlsZScsIGp3dEhlbHBlci52ZXJpZnlKd3RUb2tlbiwgY3RybFVzZXIudXNlclByb2ZpbGUpO1xucm91dGVyLmdldCgnL3VzZXJzJywgand0SGVscGVyLnZlcmlmeUp3dFRva2VuLCBjdHJsVXNlci51c2Vycyk7XG5yb3V0ZXIucG9zdCgnL3Bvc3RzJywgand0SGVscGVyLnZlcmlmeUp3dFRva2VuLCBjdHJsVXNlci5wb3N0cyk7XG5yb3V0ZXIucG9zdCgnL3RpY2tldG1hc3Rlci1ldmVudHMnLCBjdHJsRXZlbnQudG1FdmVudHMpO1xucm91dGVyLmdldCgnL3VzZXJzMicsIGN0cmxVc2VyLnVzZXJzKTtcbnJvdXRlci5nZXQoXCIvcHJvZmlsZS86ZW1haWxcIiwgY3RybFVzZXIuZnJpZW5kUHJvZmlsZSk7XG5yb3V0ZXIucG9zdCgnL2ZvbGxvdycsIGp3dEhlbHBlci52ZXJpZnlKd3RUb2tlbiwgY3RybFVzZXIuZm9sbG93KTtcbnJvdXRlci5nZXQoJy9ldmVudHMnLCBjdHJsRXZlbnQuZXZlbnRzKTtcbnJvdXRlci5wb3N0KCcvZXZlbnRzL2FkZCcsIGp3dEhlbHBlci52ZXJpZnlKd3RUb2tlbiwgY3RybEV2ZW50LmFkZEV2ZW50KTtcbnJvdXRlci5wb3N0KCcvZXZlbnRzL3VwbG9hZCcsIGN0cmxFdmVudC51cGxvYWRGaWxlcyk7XG5yb3V0ZXIucm91dGUoJy9ldmVudHMvOmlkJykuZ2V0KChyZXEsIHJlcykgPT4ge1xuICBFdmVudC5maW5kQnlJZChyZXEucGFyYW1zLmlkLCAoZXJyLCBldmVudCkgPT4ge1xuICAgIGlmIChlcnIpXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIGVsc2VcbiAgICAgIHJlcy5qc29uKGV2ZW50KTtcbiAgfSk7XG59KTtcblxucm91dGVyLnJvdXRlKCcvZXZlbnRzL3VwZGF0ZS86aWQnKS5wb3N0KChyZXEsIHJlcykgPT4ge1xuICBFdmVudC5maW5kQnlJZChyZXEucGFyYW1zLmlkLCAoZXJyLCBldmVudCkgPT4ge1xuICAgIGlmICghZXZlbnQpXG4gICAgICByZXR1cm4gbmV4dChuZXcgRXJyb3IoJ0NvdWxkIG5vdCBsb2FkIGRvY3VtZW50JykpO1xuICAgIGVsc2V7XG4gICAgICAvLyBUaGlzIG1heSBjaGFuZ2UgaGVyZVxuICAgICAgZXZlbnQuZXZlbnROYW1lPSByZXEuYm9keS5ldmVudE5hbWU7XG4gICAgICBldmVudC5ldmVudExvY2F0aW9uPSByZXEuYm9keS5ldmVudExvY2F0aW9uO1xuICAgICAgZXZlbnQuZXZlbnRMYXQ9IHJlcS5ib2R5LmV2ZW50TGF0O1xuICAgICAgZXZlbnQuZXZlbnRMbmc9IHJlcS5ib2R5LmV2ZW50TG5nO1xuICAgICAgZXZlbnQuZXZlbnREYXRlRnJvbT0gcmVxLmJvZHkuZXZlbnREYXRlRnJvbTtcbiAgICAgIGV2ZW50LmV2ZW50RGF0ZVVudGlsPSByZXEuYm9keS5ldmVudERhdGVVbnRpbDtcbiAgICAgIGV2ZW50LmV2ZW50RGVzY3I9IHJlcS5ib2R5LmV2ZW50RGVzY3I7XG4gICAgICBldmVudC5wcmljZT0gcmVxLmJvZHkucHJpY2U7XG4gICAgICBldmVudC5ldmVudFByaXZhdGU9IHJlcS5ib2R5LmV2ZW50UHJpdmF0ZTtcbiAgICAgIGV2ZW50LmludGVyZXN0PSByZXEuYm9keS5pbnRlcmVzdDtcblxuICAgICAgZXZlbnQuc2F2ZSgpLnRoZW4oZXZlbnQgPT4ge1xuICAgICAgICByZXMuanNvbignVXBkYXRlIGRvbmUnKTtcbiAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdVcGRhdGUgZmFpbGVkJyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbnJvdXRlci5yb3V0ZSgnL2V2ZW50cy9kZWxldGUvOmlkJykuZ2V0KChyZXEsIHJlcykgPT4ge1xuICBFdmVudC5maW5kQnlJZEFuZFJlbW92ZSh7X2lkOiByZXEucGFyYW1zLmlkfSwgKGVyciwgZXZlbnQpID0+IHtcbiAgICBpZiAoZXJyKVxuICAgICAgcmVzLmpzb24oZXJyKTtcbiAgICBlbHNlXG4gICAgICByZXMuanNvbignUmVtb3ZlIHN1Y2Nlc3NmdWxseScpO1xuICB9KVxufSlcblxuLyogcm91dGVyLnBvc3QoJy91bmZvbGxvdycsIGZ1bmN0aW9uKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgdXNlcl9pZCA9IHJlcS51c2VyLl9pZDtcbiAgICBjb25zdCB0b19mb2xsb3dfaWQgPSByZXEuYm9keS5mb2xsb3dfaWQ7XG5cbiAgICBsZXQgYnVsayA9IEZvbGxvdy5jb2xsZWN0aW9uLmluaXRpYWxpemVVbm9yZGVyZWRCdWxrT3AoKTtcblxuICAgIGJ1bGsuZmluZCh7ICd1c2VyJzogVHlwZXMuT2JqZWN0SWQodXNlcl9pZCkgfSkudXBzZXJ0KCkudXBkYXRlT25lKHtcbiAgICAgICAgJHB1bGw6IHtcbiAgICAgICAgICAgIGZvbGxvd2luZzogVHlwZXMuT2JqZWN0SWQodG9fZm9sbG93X2lkKVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBidWxrLmZpbmQoeyAndXNlcic6IFR5cGVzLk9iamVjdElkKHRvX2ZvbGxvd19pZCkgfSkudXBzZXJ0KCkudXBkYXRlT25lKHtcbiAgICAgICAgJHB1bGw6IHtcbiAgICAgICAgICAgIGZvbGxvd2VyczogVHlwZXMuT2JqZWN0SWQodXNlcl9pZClcbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICBidWxrLmV4ZWN1dGUoZnVuY3Rpb24oZXJyLCBkb2MpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKHtcbiAgICAgICAgICAgICAgICAnc3RhdGUnOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAnbXNnJzogZXJyXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgICAgICdzdGF0ZSc6IHRydWUsXG4gICAgICAgICAgICAnbXNnJzogJ1VuZm9sbG93ZWQnXG4gICAgICAgIH0pXG4gICAgfSlcbn0pICovXG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.routes.js"
      ],
      "names": [
        "express",
        "require",
        "router",
        "Router",
        "ctrlUser",
        "ctrlEvent",
        "jwtHelper",
        "route",
        "post",
        "verifyJwtToken",
        "req",
        "res",
        "console",
        "log",
        "body",
        "status",
        "send",
        "register",
        "authenticate",
        "refresh",
        "logout",
        "get",
        "userProfile",
        "users",
        "posts",
        "tmEvents",
        "friendProfile",
        "follow",
        "events",
        "addEvent",
        "uploadFiles",
        "Event",
        "findById",
        "params",
        "id",
        "err",
        "event",
        "json",
        "next",
        "Error",
        "eventName",
        "eventLocation",
        "eventLat",
        "eventLng",
        "eventDateFrom",
        "eventDateUntil",
        "eventDescr",
        "price",
        "eventPrivate",
        "interest",
        "save",
        "then",
        "catch",
        "findByIdAndRemove",
        "_id",
        "module",
        "exports"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/routes",
      "sourcesContent": [
        "const express = require('express');\nconst router = express.Router();\n\nconst ctrlUser = require('../controllers/user.controller');\nconst ctrlEvent = require('../controllers/event.controller');\n\n\nconst jwtHelper = require('../config/jwtHelper');\nrouter.route('/test').post(jwtHelper.verifyJwtToken, (req, res) => {\n  console.log('yes');\n  console.log('req.body:', req.body);\n  res.status(200).send(req.body);\n});\nrouter.post('/register', ctrlUser.register);\nrouter.post('/authenticate', ctrlUser.authenticate);\nrouter.post('/refresh', ctrlUser.refresh);\nrouter.post('/logout', ctrlUser.logout);\nrouter.get('/userProfile', jwtHelper.verifyJwtToken, ctrlUser.userProfile);\nrouter.get('/users', jwtHelper.verifyJwtToken, ctrlUser.users);\nrouter.post('/posts', jwtHelper.verifyJwtToken, ctrlUser.posts);\nrouter.post('/ticketmaster-events', ctrlEvent.tmEvents);\nrouter.get('/users2', ctrlUser.users);\nrouter.get(\"/profile/:email\", ctrlUser.friendProfile);\nrouter.post('/follow', jwtHelper.verifyJwtToken, ctrlUser.follow);\nrouter.get('/events', ctrlEvent.events);\nrouter.post('/events/add', jwtHelper.verifyJwtToken, ctrlEvent.addEvent);\nrouter.post('/events/upload', ctrlEvent.uploadFiles);\nrouter.route('/events/:id').get((req, res) => {\n  Event.findById(req.params.id, (err, event) => {\n    if (err)\n      console.log(err);\n    else\n      res.json(event);\n  });\n});\n\nrouter.route('/events/update/:id').post((req, res) => {\n  Event.findById(req.params.id, (err, event) => {\n    if (!event)\n      return next(new Error('Could not load document'));\n    else{\n      // This may change here\n      event.eventName= req.body.eventName;\n      event.eventLocation= req.body.eventLocation;\n      event.eventLat= req.body.eventLat;\n      event.eventLng= req.body.eventLng;\n      event.eventDateFrom= req.body.eventDateFrom;\n      event.eventDateUntil= req.body.eventDateUntil;\n      event.eventDescr= req.body.eventDescr;\n      event.price= req.body.price;\n      event.eventPrivate= req.body.eventPrivate;\n      event.interest= req.body.interest;\n\n      event.save().then(event => {\n        res.json('Update done');\n      }).catch(err => {\n        res.status(400).send('Update failed');\n      });\n    }\n  });\n});\n\nrouter.route('/events/delete/:id').get((req, res) => {\n  Event.findByIdAndRemove({_id: req.params.id}, (err, event) => {\n    if (err)\n      res.json(err);\n    else\n      res.json('Remove successfully');\n  })\n})\n\n/* router.post('/unfollow', function(req, res) {\n    const user_id = req.user._id;\n    const to_follow_id = req.body.follow_id;\n\n    let bulk = Follow.collection.initializeUnorderedBulkOp();\n\n    bulk.find({ 'user': Types.ObjectId(user_id) }).upsert().updateOne({\n        $pull: {\n            following: Types.ObjectId(to_follow_id)\n        }\n    });\n\n    bulk.find({ 'user': Types.ObjectId(to_follow_id) }).upsert().updateOne({\n        $pull: {\n            followers: Types.ObjectId(user_id)\n        }\n    })\n\n    bulk.execute(function(err, doc) {\n        if (err) {\n            return res.json({\n                'state': false,\n                'msg': err\n            })\n        }\n        res.json({\n            'state': true,\n            'msg': 'Unfollowed'\n        })\n    })\n}) */\n\nmodule.exports = router;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1580241289834
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/controllers/user.controller.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/controllers/user.controller.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/controllers/user.controller.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/controllers/user.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/controllers",
        "sourceFileName": "user.controller.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst mongoose = require('mongoose');\n\nconst User = mongoose.model('User');\n\nconst _ = require('lodash');\n\nconst Event = mongoose.model('Event');\n\nconst {\n  jwtEncode\n} = require('../config/jwtHelper');\n\nconst jwt = require('jsonwebtoken');\n\nconst randtoken = require('rand-token');\n\nconst passport = require('passport');\n\nconst JwtStrategy = require('passport-jwt').Strategy;\n\nconst ExtractJwt = require('passport-jwt').ExtractJwt;\n\nconst refreshTokens = {};\nconst SECRET = 'anything';\nconst passportOpts = {\n  jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\n  secretOrKey: SECRET\n};\npassport.use(new JwtStrategy(passportOpts, function (jwtPayload, done) {\n  const expirationDate = new Date(jwtPayload.exp * 1000);\n\n  if (expirationDate < new Date()) {\n    return done(null, false);\n  }\n\n  done(null, jwtPayload);\n}));\npassport.serializeUser(function (user, done) {\n  done(null, user.username);\n});\n\nmodule.exports.users = (req, res) => {\n  User.find({}, function (err, users) {\n    if (err) {\n      throw err;\n    }\n\n    res.status(200).send(users);\n  });\n};\n\nmodule.exports.posts = (req, res) => {\n  Event.find({\n    promoter: req.body.email\n  }, (err, posts) => {\n    if (err) {\n      res.send(err);\n    }\n\n    res.status(200).send(posts);\n  });\n};\n\nmodule.exports.register = (req, res) => {\n  User.create({\n    fullName: req.body.fullName,\n    email: req.body.email,\n    password: req.body.password\n  }).then(user => {\n    const {\n      email,\n      fullName\n    } = user;\n    const payload = {\n      email,\n      fullName\n    };\n    res.status(200).json({\n      'user': 'Added successfully',\n      token: jwtEncode(payload)\n    });\n  }).catch(err => {\n    if (err.code == 11000) res.status(422).send(['Duplicate email address found.']);else {\n      res.status(400).send('Failed to create new record');\n    }\n  });\n};\n\nmodule.exports.authenticate = (req, res, next) => {\n  const {\n    email,\n    password\n  } = req.body; //object destruturing\n\n  User.findOne({\n    email: email\n  }, async (err, user) => {\n    if (err) {\n      err => res.send(err);\n    }\n\n    if (!user) {\n      res.send('no User');\n    }\n\n    if (user) {\n      user.verifyPassword(password, user.password).then(isValid => {\n        if (!isValid) {\n          return res.status(401).send({\n            msg: 'Wrong username or password'\n          });\n        }\n\n        const {\n          email,\n          fullName\n        } = user;\n        const payload = {\n          email,\n          fullName\n        };\n        const jwtToken = jwt.sign(payload, 'anything', {\n          expiresIn: 500\n        });\n        const refreshToken = randtoken.uid(256);\n        refreshTokens[refreshToken] = payload;\n        return res.status(200).send({\n          msg: 'Login successful',\n          jwt: jwtToken,\n          refreshToken: refreshToken\n        });\n      }).catch(err => {\n        res.status(401).send(err);\n      });\n    }\n  });\n};\n\nmodule.exports.logout = (req, res, next) => {\n  const refreshToken = req.body.refreshToken;\n\n  if (refreshToken in refreshTokens) {\n    delete refreshTokens[refreshToken];\n  }\n\n  res.sendStatus(204);\n};\n\nmodule.exports.refresh = (req, res, next) => {\n  const refreshToken = req.body.refreshToken;\n\n  if (refreshToken in refreshTokens) {\n    /* Possible error in assignment */\n    const user = {\n      'email': refreshTokens[refreshToken].email,\n      'fullName': refreshTokens[refreshToken].fullName\n    };\n    const token = jwt.sign(user, 'anything', {\n      expiresIn: 180\n    });\n    res.json({\n      jwt: token\n    });\n  } else {\n    res.sendStatus(401);\n  }\n};\n\nmodule.exports.userProfile = (req, res, next) => {\n  User.findOne({\n    email: req.user.email\n  }, (err, user) => {\n    if (!user) {\n      return res.status(404).json({\n        status: false,\n        message: 'User record not found'\n      });\n    } else {\n      return res.status(200).json({\n        status: true,\n        user: user\n      });\n    }\n  });\n};\n\nmodule.exports.friendProfile = (req, res) => {\n  var email = req.params.email;\n  User.findOne({\n    email: email\n  }, function (err, user) {\n    if (err) {\n      return res.status(404).json({\n        status: false,\n        message: err\n      });\n    }\n\n    if (!user) {\n      return res.status(404).json({\n        status: false,\n        message: 'User record not found'\n      });\n    } else {\n      Event.find({\n        responsible: email\n      }, function (err, posts) {\n        if (err) {\n          res.sendStatus('Maybe mult ppl in different databases', err);\n        }\n      }).sort({\n        created_at: -1\n      }).exec(function (err, posts) {\n        res.status(200).send({\n          user,\n          posts\n        });\n      });\n    }\n  });\n};\n\nmodule.exports.follow = (req, res) => {\n  const userEmail = req.user.email;\n  const following = req.body.email;\n  User.findOne({\n    email: userEmail\n  }, function (err, user) {\n    if (user) {\n      user.relationships.following.push(following);\n      User.findOne({\n        email: following\n      }, function (err, user) {\n        user.relationships.followers.push(userEmail);\n        next();\n\n        if (err) {\n          res.send(err);\n        }\n      });\n    }\n\n    if (!user) {\n      res.send('no user!!');\n    }\n\n    if (err) {\n      res.send(err);\n    }\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJVc2VyIiwibW9kZWwiLCJfIiwiRXZlbnQiLCJqd3RFbmNvZGUiLCJqd3QiLCJyYW5kdG9rZW4iLCJwYXNzcG9ydCIsIkp3dFN0cmF0ZWd5IiwiU3RyYXRlZ3kiLCJFeHRyYWN0Snd0IiwicmVmcmVzaFRva2VucyIsIlNFQ1JFVCIsInBhc3Nwb3J0T3B0cyIsImp3dEZyb21SZXF1ZXN0IiwiZnJvbUF1dGhIZWFkZXJBc0JlYXJlclRva2VuIiwic2VjcmV0T3JLZXkiLCJ1c2UiLCJqd3RQYXlsb2FkIiwiZG9uZSIsImV4cGlyYXRpb25EYXRlIiwiRGF0ZSIsImV4cCIsInNlcmlhbGl6ZVVzZXIiLCJ1c2VyIiwidXNlcm5hbWUiLCJtb2R1bGUiLCJleHBvcnRzIiwidXNlcnMiLCJyZXEiLCJyZXMiLCJmaW5kIiwiZXJyIiwic3RhdHVzIiwic2VuZCIsInBvc3RzIiwicHJvbW90ZXIiLCJib2R5IiwiZW1haWwiLCJyZWdpc3RlciIsImNyZWF0ZSIsImZ1bGxOYW1lIiwicGFzc3dvcmQiLCJ0aGVuIiwicGF5bG9hZCIsImpzb24iLCJ0b2tlbiIsImNhdGNoIiwiY29kZSIsImF1dGhlbnRpY2F0ZSIsIm5leHQiLCJmaW5kT25lIiwidmVyaWZ5UGFzc3dvcmQiLCJpc1ZhbGlkIiwibXNnIiwiand0VG9rZW4iLCJzaWduIiwiZXhwaXJlc0luIiwicmVmcmVzaFRva2VuIiwidWlkIiwibG9nb3V0Iiwic2VuZFN0YXR1cyIsInJlZnJlc2giLCJ1c2VyUHJvZmlsZSIsIm1lc3NhZ2UiLCJmcmllbmRQcm9maWxlIiwicGFyYW1zIiwicmVzcG9uc2libGUiLCJzb3J0IiwiY3JlYXRlZF9hdCIsImV4ZWMiLCJmb2xsb3ciLCJ1c2VyRW1haWwiLCJmb2xsb3dpbmciLCJyZWxhdGlvbnNoaXBzIiwicHVzaCIsImZvbGxvd2VycyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxRQUFR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QUFBUixHQUFiLEVBQWlDLFVBQVV4QyxHQUFWLEVBQWVSLElBQWYsRUFBcUI7QUFDcEQsUUFBR0EsSUFBSCxFQUFTO0FBQ1BBLE1BQUFBLElBQUksQ0FBQ2tELGFBQUwsQ0FBbUJELFNBQW5CLENBQTZCRSxJQUE3QixDQUFrQ0YsU0FBbEM7QUFDQXpFLE1BQUFBLElBQUksQ0FBQ21ELE9BQUwsQ0FBYTtBQUFDYixRQUFBQSxLQUFLLEVBQUVtQztBQUFSLE9BQWIsRUFDQSxVQUFVekMsR0FBVixFQUFlUixJQUFmLEVBQXFCO0FBQ25CQSxRQUFBQSxJQUFJLENBQUNrRCxhQUFMLENBQW1CRSxTQUFuQixDQUE2QkQsSUFBN0IsQ0FBa0NILFNBQWxDO0FBQ0F0QixRQUFBQSxJQUFJOztBQUNKLFlBQUlsQixHQUFKLEVBQVM7QUFDUEYsVUFBQUEsR0FBRyxDQUFDSSxJQUFKLENBQVNGLEdBQVQ7QUFDRDtBQUNGLE9BUEQ7QUFRRDs7QUFDRCxRQUFHLENBQUNSLElBQUosRUFBVTtBQUNSTSxNQUFBQSxHQUFHLENBQUNJLElBQUosQ0FBUyxXQUFUO0FBQ0Q7O0FBQ0QsUUFBSUYsR0FBSixFQUFTO0FBQ1BGLE1BQUFBLEdBQUcsQ0FBQ0ksSUFBSixDQUFTRixHQUFUO0FBQ0Q7QUFDRixHQWxCRDtBQW9CRCxDQXZCRCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvam9uYXRoYW5hdWd1c3Rpbi9EZXNrdG9wL1dlYnNpdGVzL2xpdmUtY2ljbGUvYmFja2VuZC9jb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcbmNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbCgnVXNlcicpO1xuY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuY29uc3QgRXZlbnQgPSBtb25nb29zZS5tb2RlbCgnRXZlbnQnKTtcbmNvbnN0IHsgand0RW5jb2RlIH0gPSByZXF1aXJlKCcuLi9jb25maWcvand0SGVscGVyJyk7XG5jb25zdCBqd3QgPSByZXF1aXJlKCdqc29ud2VidG9rZW4nKTtcbmNvbnN0IHJhbmR0b2tlbiA9IHJlcXVpcmUoJ3JhbmQtdG9rZW4nKTtcbmNvbnN0IHBhc3Nwb3J0ID0gcmVxdWlyZSgncGFzc3BvcnQnKTtcbmNvbnN0IEp3dFN0cmF0ZWd5ID0gcmVxdWlyZSgncGFzc3BvcnQtand0JykuU3RyYXRlZ3k7XG5jb25zdCBFeHRyYWN0Snd0ID0gcmVxdWlyZSgncGFzc3BvcnQtand0JykuRXh0cmFjdEp3dDtcblxuY29uc3QgcmVmcmVzaFRva2VucyA9IHt9O1xuY29uc3QgU0VDUkVUID0gJ2FueXRoaW5nJztcbmNvbnN0IHBhc3Nwb3J0T3B0cyA9IHtcbiAgand0RnJvbVJlcXVlc3Q6IEV4dHJhY3RKd3QuZnJvbUF1dGhIZWFkZXJBc0JlYXJlclRva2VuKCksXG4gIHNlY3JldE9yS2V5OiBTRUNSRVRcbn07XG5cbnBhc3Nwb3J0LnVzZShuZXcgSnd0U3RyYXRlZ3kocGFzc3BvcnRPcHRzLCBmdW5jdGlvbiAoand0UGF5bG9hZCwgZG9uZSkge1xuICBjb25zdCBleHBpcmF0aW9uRGF0ZSA9IG5ldyBEYXRlKGp3dFBheWxvYWQuZXhwICogMTAwMCk7XG4gIGlmKGV4cGlyYXRpb25EYXRlIDwgbmV3IERhdGUoKSkge1xuICAgIHJldHVybiBkb25lKG51bGwsIGZhbHNlKTtcbiAgfVxuICBkb25lKG51bGwsIGp3dFBheWxvYWQpO1xufSkpO1xuXG5wYXNzcG9ydC5zZXJpYWxpemVVc2VyKGZ1bmN0aW9uICh1c2VyLCBkb25lKSB7XG4gIGRvbmUobnVsbCwgdXNlci51c2VybmFtZSlcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cy51c2VycyA9IChyZXEsIHJlcykgPT4ge1xuICBVc2VyLmZpbmQoe30sIGZ1bmN0aW9uIChlcnIsIHVzZXJzKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgICByZXMuc3RhdHVzKDIwMCkuc2VuZCh1c2Vycyk7XG4gIH0pXG59XG5cbm1vZHVsZS5leHBvcnRzLnBvc3RzID0gKHJlcSwgcmVzKSA9PiB7XG4gIEV2ZW50LmZpbmQoe3Byb21vdGVyOiByZXEuYm9keS5lbWFpbH0sIChlcnIsIHBvc3RzKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmVzLnNlbmQoZXJyKTtcbiAgICB9XG4gICAgcmVzLnN0YXR1cygyMDApLnNlbmQocG9zdHMpO1xuICB9KVxufVxuXG5tb2R1bGUuZXhwb3J0cy5yZWdpc3RlciA9IChyZXEsIHJlcykgPT4ge1xuICBVc2VyLmNyZWF0ZSh7XG4gICAgZnVsbE5hbWU6IHJlcS5ib2R5LmZ1bGxOYW1lLFxuICAgIGVtYWlsOiByZXEuYm9keS5lbWFpbCxcbiAgICBwYXNzd29yZDogcmVxLmJvZHkucGFzc3dvcmRcbiAgfSlcbiAgICAudGhlbih1c2VyID0+IHtcbiAgICAgIGNvbnN0IHsgZW1haWwsIGZ1bGxOYW1lIH0gPSB1c2VyO1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHsgZW1haWwsIGZ1bGxOYW1lIH07XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7ICd1c2VyJzogJ0FkZGVkIHN1Y2Nlc3NmdWxseScsIHRva2VuOiBqd3RFbmNvZGUocGF5bG9hZCkgfSk7XG4gICAgfSlcbiAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgIGlmIChlcnIuY29kZSA9PSAxMTAwMClcbiAgICAgICAgcmVzLnN0YXR1cyg0MjIpLnNlbmQoWydEdXBsaWNhdGUgZW1haWwgYWRkcmVzcyBmb3VuZC4nXSk7XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0ZhaWxlZCB0byBjcmVhdGUgbmV3IHJlY29yZCcpO1xuICAgICAgfVxuICAgIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cy5hdXRoZW50aWNhdGUgPSAgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnN0IHsgZW1haWwsIHBhc3N3b3JkIH0gPSByZXEuYm9keTsgLy9vYmplY3QgZGVzdHJ1dHVyaW5nXG4gIFVzZXIuZmluZE9uZSh7IGVtYWlsOiBlbWFpbH0sIGFzeW5jIChlcnIsIHVzZXIpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBlcnIgPT4gcmVzLnNlbmQoZXJyKTtcbiAgICB9XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICByZXMuc2VuZCgnbm8gVXNlcicpO1xuICAgIH1cbiAgICBpZiAodXNlcikge1xuICAgICAgdXNlci52ZXJpZnlQYXNzd29yZChwYXNzd29yZCwgdXNlci5wYXNzd29yZClcbiAgICAgICAgLnRoZW4oKGlzVmFsaWQpID0+IHtcbiAgICAgICAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1zZzogJ1dyb25nIHVzZXJuYW1lIG9yIHBhc3N3b3JkJyB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCB7IGVtYWlsLCBmdWxsTmFtZSB9ID0gdXNlcjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0geyBlbWFpbCwgZnVsbE5hbWUgfTtcbiAgICAgICAgICBjb25zdCBqd3RUb2tlbiA9IGp3dC5zaWduKHBheWxvYWQsICdhbnl0aGluZycsIHtleHBpcmVzSW46IDUwMH0pO1xuICAgICAgICAgIGNvbnN0IHJlZnJlc2hUb2tlbiA9IHJhbmR0b2tlbi51aWQoMjU2KTtcbiAgICAgICAgICByZWZyZXNoVG9rZW5zW3JlZnJlc2hUb2tlbl0gPSBwYXlsb2FkO1xuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IG1zZzogJ0xvZ2luIHN1Y2Nlc3NmdWwnLCBqd3Q6IGp3dFRva2VuLCByZWZyZXNoVG9rZW46IHJlZnJlc2hUb2tlbiB9KTtcbiAgICAgICAgfSkuY2F0Y2goKGVycik9PiB7XG4gICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMubG9nb3V0ID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnN0IHJlZnJlc2hUb2tlbiA9IHJlcS5ib2R5LnJlZnJlc2hUb2tlbjtcbiAgaWYgKHJlZnJlc2hUb2tlbiBpbiByZWZyZXNoVG9rZW5zKSB7XG4gICAgZGVsZXRlIHJlZnJlc2hUb2tlbnNbcmVmcmVzaFRva2VuXTtcbiAgfVxuICByZXMuc2VuZFN0YXR1cygyMDQpO1xufVxuXG5tb2R1bGUuZXhwb3J0cy5yZWZyZXNoID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnN0IHJlZnJlc2hUb2tlbiA9IHJlcS5ib2R5LnJlZnJlc2hUb2tlbjtcblxuICBpZiAocmVmcmVzaFRva2VuIGluIHJlZnJlc2hUb2tlbnMpIHtcbiAgICAvKiBQb3NzaWJsZSBlcnJvciBpbiBhc3NpZ25tZW50ICovXG4gICAgY29uc3QgdXNlciA9IHtcbiAgICAgICdlbWFpbCc6IHJlZnJlc2hUb2tlbnNbcmVmcmVzaFRva2VuXS5lbWFpbCxcbiAgICAgICdmdWxsTmFtZSc6IHJlZnJlc2hUb2tlbnNbcmVmcmVzaFRva2VuXS5mdWxsTmFtZVxuICAgIH1cbiAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHVzZXIsICdhbnl0aGluZycsIHtleHBpcmVzSW46IDE4MH0pO1xuICAgIHJlcy5qc29uKHtqd3Q6IHRva2VufSlcbiAgfVxuICBlbHNlIHtcbiAgICByZXMuc2VuZFN0YXR1cyg0MDEpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzLnVzZXJQcm9maWxlID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIFVzZXIuZmluZE9uZSh7IGVtYWlsOiByZXEudXNlci5lbWFpbCB9LFxuICAgIChlcnIsIHVzZXIpID0+IHtcbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBzdGF0dXM6IGZhbHNlLCBtZXNzYWdlOiAnVXNlciByZWNvcmQgbm90IGZvdW5kJyB9KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdGF0dXM6IHRydWUsIHVzZXI6IHVzZXIgfSk7XG4gICAgICB9XG4gICAgfVxuICApO1xufVxuXG5tb2R1bGUuZXhwb3J0cy5mcmllbmRQcm9maWxlID0gKHJlcSwgcmVzKSA9PiB7XG4gIHZhciBlbWFpbCA9IHJlcS5wYXJhbXMuZW1haWw7XG5cbiAgVXNlci5maW5kT25lKHsgZW1haWw6IGVtYWlsIH0sIGZ1bmN0aW9uIChlcnIsIHVzZXIpIHtcbiAgICBpZiAoZXJyKXtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IHN0YXR1czogZmFsc2UsIG1lc3NhZ2U6IGVyciB9KTtcbiAgICB9XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBzdGF0dXM6IGZhbHNlLCBtZXNzYWdlOiAnVXNlciByZWNvcmQgbm90IGZvdW5kJyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgRXZlbnRcbiAgICAgICAgLmZpbmQoeyByZXNwb25zaWJsZTogZW1haWwgfSwgZnVuY3Rpb24gKGVyciwgcG9zdHMpIHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICByZXMuc2VuZFN0YXR1cygnTWF5YmUgbXVsdCBwcGwgaW4gZGlmZmVyZW50IGRhdGFiYXNlcycsIGVycilcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5zb3J0KHsgY3JlYXRlZF9hdDogLTEgfSlcbiAgICAgICAgLmV4ZWMoZnVuY3Rpb24gKGVyciwgcG9zdHMpIHtcbiAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZCh7dXNlciwgcG9zdHN9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMuZm9sbG93ID0gKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHVzZXJFbWFpbCA9IHJlcS51c2VyLmVtYWlsO1xuICBjb25zdCBmb2xsb3dpbmcgPSByZXEuYm9keS5lbWFpbDtcbiAgVXNlci5maW5kT25lKHtlbWFpbDogdXNlckVtYWlsfSwgZnVuY3Rpb24gKGVyciwgdXNlcikge1xuICAgIGlmKHVzZXIpIHtcbiAgICAgIHVzZXIucmVsYXRpb25zaGlwcy5mb2xsb3dpbmcucHVzaChmb2xsb3dpbmcpO1xuICAgICAgVXNlci5maW5kT25lKHtlbWFpbDogZm9sbG93aW5nfSxcbiAgICAgIGZ1bmN0aW9uIChlcnIsIHVzZXIpIHtcbiAgICAgICAgdXNlci5yZWxhdGlvbnNoaXBzLmZvbGxvd2Vycy5wdXNoKHVzZXJFbWFpbCk7XG4gICAgICAgIG5leHQoKTtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJlcy5zZW5kKGVycik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZighdXNlcikge1xuICAgICAgcmVzLnNlbmQoJ25vIHVzZXIhIScpO1xuICAgIH1cbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXMuc2VuZChlcnIpO1xuICAgIH1cbiAgfSk7XG5cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "user.controller.js"
      ],
      "names": [
        "mongoose",
        "require",
        "User",
        "model",
        "_",
        "Event",
        "jwtEncode",
        "jwt",
        "randtoken",
        "passport",
        "JwtStrategy",
        "Strategy",
        "ExtractJwt",
        "refreshTokens",
        "SECRET",
        "passportOpts",
        "jwtFromRequest",
        "fromAuthHeaderAsBearerToken",
        "secretOrKey",
        "use",
        "jwtPayload",
        "done",
        "expirationDate",
        "Date",
        "exp",
        "serializeUser",
        "user",
        "username",
        "module",
        "exports",
        "users",
        "req",
        "res",
        "find",
        "err",
        "status",
        "send",
        "posts",
        "promoter",
        "body",
        "email",
        "register",
        "create",
        "fullName",
        "password",
        "then",
        "payload",
        "json",
        "token",
        "catch",
        "code",
        "authenticate",
        "next",
        "findOne",
        "verifyPassword",
        "isValid",
        "msg",
        "jwtToken",
        "sign",
        "expiresIn",
        "refreshToken",
        "uid",
        "logout",
        "sendStatus",
        "refresh",
        "userProfile",
        "message",
        "friendProfile",
        "params",
        "responsible",
        "sort",
        "created_at",
        "exec",
        "follow",
        "userEmail",
        "following",
        "relationships",
        "push",
        "followers"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/controllers",
      "sourcesContent": [
        "const mongoose = require('mongoose');\nconst User = mongoose.model('User');\nconst _ = require('lodash');\nconst Event = mongoose.model('Event');\nconst { jwtEncode } = require('../config/jwtHelper');\nconst jwt = require('jsonwebtoken');\nconst randtoken = require('rand-token');\nconst passport = require('passport');\nconst JwtStrategy = require('passport-jwt').Strategy;\nconst ExtractJwt = require('passport-jwt').ExtractJwt;\n\nconst refreshTokens = {};\nconst SECRET = 'anything';\nconst passportOpts = {\n  jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\n  secretOrKey: SECRET\n};\n\npassport.use(new JwtStrategy(passportOpts, function (jwtPayload, done) {\n  const expirationDate = new Date(jwtPayload.exp * 1000);\n  if(expirationDate < new Date()) {\n    return done(null, false);\n  }\n  done(null, jwtPayload);\n}));\n\npassport.serializeUser(function (user, done) {\n  done(null, user.username)\n});\n\nmodule.exports.users = (req, res) => {\n  User.find({}, function (err, users) {\n    if (err) {\n      throw err;\n    }\n    res.status(200).send(users);\n  })\n}\n\nmodule.exports.posts = (req, res) => {\n  Event.find({promoter: req.body.email}, (err, posts) => {\n    if (err) {\n      res.send(err);\n    }\n    res.status(200).send(posts);\n  })\n}\n\nmodule.exports.register = (req, res) => {\n  User.create({\n    fullName: req.body.fullName,\n    email: req.body.email,\n    password: req.body.password\n  })\n    .then(user => {\n      const { email, fullName } = user;\n      const payload = { email, fullName };\n      res.status(200).json({ 'user': 'Added successfully', token: jwtEncode(payload) });\n    })\n    .catch(err => {\n      if (err.code == 11000)\n        res.status(422).send(['Duplicate email address found.']);\n      else {\n        res.status(400).send('Failed to create new record');\n      }\n    });\n}\n\nmodule.exports.authenticate =  (req, res, next) => {\n  const { email, password } = req.body; //object destruturing\n  User.findOne({ email: email}, async (err, user) => {\n    if (err) {\n      err => res.send(err);\n    }\n    if (!user) {\n      res.send('no User');\n    }\n    if (user) {\n      user.verifyPassword(password, user.password)\n        .then((isValid) => {\n          if (!isValid) {\n            return res.status(401).send({ msg: 'Wrong username or password' });\n          }\n\n          const { email, fullName } = user;\n          const payload = { email, fullName };\n          const jwtToken = jwt.sign(payload, 'anything', {expiresIn: 500});\n          const refreshToken = randtoken.uid(256);\n          refreshTokens[refreshToken] = payload;\n          return res.status(200).send({ msg: 'Login successful', jwt: jwtToken, refreshToken: refreshToken });\n        }).catch((err)=> {\n          res.status(401).send(err);\n        });\n    }\n  });\n}\n\nmodule.exports.logout = (req, res, next) => {\n  const refreshToken = req.body.refreshToken;\n  if (refreshToken in refreshTokens) {\n    delete refreshTokens[refreshToken];\n  }\n  res.sendStatus(204);\n}\n\nmodule.exports.refresh = (req, res, next) => {\n  const refreshToken = req.body.refreshToken;\n\n  if (refreshToken in refreshTokens) {\n    /* Possible error in assignment */\n    const user = {\n      'email': refreshTokens[refreshToken].email,\n      'fullName': refreshTokens[refreshToken].fullName\n    }\n    const token = jwt.sign(user, 'anything', {expiresIn: 180});\n    res.json({jwt: token})\n  }\n  else {\n    res.sendStatus(401);\n  }\n}\n\nmodule.exports.userProfile = (req, res, next) => {\n  User.findOne({ email: req.user.email },\n    (err, user) => {\n      if (!user) {\n        return res.status(404).json({ status: false, message: 'User record not found' });\n      }\n      else {\n        return res.status(200).json({ status: true, user: user });\n      }\n    }\n  );\n}\n\nmodule.exports.friendProfile = (req, res) => {\n  var email = req.params.email;\n\n  User.findOne({ email: email }, function (err, user) {\n    if (err){\n      return res.status(404).json({ status: false, message: err });\n    }\n    if (!user) {\n      return res.status(404).json({ status: false, message: 'User record not found' });\n    } else {\n      Event\n        .find({ responsible: email }, function (err, posts) {\n          if (err) {\n            res.sendStatus('Maybe mult ppl in different databases', err)\n          }\n        })\n        .sort({ created_at: -1 })\n        .exec(function (err, posts) {\n          res.status(200).send({user, posts});\n        });\n    }\n  });\n}\n\nmodule.exports.follow = (req, res) => {\n  const userEmail = req.user.email;\n  const following = req.body.email;\n  User.findOne({email: userEmail}, function (err, user) {\n    if(user) {\n      user.relationships.following.push(following);\n      User.findOne({email: following},\n      function (err, user) {\n        user.relationships.followers.push(userEmail);\n        next();\n        if (err) {\n          res.send(err);\n        }\n      });\n    }\n    if(!user) {\n      res.send('no user!!');\n    }\n    if (err) {\n      res.send(err);\n    }\n  });\n\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1580451482594
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/config\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/config/jwtHelper.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/config",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/config/jwtHelper.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/config/jwtHelper.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/config/jwtHelper.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/config",
        "sourceFileName": "jwtHelper.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst jwt = require('jsonwebtoken');\n\nexports.jwtEncode = payload => {\n  return jwt.sign({\n    payload\n  }, 'anything');\n};\n\nexports.verifyJwtToken = (req, res, next) => {\n  if ('authorization' in req.headers) {\n    const token = req.headers['authorization'].split(' ')[1];\n    jwt.verify(token, 'anything', (err, decoded) => {\n      if (err) {\n        res.status(401).send({\n          auth: false,\n          message: 'Token authentication failed.'\n        });\n      } else {\n        req.user = decoded;\n        next();\n      }\n    });\n  } else {\n    res.status(403).send({\n      auth: false,\n      message: 'No token provided.'\n    });\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImp3dEhlbHBlci5qcyJdLCJuYW1lcyI6WyJqd3QiLCJyZXF1aXJlIiwiZXhwb3J0cyIsImp3dEVuY29kZSIsInBheWxvYWQiLCJzaWduIiwidmVyaWZ5Snd0VG9rZW4iLCJyZXEiLCJyZXMiLCJuZXh0IiwiaGVhZGVycyIsInRva2VuIiwic3BsaXQiLCJ2ZXJpZnkiLCJlcnIiLCJkZWNvZGVkIiwic3RhdHVzIiwic2VuZCIsImF1dGgiLCJtZXNzYWdlIiwidXNlciJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQyxjQUFELENBQW5COztBQUVBQyxPQUFPLENBQUNDLFNBQVIsR0FBb0JDLE9BQU8sSUFBSTtBQUM3QixTQUFPSixHQUFHLENBQUNLLElBQUosQ0FBUztBQUFDRCxJQUFBQTtBQUFELEdBQVQsRUFBb0IsVUFBcEIsQ0FBUDtBQUNELENBRkQ7O0FBSUFGLE9BQU8sQ0FBQ0ksY0FBUixHQUF5QixDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUMzQyxNQUFJLG1CQUFtQkYsR0FBRyxDQUFDRyxPQUEzQixFQUFvQztBQUNsQyxVQUFNQyxLQUFLLEdBQUdKLEdBQUcsQ0FBQ0csT0FBSixDQUFZLGVBQVosRUFBNkJFLEtBQTdCLENBQW1DLEdBQW5DLEVBQXdDLENBQXhDLENBQWQ7QUFDQVosSUFBQUEsR0FBRyxDQUFDYSxNQUFKLENBQVdGLEtBQVgsRUFBa0IsVUFBbEIsRUFDRSxDQUFDRyxHQUFELEVBQU1DLE9BQU4sS0FBa0I7QUFDaEIsVUFBSUQsR0FBSixFQUFTO0FBQ1BOLFFBQUFBLEdBQUcsQ0FBQ1EsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLFVBQUFBLElBQUksRUFBRSxLQUFSO0FBQWVDLFVBQUFBLE9BQU8sRUFBRTtBQUF4QixTQUFyQjtBQUNELE9BRkQsTUFHSztBQUNIWixRQUFBQSxHQUFHLENBQUNhLElBQUosR0FBV0wsT0FBWDtBQUNBTixRQUFBQSxJQUFJO0FBQ0w7QUFDRixLQVRIO0FBVUQsR0FaRCxNQVlPO0FBQ0xELElBQUFBLEdBQUcsQ0FBQ1EsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLE1BQUFBLElBQUksRUFBRSxLQUFSO0FBQWVDLE1BQUFBLE9BQU8sRUFBRTtBQUF4QixLQUFyQjtBQUNEO0FBQ0YsQ0FoQkQiLCJzb3VyY2VSb290IjoiL1VzZXJzL2pvbmF0aGFuYXVndXN0aW4vRGVza3RvcC9XZWJzaXRlcy9saXZlLWNpY2xlL2JhY2tlbmQvY29uZmlnIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgand0ID0gcmVxdWlyZSgnanNvbndlYnRva2VuJyk7XG5cbmV4cG9ydHMuand0RW5jb2RlID0gcGF5bG9hZCA9PiB7XG4gIHJldHVybiBqd3Quc2lnbih7cGF5bG9hZH0sICdhbnl0aGluZycpO1xufVxuXG5leHBvcnRzLnZlcmlmeUp3dFRva2VuID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGlmICgnYXV0aG9yaXphdGlvbicgaW4gcmVxLmhlYWRlcnMpIHtcbiAgICBjb25zdCB0b2tlbiA9IHJlcS5oZWFkZXJzWydhdXRob3JpemF0aW9uJ10uc3BsaXQoJyAnKVsxXTtcbiAgICBqd3QudmVyaWZ5KHRva2VuLCAnYW55dGhpbmcnLFxuICAgICAgKGVyciwgZGVjb2RlZCkgPT4ge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBhdXRoOiBmYWxzZSwgbWVzc2FnZTogJ1Rva2VuIGF1dGhlbnRpY2F0aW9uIGZhaWxlZC4nIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJlcS51c2VyID0gZGVjb2RlZDtcbiAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gIH0gZWxzZSB7XG4gICAgcmVzLnN0YXR1cyg0MDMpLnNlbmQoeyBhdXRoOiBmYWxzZSwgbWVzc2FnZTogJ05vIHRva2VuIHByb3ZpZGVkLicgfSk7XG4gIH1cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "jwtHelper.js"
      ],
      "names": [
        "jwt",
        "require",
        "exports",
        "jwtEncode",
        "payload",
        "sign",
        "verifyJwtToken",
        "req",
        "res",
        "next",
        "headers",
        "token",
        "split",
        "verify",
        "err",
        "decoded",
        "status",
        "send",
        "auth",
        "message",
        "user"
      ],
      "mappings": ";;AAAA,MAAMA,GAAG,GAAGC,OAAO,CAAC,cAAD,CAAnB;;AAEAC,OAAO,CAACC,SAAR,GAAoBC,OAAO,IAAI;AAC7B,SAAOJ,GAAG,CAACK,IAAJ,CAAS;AAACD,IAAAA;AAAD,GAAT,EAAoB,UAApB,CAAP;AACD,CAFD;;AAIAF,OAAO,CAACI,cAAR,GAAyB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC3C,MAAI,mBAAmBF,GAAG,CAACG,OAA3B,EAAoC;AAClC,UAAMC,KAAK,GAAGJ,GAAG,CAACG,OAAJ,CAAY,eAAZ,EAA6BE,KAA7B,CAAmC,GAAnC,EAAwC,CAAxC,CAAd;AACAZ,IAAAA,GAAG,CAACa,MAAJ,CAAWF,KAAX,EAAkB,UAAlB,EACE,CAACG,GAAD,EAAMC,OAAN,KAAkB;AAChB,UAAID,GAAJ,EAAS;AACPN,QAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,IAAI,EAAE,KAAR;AAAeC,UAAAA,OAAO,EAAE;AAAxB,SAArB;AACD,OAFD,MAGK;AACHZ,QAAAA,GAAG,CAACa,IAAJ,GAAWL,OAAX;AACAN,QAAAA,IAAI;AACL;AACF,KATH;AAUD,GAZD,MAYO;AACLD,IAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,IAAI,EAAE,KAAR;AAAeC,MAAAA,OAAO,EAAE;AAAxB,KAArB;AACD;AACF,CAhBD",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/config",
      "sourcesContent": [
        "const jwt = require('jsonwebtoken');\n\nexports.jwtEncode = payload => {\n  return jwt.sign({payload}, 'anything');\n}\n\nexports.verifyJwtToken = (req, res, next) => {\n  if ('authorization' in req.headers) {\n    const token = req.headers['authorization'].split(' ')[1];\n    jwt.verify(token, 'anything',\n      (err, decoded) => {\n        if (err) {\n          res.status(401).send({ auth: false, message: 'Token authentication failed.' });\n        }\n        else {\n          req.user = decoded;\n          next();\n        }\n      })\n  } else {\n    res.status(403).send({ auth: false, message: 'No token provided.' });\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1580451469000
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/controllers/event.controller.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/controllers/event.controller.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/controllers/event.controller.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/controllers/event.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/controllers",
        "sourceFileName": "event.controller.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst mongoose = require('mongoose');\n\nconst Event = mongoose.model('Event');\n\nconst axios = require('axios');\n\nconst crypto = require('crypto');\n\nconst multer = require('multer');\n\nconst methodOverride = require('method-override');\n\nconst {\n  saveFileFromStream\n} = require('../lib/azure-connect');\n\nconst User = mongoose.model('User');\nmodule.exports = {\n  events: (req, res) => {\n    Event.find((err, events) => {\n      if (err) res.send(err);else res.status(200).send(events);\n    });\n  },\n  tmEvents: (req, res) => {\n    /*   adding it to this query */\n    const {\n      hash\n    } = req.body;\n    axios.get('http://app.ticketmaster.com/discovery/v2/events.json?apikey=hneV7jzq6Uz7IyQC7GtEHz5s2nTsU6Jm&page=0&size=200&geoPoint=' + hash + '&sort=distance,date,asc')\n    /*       .then( function (tmEvents) {\n            return tmEvents.json();\n          }) */\n    .then(json => {\n      res.send(json.data._embedded.events);\n    }).catch(err => {\n      res.send(err);\n    });\n  },\n  addEvent: (req, res) => {\n    Event.create({\n      eventName: req.body.eventName,\n      location: req.body.eventLocation,\n      lat: req.body.eventLat,\n      long: req.body.eventLng,\n      startDate: req.body.eventDateFrom,\n      eventDateUntil: req.body.eventDateUntil,\n      info: req.body.eventDescr,\n      price: req.body.price,\n      status: req.body.status,\n      promoter: req.user.email\n    }).then(event => {\n      User.findOne({\n        email: event.promoter\n      }, function (err, user) {\n        if (!user) return next(new Error('Could not load document'));else {\n          user.posts.userPosts.push(event._id);\n          user.save();\n          res.status(200).send({\n            'event': 'Added successfully'\n          });\n        }\n      });\n    }).catch(err => {\n      res.status(400).send('Failed to create new record because', err);\n    });\n  },\n  uploadFiles: async (req, res) => {\n    try {\n      const {\n        stream,\n        filename,\n        mimetype,\n        encoding,\n        size\n      } = req.file;\n      await saveFileFromStream(userSetting.privateKey, userSetting.map, filename, stream, size);\n      res.send(200);\n    } catch (error) {\n      res.status(500).send(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV2ZW50LmNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJyZXF1aXJlIiwiRXZlbnQiLCJtb2RlbCIsImF4aW9zIiwiY3J5cHRvIiwibXVsdGVyIiwibWV0aG9kT3ZlcnJpZGUiLCJzYXZlRmlsZUZyb21TdHJlYW0iLCJVc2VyIiwibW9kdWxlIiwiZXhwb3J0cyIsImV2ZW50cyIsInJlcSIsInJlcyIsImZpbmQiLCJlcnIiLCJzZW5kIiwic3RhdHVzIiwidG1FdmVudHMiLCJoYXNoIiwiYm9keSIsImdldCIsInRoZW4iLCJqc29uIiwiZGF0YSIsIl9lbWJlZGRlZCIsImNhdGNoIiwiYWRkRXZlbnQiLCJjcmVhdGUiLCJldmVudE5hbWUiLCJsb2NhdGlvbiIsImV2ZW50TG9jYXRpb24iLCJsYXQiLCJldmVudExhdCIsImxvbmciLCJldmVudExuZyIsInN0YXJ0RGF0ZSIsImV2ZW50RGF0ZUZyb20iLCJldmVudERhdGVVbnRpbCIsImluZm8iLCJldmVudERlc2NyIiwicHJpY2UiLCJwcm9tb3RlciIsInVzZXIiLCJlbWFpbCIsImV2ZW50IiwiZmluZE9uZSIsIm5leHQiLCJFcnJvciIsInBvc3RzIiwidXNlclBvc3RzIiwicHVzaCIsIl9pZCIsInNhdmUiLCJ1cGxvYWRGaWxlcyIsInN0cmVhbSIsImZpbGVuYW1lIiwibWltZXR5cGUiLCJlbmNvZGluZyIsInNpemUiLCJmaWxlIiwidXNlclNldHRpbmciLCJwcml2YXRlS2V5IiwibWFwIiwiZXJyb3IiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBRCxDQUF4Qjs7QUFDQSxNQUFNQyxLQUFLLEdBQUdGLFFBQVEsQ0FBQ0csS0FBVCxDQUFlLE9BQWYsQ0FBZDs7QUFDQSxNQUFNQyxLQUFLLEdBQUdILE9BQU8sQ0FBQyxPQUFELENBQXJCOztBQUNBLE1BQU1JLE1BQU0sR0FBR0osT0FBTyxDQUFDLFFBQUQsQ0FBdEI7O0FBQ0EsTUFBTUssTUFBTSxH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R0FBWCxFQUFnQkQsSUFBaEIsQ0FBcUI7QUFBQyxxQkFBUztBQUFWLFdBQXJCO0FBQ0g7QUFDRixPQVJDO0FBVUgsS0F2QkQsRUF3QkdVLEtBeEJILENBd0JTWCxHQUFHLElBQUk7QUFDUkYsTUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkQsSUFBaEIsQ0FBcUIscUNBQXJCLEVBQTRERCxHQUE1RDtBQUNMLEtBMUJIO0FBMkJELEdBckRjO0FBc0RmdUMsRUFBQUEsV0FBVyxFQUFFLE9BQU8xQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDL0IsUUFBSTtBQUNGLFlBQU07QUFBRTBDLFFBQUFBLE1BQUY7QUFBVUMsUUFBQUEsUUFBVjtBQUFvQkMsUUFBQUEsUUFBcEI7QUFBOEJDLFFBQUFBLFFBQTlCO0FBQXdDQyxRQUFBQTtBQUF4QyxVQUFpRC9DLEdBQUcsQ0FBQ2dELElBQTNEO0FBRUEsWUFBTXJELGtCQUFrQixDQUN0QnNELFdBQVcsQ0FBQ0MsVUFEVSxFQUV0QkQsV0FBVyxDQUFDRSxHQUZVLEVBR3RCUCxRQUhzQixFQUl0QkQsTUFKc0IsRUFLdEJJLElBTHNCLENBQXhCO0FBT0E5QyxNQUFBQSxHQUFHLENBQUNHLElBQUosQ0FBUyxHQUFUO0FBQ0QsS0FYRCxDQVdFLE9BQU9nRCxLQUFQLEVBQWM7QUFDZG5ELE1BQUFBLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JELElBQWhCLENBQXFCZ0QsS0FBckI7QUFDRDtBQUNGO0FBckVjLENBQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9qb25hdGhhbmF1Z3VzdGluL0Rlc2t0b3AvV2Vic2l0ZXMvbGl2ZS1jaWNsZS9iYWNrZW5kL2NvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xuY29uc3QgRXZlbnQgPSBtb25nb29zZS5tb2RlbCgnRXZlbnQnKTtcbmNvbnN0IGF4aW9zID0gcmVxdWlyZSgnYXhpb3MnKTtcbmNvbnN0IGNyeXB0byA9IHJlcXVpcmUoJ2NyeXB0bycpO1xuY29uc3QgbXVsdGVyID0gcmVxdWlyZSgnbXVsdGVyJyk7XG5jb25zdCBtZXRob2RPdmVycmlkZSA9IHJlcXVpcmUoJ21ldGhvZC1vdmVycmlkZScpO1xuY29uc3QgeyBzYXZlRmlsZUZyb21TdHJlYW0gfSA9IHJlcXVpcmUoJy4uL2xpYi9henVyZS1jb25uZWN0Jyk7XG5jb25zdCBVc2VyID0gbW9uZ29vc2UubW9kZWwoJ1VzZXInKTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZXZlbnRzOiAocmVxLCByZXMpID0+IHtcbiAgICBFdmVudC5maW5kKChlcnIsIGV2ZW50cykgPT4ge1xuICAgICAgaWYgKGVycikgcmVzLnNlbmQoZXJyKTtcbiAgICAgIGVsc2UgcmVzLnN0YXR1cygyMDApLnNlbmQoZXZlbnRzKTtcbiAgICB9KTtcbiAgfSxcbiAgdG1FdmVudHM6IChyZXEsIHJlcykgPT4ge1xuICAgIC8qICAgYWRkaW5nIGl0IHRvIHRoaXMgcXVlcnkgKi9cbiAgICBjb25zdCB7IGhhc2ggfSA9IHJlcS5ib2R5O1xuICAgIGF4aW9zLmdldChcbiAgICAgICAgJ2h0dHA6Ly9hcHAudGlja2V0bWFzdGVyLmNvbS9kaXNjb3ZlcnkvdjIvZXZlbnRzLmpzb24/YXBpa2V5PWhuZVY3anpxNlV6N0l5UUM3R3RFSHo1czJuVHNVNkptJnBhZ2U9MCZzaXplPTIwMCZnZW9Qb2ludD0nICtcbiAgICAgICAgICBoYXNoICtcbiAgICAgICAgICAnJnNvcnQ9ZGlzdGFuY2UsZGF0ZSxhc2MnXG4gICAgICApXG4vKiAgICAgICAudGhlbiggZnVuY3Rpb24gKHRtRXZlbnRzKSB7XG4gICAgICAgIHJldHVybiB0bUV2ZW50cy5qc29uKCk7XG4gICAgICB9KSAqL1xuICAgICAgLnRoZW4oanNvbiA9PiB7XG4gICAgICAgIHJlcy5zZW5kKGpzb24uZGF0YS5fZW1iZWRkZWQuZXZlbnRzKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgcmVzLnNlbmQoZXJyKTtcbiAgICAgIH0pO1xuICB9LFxuICBhZGRFdmVudDogKHJlcSwgcmVzKSA9PiB7XG4gICAgRXZlbnQuY3JlYXRlKHtcbiAgICAgIGV2ZW50TmFtZTogcmVxLmJvZHkuZXZlbnROYW1lLFxuICAgICAgbG9jYXRpb246IHJlcS5ib2R5LmV2ZW50TG9jYXRpb24sXG4gICAgICBsYXQ6IHJlcS5ib2R5LmV2ZW50TGF0LFxuICAgICAgbG9uZzogcmVxLmJvZHkuZXZlbnRMbmcsXG4gICAgICBzdGFydERhdGU6IHJlcS5ib2R5LmV2ZW50RGF0ZUZyb20sXG4gICAgICBldmVudERhdGVVbnRpbDogcmVxLmJvZHkuZXZlbnREYXRlVW50aWwsXG4gICAgICBpbmZvOiByZXEuYm9keS5ldmVudERlc2NyLFxuICAgICAgcHJpY2U6IHJlcS5ib2R5LnByaWNlLFxuICAgICAgc3RhdHVzOiByZXEuYm9keS5zdGF0dXMsXG4gICAgICBwcm9tb3RlcjogcmVxLnVzZXIuZW1haWwsXG4gICAgfSlcbiAgICAgIC50aGVuKGV2ZW50ID0+IHtcbiAgICAgICAgVXNlci5maW5kT25lKHsgZW1haWw6IGV2ZW50LnByb21vdGVyfSwgZnVuY3Rpb24gKGVyciwgdXNlcikge1xuICAgICAgICAgIGlmICghdXNlcilcbiAgICAgICAgICByZXR1cm4gbmV4dChuZXcgRXJyb3IoJ0NvdWxkIG5vdCBsb2FkIGRvY3VtZW50JykpO1xuICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICB1c2VyLnBvc3RzLnVzZXJQb3N0cy5wdXNoKGV2ZW50Ll9pZCk7XG4gICAgICAgICAgICB1c2VyLnNhdmUoKTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsnZXZlbnQnOiAnQWRkZWQgc3VjY2Vzc2Z1bGx5J30pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICApXG4gICAgfSlcbiAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0ZhaWxlZCB0byBjcmVhdGUgbmV3IHJlY29yZCBiZWNhdXNlJywgZXJyKTtcbiAgICAgIH0pO1xuICB9LFxuICB1cGxvYWRGaWxlczogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgc3RyZWFtLCBmaWxlbmFtZSwgbWltZXR5cGUsIGVuY29kaW5nLCBzaXplIH0gPSByZXEuZmlsZTtcblxuICAgICAgYXdhaXQgc2F2ZUZpbGVGcm9tU3RyZWFtKFxuICAgICAgICB1c2VyU2V0dGluZy5wcml2YXRlS2V5LFxuICAgICAgICB1c2VyU2V0dGluZy5tYXAsXG4gICAgICAgIGZpbGVuYW1lLFxuICAgICAgICBzdHJlYW0sXG4gICAgICAgIHNpemUsXG4gICAgICApO1xuICAgICAgcmVzLnNlbmQoMjAwKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoZXJyb3IpO1xuICAgIH1cbiAgfSxcbn07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "event.controller.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Event",
        "model",
        "axios",
        "crypto",
        "multer",
        "methodOverride",
        "saveFileFromStream",
        "User",
        "module",
        "exports",
        "events",
        "req",
        "res",
        "find",
        "err",
        "send",
        "status",
        "tmEvents",
        "hash",
        "body",
        "get",
        "then",
        "json",
        "data",
        "_embedded",
        "catch",
        "addEvent",
        "create",
        "eventName",
        "location",
        "eventLocation",
        "lat",
        "eventLat",
        "long",
        "eventLng",
        "startDate",
        "eventDateFrom",
        "eventDateUntil",
        "info",
        "eventDescr",
        "price",
        "promoter",
        "user",
        "email",
        "event",
        "findOne",
        "next",
        "Error",
        "posts",
        "userPosts",
        "push",
        "_id",
        "save",
        "uploadFiles",
        "stream",
        "filename",
        "mimetype",
        "encoding",
        "size",
        "file",
        "userSetting",
        "privateKey",
        "map",
        "error"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/controllers",
      "sourcesContent": [
        "const mongoose = require('mongoose');\nconst Event = mongoose.model('Event');\nconst axios = require('axios');\nconst crypto = require('crypto');\nconst multer = require('multer');\nconst methodOverride = require('method-override');\nconst { saveFileFromStream } = require('../lib/azure-connect');\nconst User = mongoose.model('User');\n\n\nmodule.exports = {\n  events: (req, res) => {\n    Event.find((err, events) => {\n      if (err) res.send(err);\n      else res.status(200).send(events);\n    });\n  },\n  tmEvents: (req, res) => {\n    /*   adding it to this query */\n    const { hash } = req.body;\n    axios.get(\n        'http://app.ticketmaster.com/discovery/v2/events.json?apikey=hneV7jzq6Uz7IyQC7GtEHz5s2nTsU6Jm&page=0&size=200&geoPoint=' +\n          hash +\n          '&sort=distance,date,asc'\n      )\n/*       .then( function (tmEvents) {\n        return tmEvents.json();\n      }) */\n      .then(json => {\n        res.send(json.data._embedded.events);\n      })\n      .catch(err => {\n        res.send(err);\n      });\n  },\n  addEvent: (req, res) => {\n    Event.create({\n      eventName: req.body.eventName,\n      location: req.body.eventLocation,\n      lat: req.body.eventLat,\n      long: req.body.eventLng,\n      startDate: req.body.eventDateFrom,\n      eventDateUntil: req.body.eventDateUntil,\n      info: req.body.eventDescr,\n      price: req.body.price,\n      status: req.body.status,\n      promoter: req.user.email,\n    })\n      .then(event => {\n        User.findOne({ email: event.promoter}, function (err, user) {\n          if (!user)\n          return next(new Error('Could not load document'));\n          else{\n            user.posts.userPosts.push(event._id);\n            user.save();\n            res.status(200).send({'event': 'Added successfully'});\n        }\n      }\n      )\n    })\n      .catch(err => {\n            res.status(400).send('Failed to create new record because', err);\n      });\n  },\n  uploadFiles: async (req, res) => {\n    try {\n      const { stream, filename, mimetype, encoding, size } = req.file;\n\n      await saveFileFromStream(\n        userSetting.privateKey,\n        userSetting.map,\n        filename,\n        stream,\n        size,\n      );\n      res.send(200);\n    } catch (error) {\n      res.status(500).send(error);\n    }\n  },\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1578628584032
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/lib\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/lib/azure-connect.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/lib",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/lib/azure-connect.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/lib/azure-connect.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/lib/azure-connect.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/lib",
        "sourceFileName": "azure-connect.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst storage = require('azure-storage');\n\nconst memoizeOne = require('memoize-one');\n\nconst streams = require('memory-streams');\n\nconst getFileService = memoizeOne(conn => storage.createFileService(conn));\n\nconst getFiles = (conn, map) => new Promise((resolve, reject) => {\n  const fileService = getFileService(conn);\n  fileService.listFilesAndDirectoriesSegmented(map, '', null, (error, result) => {\n    if (error) {\n      return reject(error);\n    }\n\n    const {\n      entries\n    } = result;\n    const {\n      files\n    } = entries;\n    resolve(files);\n  });\n});\n\nconst readRawFile = (conn, map, fileName) => new Promise((resolve, reject) => {\n  const fileService = getFileService(conn);\n  fileService.getFileToText(map, '', fileName, null, (error, result, response) => {\n    if (error) {\n      return reject(error);\n    }\n\n    return resolve(result);\n  });\n});\n\nconst saveFileFromStream = (conn, map, fileName, content, size) => new Promise((resolve, reject) => {\n  const fileService = getFileService(conn);\n  fileService.createFileFromStream(map, '', fileName, content, size, (error, result, response) => {\n    if (error) {\n      return reject(error);\n    }\n\n    resolve(true);\n  });\n});\n\nmodule.exports = {\n  getFiles,\n  readRawFile,\n  saveFileFromStream\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF6dXJlLWNvbm5lY3QuanMiXSwibmFtZXMiOlsic3RvcmFnZSIsInJlcXVpcmUiLCJtZW1vaXplT25lIiwic3RyZWFtcyIsImdldEZpbGVTZXJ2aWNlIiwiY29ubiIsImNyZWF0ZUZpbGVTZXJ2aWNlIiwiZ2V0RmlsZXMiLCJtYXAiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZpbGVTZXJ2aWNlIiwibGlzdEZpbGVzQW5kRGlyZWN0b3JpZXNTZWdtZW50ZWQiLCJlcnJvciIsInJlc3VsdCIsImVudHJpZXMiLCJmaWxlcyIsInJlYWRSYXdGaWxlIiwiZmlsZU5hbWUiLCJnZXRGaWxlVG9UZXh0IiwicmVzcG9uc2UiLCJzYXZlRmlsZUZyb21TdHJlYW0iLCJjb250ZW50Iiwic2l6ZSIsImNyZWF0ZUZpbGVGcm9tU3RyZWFtIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxlQUFELENBQXZCOztBQUNBLE1BQU1DLFVBQVUsR0FBR0QsT0FBTyxDQUFDLGFBQUQsQ0FBMUI7O0FBQ0EsTUFBTUUsT0FBTyxHQUFHRixPQUFPLENBQUMsZ0JBQUQsQ0FBdkI7O0FBRUEsTUFBTUcsY0FBYyxHQUFHRixVQUFVLENBQUNHLElBQUksSUFBSUwsT0FBTyxDQUFDTSxpQkFBUixDQUEwQkQsSUFBMUIsQ0FBVCxDQUFqQzs7QUFFQSxNQUFNRSxRQUFRLEdBQUcsQ0FBQ0YsSUFBRCxFQUFPRyxHQUFQLEtBQ2YsSUFBSUMsT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUMvQixRQUFNQyxXQUFXLEdBQUdSLGNBQWMsQ0FBQ0MsSUFBRCxDQUFsQztBQUNBTyxFQUFBQSxXQUFXLENBQUNDLGdDQUFaLENBQ0VMLEdBREYsRUFFRSxFQUZGLEVBR0UsSUFIRixFQUlFLENBQUNNLEtBQUQsRUFBUUMsTUFBUixLQUFtQjtBQUNqQixRQUFJRCxLQUFKLEVBQVc7QUFDVCxhQUFPSCxNQUFNLENBQUNHLEtBQUQsQ0FBYjtBQUNEOztBQUNELFVBQU07QUFBRUUsTUFBQUE7QUFBRixRQUFjRCxNQUFwQjtBQUNBLFVBQU07QUFBRUUsTUFBQUE7QUFBRixRQUFZRCxPQUFsQjtBQUNBTixJQUFBQSxPQUFPLENBQUNPLEtBQUQsQ0FBUDtBQUNELEdBWEg7QUFhRCxDQWZELENBREY7O0FBa0JBLE1BQU1DLFdBQVcsR0FBRyxDQUFDYixJQUFELEVBQU9HLEdBQVAsRUFBWVcsUUFBWixLQUNsQixJQUFJVixPQUFKLENBQVksQ0FBQ0MsT0FBRCxFQUFVQyxNQUFWLEtBQXFCO0FBQy9CLFFBQU1DLFdBQVcsR0FBR1IsY0FBYyxDQUFDQyxJQUFELENBQWxDO0FBRUFPLEVBQUFBLFdBQVcsQ0FBQ1EsYUFBWixDQUNFWixHQURGLEVBRUUsRUFGRixFQUdFVyxRQUhGLEVBSUUsSUFKRixFQUtFLENBQUNMLEtBQUQsRUFBUUMsTUFBUixFQUFnQk0sUUFBaEIsS0FBNkI7QUFDM0IsUUFBSVAsS0FBSixFQUFXO0FBQ1QsYUFBT0gsTUFBTSxDQUFDRyxLQUFELENBQWI7QUFDRDs7QUFDRCxXQUFPSixPQUFPLENBQUNLLE1BQUQsQ0FBZDtBQUNELEdBVkg7QUFZRCxDQWZELENBREY7O0FBbUJBLE1BQU1PLGtCQUFrQixHQUFHLENBQUNqQixJQUFELEVBQU9HLEdBQVAsRUFBWVcsUUFBWixFQUFzQkksT0FBdEIsRUFBK0JDLElBQS9CLEtBQ3pCLElBQUlmLE9BQUosQ0FBWSxDQUFDQyxPQUFELEVBQVVDLE1BQVYsS0FBcUI7QUFDL0IsUUFBTUMsV0FBVyxHQUFHUixjQUFjLENBQUNDLElBQUQsQ0FBbEM7QUFDQU8sRUFBQUEsV0FBVyxDQUFDYSxvQkFBWixDQUNFakIsR0FERixFQUVFLEVBRkYsRUFHRVcsUUFIRixFQUlFSSxPQUpGLEVBS0VDLElBTEYsRUFNRSxDQUFDVixLQUFELEVBQVFDLE1BQVIsRUFBZ0JNLFFBQWhCLEtBQTZCO0FBQzNCLFFBQUlQLEtBQUosRUFBVztBQUNULGFBQU9ILE1BQU0sQ0FBQ0csS0FBRCxDQUFiO0FBQ0Q7O0FBQ0RKLElBQUFBLE9BQU8sQ0FBQyxJQUFELENBQVA7QUFDRCxHQVhIO0FBYUQsQ0FmRCxDQURGOztBQWtCQWdCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUNmcEIsRUFBQUEsUUFEZTtBQUVmVyxFQUFBQSxXQUZlO0FBR2ZJLEVBQUFBO0FBSGUsQ0FBakIiLCJzb3VyY2VSb290IjoiL1VzZXJzL2pvbmF0aGFuYXVndXN0aW4vRGVza3RvcC9XZWJzaXRlcy9saXZlLWNpY2xlL2JhY2tlbmQvbGliIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgc3RvcmFnZSA9IHJlcXVpcmUoJ2F6dXJlLXN0b3JhZ2UnKTtcbmNvbnN0IG1lbW9pemVPbmUgPSByZXF1aXJlKCdtZW1vaXplLW9uZScpO1xuY29uc3Qgc3RyZWFtcyA9IHJlcXVpcmUoJ21lbW9yeS1zdHJlYW1zJyk7XG5cbmNvbnN0IGdldEZpbGVTZXJ2aWNlID0gbWVtb2l6ZU9uZShjb25uID0+IHN0b3JhZ2UuY3JlYXRlRmlsZVNlcnZpY2UoY29ubikpO1xuXG5jb25zdCBnZXRGaWxlcyA9IChjb25uLCBtYXApID0+XG4gIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBmaWxlU2VydmljZSA9IGdldEZpbGVTZXJ2aWNlKGNvbm4pO1xuICAgIGZpbGVTZXJ2aWNlLmxpc3RGaWxlc0FuZERpcmVjdG9yaWVzU2VnbWVudGVkKFxuICAgICAgbWFwLFxuICAgICAgJycsXG4gICAgICBudWxsLFxuICAgICAgKGVycm9yLCByZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBlbnRyaWVzIH0gPSByZXN1bHQ7XG4gICAgICAgIGNvbnN0IHsgZmlsZXMgfSA9IGVudHJpZXM7XG4gICAgICAgIHJlc29sdmUoZmlsZXMpO1xuICAgICAgfVxuICAgICk7XG4gIH0pO1xuXG5jb25zdCByZWFkUmF3RmlsZSA9IChjb25uLCBtYXAsIGZpbGVOYW1lKSA9PlxuICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgZmlsZVNlcnZpY2UgPSBnZXRGaWxlU2VydmljZShjb25uKTtcblxuICAgIGZpbGVTZXJ2aWNlLmdldEZpbGVUb1RleHQoXG4gICAgICBtYXAsXG4gICAgICAnJyxcbiAgICAgIGZpbGVOYW1lLFxuICAgICAgbnVsbCxcbiAgICAgIChlcnJvciwgcmVzdWx0LCByZXNwb25zZSkgPT4ge1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgfVxuICAgICk7XG4gIH0pO1xuXG5cbmNvbnN0IHNhdmVGaWxlRnJvbVN0cmVhbSA9IChjb25uLCBtYXAsIGZpbGVOYW1lLCBjb250ZW50LCBzaXplKSA9PlxuICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgZmlsZVNlcnZpY2UgPSBnZXRGaWxlU2VydmljZShjb25uKTtcbiAgICBmaWxlU2VydmljZS5jcmVhdGVGaWxlRnJvbVN0cmVhbShcbiAgICAgIG1hcCxcbiAgICAgICcnLFxuICAgICAgZmlsZU5hbWUsXG4gICAgICBjb250ZW50LFxuICAgICAgc2l6ZSxcbiAgICAgIChlcnJvciwgcmVzdWx0LCByZXNwb25zZSkgPT4ge1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgfVxuICAgICk7XG4gIH0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0RmlsZXMsXG4gIHJlYWRSYXdGaWxlLFxuICBzYXZlRmlsZUZyb21TdHJlYW0sXG59O1xuXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "azure-connect.js"
      ],
      "names": [
        "storage",
        "require",
        "memoizeOne",
        "streams",
        "getFileService",
        "conn",
        "createFileService",
        "getFiles",
        "map",
        "Promise",
        "resolve",
        "reject",
        "fileService",
        "listFilesAndDirectoriesSegmented",
        "error",
        "result",
        "entries",
        "files",
        "readRawFile",
        "fileName",
        "getFileToText",
        "response",
        "saveFileFromStream",
        "content",
        "size",
        "createFileFromStream",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,eAAD,CAAvB;;AACA,MAAMC,UAAU,GAAGD,OAAO,CAAC,aAAD,CAA1B;;AACA,MAAME,OAAO,GAAGF,OAAO,CAAC,gBAAD,CAAvB;;AAEA,MAAMG,cAAc,GAAGF,UAAU,CAACG,IAAI,IAAIL,OAAO,CAACM,iBAAR,CAA0BD,IAA1B,CAAT,CAAjC;;AAEA,MAAME,QAAQ,GAAG,CAACF,IAAD,EAAOG,GAAP,KACf,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC/B,QAAMC,WAAW,GAAGR,cAAc,CAACC,IAAD,CAAlC;AACAO,EAAAA,WAAW,CAACC,gCAAZ,CACEL,GADF,EAEE,EAFF,EAGE,IAHF,EAIE,CAACM,KAAD,EAAQC,MAAR,KAAmB;AACjB,QAAID,KAAJ,EAAW;AACT,aAAOH,MAAM,CAACG,KAAD,CAAb;AACD;;AACD,UAAM;AAAEE,MAAAA;AAAF,QAAcD,MAApB;AACA,UAAM;AAAEE,MAAAA;AAAF,QAAYD,OAAlB;AACAN,IAAAA,OAAO,CAACO,KAAD,CAAP;AACD,GAXH;AAaD,CAfD,CADF;;AAkBA,MAAMC,WAAW,GAAG,CAACb,IAAD,EAAOG,GAAP,EAAYW,QAAZ,KAClB,IAAIV,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC/B,QAAMC,WAAW,GAAGR,cAAc,CAACC,IAAD,CAAlC;AAEAO,EAAAA,WAAW,CAACQ,aAAZ,CACEZ,GADF,EAEE,EAFF,EAGEW,QAHF,EAIE,IAJF,EAKE,CAACL,KAAD,EAAQC,MAAR,EAAgBM,QAAhB,KAA6B;AAC3B,QAAIP,KAAJ,EAAW;AACT,aAAOH,MAAM,CAACG,KAAD,CAAb;AACD;;AACD,WAAOJ,OAAO,CAACK,MAAD,CAAd;AACD,GAVH;AAYD,CAfD,CADF;;AAmBA,MAAMO,kBAAkB,GAAG,CAACjB,IAAD,EAAOG,GAAP,EAAYW,QAAZ,EAAsBI,OAAtB,EAA+BC,IAA/B,KACzB,IAAIf,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC/B,QAAMC,WAAW,GAAGR,cAAc,CAACC,IAAD,CAAlC;AACAO,EAAAA,WAAW,CAACa,oBAAZ,CACEjB,GADF,EAEE,EAFF,EAGEW,QAHF,EAIEI,OAJF,EAKEC,IALF,EAME,CAACV,KAAD,EAAQC,MAAR,EAAgBM,QAAhB,KAA6B;AAC3B,QAAIP,KAAJ,EAAW;AACT,aAAOH,MAAM,CAACG,KAAD,CAAb;AACD;;AACDJ,IAAAA,OAAO,CAAC,IAAD,CAAP;AACD,GAXH;AAaD,CAfD,CADF;;AAkBAgB,MAAM,CAACC,OAAP,GAAiB;AACfpB,EAAAA,QADe;AAEfW,EAAAA,WAFe;AAGfI,EAAAA;AAHe,CAAjB",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/lib",
      "sourcesContent": [
        "const storage = require('azure-storage');\nconst memoizeOne = require('memoize-one');\nconst streams = require('memory-streams');\n\nconst getFileService = memoizeOne(conn => storage.createFileService(conn));\n\nconst getFiles = (conn, map) =>\n  new Promise((resolve, reject) => {\n    const fileService = getFileService(conn);\n    fileService.listFilesAndDirectoriesSegmented(\n      map,\n      '',\n      null,\n      (error, result) => {\n        if (error) {\n          return reject(error);\n        }\n        const { entries } = result;\n        const { files } = entries;\n        resolve(files);\n      }\n    );\n  });\n\nconst readRawFile = (conn, map, fileName) =>\n  new Promise((resolve, reject) => {\n    const fileService = getFileService(conn);\n\n    fileService.getFileToText(\n      map,\n      '',\n      fileName,\n      null,\n      (error, result, response) => {\n        if (error) {\n          return reject(error);\n        }\n        return resolve(result);\n      }\n    );\n  });\n\n\nconst saveFileFromStream = (conn, map, fileName, content, size) =>\n  new Promise((resolve, reject) => {\n    const fileService = getFileService(conn);\n    fileService.createFileFromStream(\n      map,\n      '',\n      fileName,\n      content,\n      size,\n      (error, result, response) => {\n        if (error) {\n          return reject(error);\n        }\n        resolve(true);\n      }\n    );\n  });\n\nmodule.exports = {\n  getFiles,\n  readRawFile,\n  saveFileFromStream,\n};\n\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1581085919111
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/manageEvents.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/manageEvents.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/manageEvents.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/manageEvents.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
        "sourceFileName": "manageEvents.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _event = _interopRequireDefault(require(\"./models/event.model\"));\n\nvar _pastEvent = _interopRequireDefault(require(\"./models/pastEvent\"));\n\nvar _cron = _interopRequireDefault(require(\"cron\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst CronJob = _cron.default.CronJob;\n\nmodule.exports = () => {\n  new CronJob(\"* 0 0 * * *\", () => {\n    _mongoose.default.connect(process.env.MONGODB_URI), {\n      useNewUrlParser: true\n    }.then(() => {\n      console.log(\"connected to MongoDB\");\n      const currentDate = new Date();\n\n      _event.default.find().then(events => {\n        const matchingEvents = events.filter(e => new Date(e.eventDateUntil) < currentDate);\n        const pastEventIds = matchingEvents.map(i => i.id);\n        const addEventsPromises = matchingEvents.map(e => {\n          const newRecord = JSON.parse(JSON.stringify(e));\n          delete newRecord._id;\n          delete newRecord.__v;\n          const newPastEvent = new _pastEvent.default(newRecord);\n          return newPastEvent.save();\n        });\n        Promise.all(addEventsPromises).then(addResArr => {\n          console.log(\"added all past events to pastEvents collection\", addResArr && addResArr.length);\n\n          _event.default.deleteMany({\n            _id: {\n              $in: pastEventIds\n            }\n          }).then(res => {\n            console.log(\"removed all past events from events collection\", pastEventIds && pastEventIds.length);\n          }).catch(err => console.log('errrrr', err));\n        });\n      }).catch(err => console.log(\"err fetching events\", err));\n    }).catch(err => console.log(\"err connecting to DB\", err));\n  }, null, true);\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hbmFnZUV2ZW50cy5qcyJdLCJuYW1lcyI6WyJDcm9uSm9iIiwiQ3JvbiIsIm1vZHVsZSIsImV4cG9ydHMiLCJtb25nb29zZSIsImNvbm5lY3QiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09EQl9VUkkiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsImN1cnJlbnREYXRlIiwiRGF0ZSIsIkV2ZW50IiwiZmluZCIsImV2ZW50cyIsIm1hdGNoaW5nRXZlbnRzIiwiZmlsdGVyIiwiZSIsImV2ZW50RGF0ZVVudGlsIiwicGFzdEV2ZW50SWRzIiwibWFwIiwiaSIsImlkIiwiYWRkRXZlbnRzUHJvbWlzZXMiLCJuZXdSZWNvcmQiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJfaWQiLCJfX3YiLCJuZXdQYXN0RXZlbnQiLCJQYXN0RXZlbnRNb2RlbCIsInNhdmUiLCJQcm9taXNlIiwiYWxsIiwiYWRkUmVzQXJyIiwibGVuZ3RoIiwiZGVsZXRlTWFueSIsIiRpbiIsInJlcyIsImNhdGNoIiwiZXJyIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsT0FBTyxHQUFHQyxjQUFLRCxPQUFyQjs7QUFFQUUsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLE1BQU07QUFDckIsTUFBSUgsT0FBSixDQUNFLGFBREYsRUFFRSxNQUFNO0FBQ0pJLHNCQUNHQyxPQURILENBQ1dDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxXQUR2QixHQUNxQztBQUFFQyxNQUFBQSxlQUFlLEVBQUU7QUFBbkIsTUFDbENDLElBRGtDLENBQzdCLE1BQU07QUFDVkMsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksc0JBQVo7QUFDQSxZQUFNQyxXQUFXLEdBQUcsSUFBSUMsSUFBSixFQUFwQjs7QUFDQUMscUJBQU1DLElBQU4sR0FDR04sSUFESCxDQUNRTyxNQUFNLElBQUk7QUFDZixjQUFNQyxjQUFjLEdBQUdELE1BQU0sQ0FBQ0UsTUFBUCxDQUNwQkMsQ0FBQyxJQUFJLElBQUlOLElBQUosQ0FBU00sQ0FBQyxDQUFDQyxjQUFYLElBQTZCUixXQURkLENBQXZCO0FBSUMsY0FBTVMsWUFBWSxHQUFHSixjQUFjLENBQUNLLEdBQWYsQ0FBbUJDLENBQUMsSUFBSUEsQ0FBQyxDQUFDQyxFQUExQixDQUFyQjtBQUVBLGNBQU1DLGlCQUFpQixHQUFHUixjQUFjLENBQUNLLEdBQWYsQ0FBbUJILENBQUMsSUFBSTtBQUNoRCxnQkFBTU8sU0FBUyxHQUFHQyxJQUFJLENBQUNDLEtBQUwsQ0FBV0QsSUFBSSxDQUFDRSxTQUFMLENBQWVWLENBQWYsQ0FBWCxDQUFsQjtBQUNBLGlCQUFPTyxTQUFTLENBQUNJLEdBQWpCO0FBQ0EsaUJBQU9KLFNBQVMsQ0FBQ0ssR0FBakI7QUFDQSxnQkFBTUMsWUFBWSxHQUFHLElBQUlDLGtCQUFKLENBQW1CUCxTQUFuQixDQUFyQjtBQUNBLGlCQUFPTSxZQUFZLENBQUNFLElBQWIsRUFBUDtBQUNELFNBTnlCLENBQTFCO0FBUUFDLFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZWCxpQkFBWixFQUErQmhCLElBQS9CLENBQW9DNEIsU0FBUyxJQUFJO0FBQy9DM0IsVUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQ0UsZ0RBREYsRUFFRTBCLFNBQVMsSUFBSUEsU0FBUyxDQUFDQyxNQUZ6Qjs7QUFLQXhCLHlCQUFNeUIsVUFBTixDQUFpQjtBQUFDVCxZQUFBQSxHQUFHLEVBQUU7QUFBQ1UsY0FBQUEsR0FBRyxFQUFFbkI7QUFBTjtBQUFOLFdBQWpCLEVBQ0NaLElBREQsQ0FDTWdDLEdBQUcsSUFBSTtBQUNYL0IsWUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQ0UsZ0RBREYsRUFFRVUsWUFBWSxJQUFJQSxZQUFZLENBQUNpQixNQUYvQjtBQUlELFdBTkQsRUFPQ0ksS0FQRCxDQU9PQyxHQUFHLElBQUtqQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxRQUFaLEVBQXNCZ0MsR0FBdEIsQ0FQZjtBQVFELFNBZEQ7QUFlRCxPQS9CSCxFQWdDR0QsS0FoQ0gsQ0FnQ1NDLEdBQUcsSUFBSWpDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHFCQUFaLEVBQW1DZ0MsR0FBbkMsQ0FoQ2hCO0FBaUNELEtBckNrQyxFQXNDbENELEtBdENrQyxDQXNDNUJDLEdBQUcsSUFBSWpDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHNCQUFaLEVBQW9DZ0MsR0FBcEMsQ0F0Q3FCLENBRHJDO0FBd0NELEdBM0NILEVBNENFLElBNUNGLEVBNkNFLElBN0NGO0FBK0NELENBaEREIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9qb25hdGhhbmF1Z3VzdGluL0Rlc2t0b3AvV2Vic2l0ZXMvbGl2ZS1jaWNsZS9iYWNrZW5kIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuaW1wb3J0IEV2ZW50IGZyb20gXCIuL21vZGVscy9ldmVudC5tb2RlbFwiO1xuaW1wb3J0IFBhc3RFdmVudE1vZGVsIGZyb20gXCIuL21vZGVscy9wYXN0RXZlbnRcIjtcbmltcG9ydCBDcm9uIGZyb20gXCJjcm9uXCI7XG5cbmNvbnN0IENyb25Kb2IgPSBDcm9uLkNyb25Kb2I7XG5cbm1vZHVsZS5leHBvcnRzID0gKCkgPT4ge1xuICBuZXcgQ3JvbkpvYihcbiAgICBcIiogMCAwICogKiAqXCIsXG4gICAgKCkgPT4ge1xuICAgICAgbW9uZ29vc2VcbiAgICAgICAgLmNvbm5lY3QocHJvY2Vzcy5lbnYuTU9OR09EQl9VUkkpLCB7IHVzZU5ld1VybFBhcnNlcjogdHJ1ZSB9XG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImNvbm5lY3RlZCB0byBNb25nb0RCXCIpO1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICBFdmVudC5maW5kKClcbiAgICAgICAgICAgIC50aGVuKGV2ZW50cyA9PiB7XG4gICAgICAgICAgICAgY29uc3QgbWF0Y2hpbmdFdmVudHMgPSBldmVudHMuZmlsdGVyKFxuICAgICAgICAgICAgICAgIGUgPT4gbmV3IERhdGUoZS5ldmVudERhdGVVbnRpbCkgPCBjdXJyZW50RGF0ZVxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIGNvbnN0IHBhc3RFdmVudElkcyA9IG1hdGNoaW5nRXZlbnRzLm1hcChpID0+IGkuaWQpO1xuXG4gICAgICAgICAgICAgIGNvbnN0IGFkZEV2ZW50c1Byb21pc2VzID0gbWF0Y2hpbmdFdmVudHMubWFwKGUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1JlY29yZCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBuZXdSZWNvcmQuX2lkO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBuZXdSZWNvcmQuX192O1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Bhc3RFdmVudCA9IG5ldyBQYXN0RXZlbnRNb2RlbChuZXdSZWNvcmQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXdQYXN0RXZlbnQuc2F2ZSgpO1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBQcm9taXNlLmFsbChhZGRFdmVudHNQcm9taXNlcykudGhlbihhZGRSZXNBcnIgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgICAgXCJhZGRlZCBhbGwgcGFzdCBldmVudHMgdG8gcGFzdEV2ZW50cyBjb2xsZWN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICBhZGRSZXNBcnIgJiYgYWRkUmVzQXJyLmxlbmd0aFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBFdmVudC5kZWxldGVNYW55KHtfaWQ6IHskaW46IHBhc3RFdmVudElkc319KVxuICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgICAgICAgXCJyZW1vdmVkIGFsbCBwYXN0IGV2ZW50cyBmcm9tIGV2ZW50cyBjb2xsZWN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgIHBhc3RFdmVudElkcyAmJiBwYXN0RXZlbnRJZHMubGVuZ3RoXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiAgY29uc29sZS5sb2coJ2VycnJycicsIGVycikpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKFwiZXJyIGZldGNoaW5nIGV2ZW50c1wiLCBlcnIpKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhcImVyciBjb25uZWN0aW5nIHRvIERCXCIsIGVycikpO1xuICAgIH0sXG4gICAgbnVsbCxcbiAgICB0cnVlXG4gICk7XG59O1xuXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "manageEvents.js"
      ],
      "names": [
        "CronJob",
        "Cron",
        "module",
        "exports",
        "mongoose",
        "connect",
        "process",
        "env",
        "MONGODB_URI",
        "useNewUrlParser",
        "then",
        "console",
        "log",
        "currentDate",
        "Date",
        "Event",
        "find",
        "events",
        "matchingEvents",
        "filter",
        "e",
        "eventDateUntil",
        "pastEventIds",
        "map",
        "i",
        "id",
        "addEventsPromises",
        "newRecord",
        "JSON",
        "parse",
        "stringify",
        "_id",
        "__v",
        "newPastEvent",
        "PastEventModel",
        "save",
        "Promise",
        "all",
        "addResArr",
        "length",
        "deleteMany",
        "$in",
        "res",
        "catch",
        "err"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,OAAO,GAAGC,cAAKD,OAArB;;AAEAE,MAAM,CAACC,OAAP,GAAiB,MAAM;AACrB,MAAIH,OAAJ,CACE,aADF,EAEE,MAAM;AACJI,sBACGC,OADH,CACWC,OAAO,CAACC,GAAR,CAAYC,WADvB,GACqC;AAAEC,MAAAA,eAAe,EAAE;AAAnB,MAClCC,IADkC,CAC7B,MAAM;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACA,YAAMC,WAAW,GAAG,IAAIC,IAAJ,EAApB;;AACAC,qBAAMC,IAAN,GACGN,IADH,CACQO,MAAM,IAAI;AACf,cAAMC,cAAc,GAAGD,MAAM,CAACE,MAAP,CACpBC,CAAC,IAAI,IAAIN,IAAJ,CAASM,CAAC,CAACC,cAAX,IAA6BR,WADd,CAAvB;AAIC,cAAMS,YAAY,GAAGJ,cAAc,CAACK,GAAf,CAAmBC,CAAC,IAAIA,CAAC,CAACC,EAA1B,CAArB;AAEA,cAAMC,iBAAiB,GAAGR,cAAc,CAACK,GAAf,CAAmBH,CAAC,IAAI;AAChD,gBAAMO,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeV,CAAf,CAAX,CAAlB;AACA,iBAAOO,SAAS,CAACI,GAAjB;AACA,iBAAOJ,SAAS,CAACK,GAAjB;AACA,gBAAMC,YAAY,GAAG,IAAIC,kBAAJ,CAAmBP,SAAnB,CAArB;AACA,iBAAOM,YAAY,CAACE,IAAb,EAAP;AACD,SANyB,CAA1B;AAQAC,QAAAA,OAAO,CAACC,GAAR,CAAYX,iBAAZ,EAA+BhB,IAA/B,CAAoC4B,SAAS,IAAI;AAC/C3B,UAAAA,OAAO,CAACC,GAAR,CACE,gDADF,EAEE0B,SAAS,IAAIA,SAAS,CAACC,MAFzB;;AAKAxB,yBAAMyB,UAAN,CAAiB;AAACT,YAAAA,GAAG,EAAE;AAACU,cAAAA,GAAG,EAAEnB;AAAN;AAAN,WAAjB,EACCZ,IADD,CACMgC,GAAG,IAAI;AACX/B,YAAAA,OAAO,CAACC,GAAR,CACE,gDADF,EAEEU,YAAY,IAAIA,YAAY,CAACiB,MAF/B;AAID,WAND,EAOCI,KAPD,CAOOC,GAAG,IAAKjC,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBgC,GAAtB,CAPf;AAQD,SAdD;AAeD,OA/BH,EAgCGD,KAhCH,CAgCSC,GAAG,IAAIjC,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCgC,GAAnC,CAhChB;AAiCD,KArCkC,EAsClCD,KAtCkC,CAsC5BC,GAAG,IAAIjC,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCgC,GAApC,CAtCqB,CADrC;AAwCD,GA3CH,EA4CE,IA5CF,EA6CE,IA7CF;AA+CD,CAhDD",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "sourcesContent": [
        "import mongoose from \"mongoose\";\nimport Event from \"./models/event.model\";\nimport PastEventModel from \"./models/pastEvent\";\nimport Cron from \"cron\";\n\nconst CronJob = Cron.CronJob;\n\nmodule.exports = () => {\n  new CronJob(\n    \"* 0 0 * * *\",\n    () => {\n      mongoose\n        .connect(process.env.MONGODB_URI), { useNewUrlParser: true }\n        .then(() => {\n          console.log(\"connected to MongoDB\");\n          const currentDate = new Date();\n          Event.find()\n            .then(events => {\n             const matchingEvents = events.filter(\n                e => new Date(e.eventDateUntil) < currentDate\n              );\n\n              const pastEventIds = matchingEvents.map(i => i.id);\n\n              const addEventsPromises = matchingEvents.map(e => {\n                const newRecord = JSON.parse(JSON.stringify(e));\n                delete newRecord._id;\n                delete newRecord.__v;\n                const newPastEvent = new PastEventModel(newRecord);\n                return newPastEvent.save();\n              });\n\n              Promise.all(addEventsPromises).then(addResArr => {\n                console.log(\n                  \"added all past events to pastEvents collection\",\n                  addResArr && addResArr.length\n                );\n\n                Event.deleteMany({_id: {$in: pastEventIds}})\n                .then(res => {\n                  console.log(\n                    \"removed all past events from events collection\",\n                    pastEventIds && pastEventIds.length\n                  );\n                })\n                .catch(err =>  console.log('errrrr', err));\n              });\n            })\n            .catch(err => console.log(\"err fetching events\", err));\n        })\n        .catch(err => console.log(\"err connecting to DB\", err));\n    },\n    null,\n    true\n  );\n};\n\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1578088240498
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models/pastEvent.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models/pastEvent.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models/pastEvent.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models/pastEvent.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models",
        "sourceFileName": "pastEvent.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst Schema = _mongoose.default.Schema;\nlet pastEvent = new Schema({\n  eventName: {\n    type: String\n  },\n  eventLocation: {\n    type: String\n  },\n  eventLat: {\n    type: Number\n  },\n  eventLng: {\n    type: Number\n  },\n  eventDateFrom: {\n    type: String\n  },\n  eventDateUntil: {\n    type: String\n  },\n  eventDescr: {\n    type: String\n  },\n  price: {\n    type: Number,\n    default: 0\n  },\n  interest: {\n    type: Number,\n    default: 0\n  },\n  eventPrivate: {\n    type: Boolean,\n    default: false\n  },\n  responsible: {\n    type: String,\n    default: '0000'\n  },\n  status: {\n    type: String,\n    default: 'Open'\n  }\n});\n\nvar _default = _mongoose.default.model('PastEvent', pastEvent, 'past_events');\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhc3RFdmVudC5qcyJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsInBhc3RFdmVudCIsImV2ZW50TmFtZSIsInR5cGUiLCJTdHJpbmciLCJldmVudExvY2F0aW9uIiwiZXZlbnRMYXQiLCJOdW1iZXIiLCJldmVudExuZyIsImV2ZW50RGF0ZUZyb20iLCJldmVudERhdGVVbnRpbCIsImV2ZW50RGVzY3IiLCJwcmljZSIsImRlZmF1bHQiLCJpbnRlcmVzdCIsImV2ZW50UHJpdmF0ZSIsIkJvb2xlYW4iLCJyZXNwb25zaWJsZSIsInN0YXR1cyIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLGtCQUFTRCxNQUF4QjtBQUVBLElBQUlFLFNBQVMsR0FBRyxJQUFJRixNQUFKLENBQVc7QUFDekJHLEVBQUFBLFNBQVMsRUFBRTtBQUNUQyxJQUFBQSxJQUFJLEVBQUVDO0FBREcsR0FEYztBQUl6QkMsRUFBQUEsYUFBYSxFQUFFO0FBQ2JGLElBQUFBLElBQUksRUFBRUM7QUFETyxHQUpVO0FBT3pCRSxFQUFBQSxRQUFRLEVBQUU7QUFDUkgsSUFBQUEsSUFBSSxFQUFFSTtBQURFLEdBUGU7QUFVekJDLEVBQUFBLFFBQVEsRUFBRTtBQUNSTCxJQUFBQSxJQUFJLEVBQUVJO0FBREUsR0FWZTtBQWF6QkUsRUFBQUEsYUFBYSxFQUFFO0FBQ2JOLElBQUFBLElBQUksRUFBRUM7QUFETyxHQWJVO0FBZ0J6Qk0sRUFBQUEsY0FBYyxFQUFFO0FBQ2RQLElBQUFBLElBQUksRUFBRUM7QUFEUSxHQWhCUztBQW1CekJPLEVBQUFBLFVBQVUsRUFBRTtBQUNWUixJQUFBQSxJQUFJLEVBQUVDO0FBREksR0FuQmE7QUFzQnpCUSxFQUFBQSxLQUFLLEVBQUU7QUFDTFQsSUFBQUEsSUFBSSxFQUFFSSxNQUREO0FBRUxNLElBQUFBLE9BQU8sRUFBRTtBQUZKLEdBdEJrQjtBQTBCekJDLEVBQUFBLFFBQVEsRUFBRTtBQUNSWCxJQUFBQSxJQUFJLEVBQUVJLE1BREU7QUFFUk0sSUFBQUEsT0FBTyxFQUFFO0FBRkQsR0ExQmU7QUE4QnpCRSxFQUFBQSxZQUFZLEVBQUU7QUFDWlosSUFBQUEsSUFBSSxFQUFFYSxPQURNO0FBRVpILElBQUFBLE9BQU8sRUFBRTtBQUZHLEdBOUJXO0FBa0N6QkksRUFBQUEsV0FBVyxFQUFFO0FBQ1hkLElBQUFBLElBQUksRUFBRUMsTUFESztBQUVYUyxJQUFBQSxPQUFPLEVBQUU7QUFGRSxHQWxDWTtBQXNDekJLLEVBQUFBLE1BQU0sRUFBRTtBQUNOZixJQUFBQSxJQUFJLEVBQUVDLE1BREE7QUFFTlMsSUFBQUEsT0FBTyxFQUFFO0FBRkg7QUF0Q2lCLENBQVgsQ0FBaEI7O2VBMkNlYixrQkFBU21CLEtBQVQsQ0FBZSxXQUFmLEVBQTRCbEIsU0FBNUIsRUFBdUMsYUFBdkMsQyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvam9uYXRoYW5hdWd1c3Rpbi9EZXNrdG9wL1dlYnNpdGVzL2xpdmUtY2ljbGUvYmFja2VuZC9tb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XG5cbmxldCBwYXN0RXZlbnQgPSBuZXcgU2NoZW1hKHtcbiAgZXZlbnROYW1lOiB7XG4gICAgdHlwZTogU3RyaW5nXG4gIH0sXG4gIGV2ZW50TG9jYXRpb246IHtcbiAgICB0eXBlOiBTdHJpbmdcbiAgfSxcbiAgZXZlbnRMYXQ6IHtcbiAgICB0eXBlOiBOdW1iZXJcbiAgfSxcbiAgZXZlbnRMbmc6IHtcbiAgICB0eXBlOiBOdW1iZXJcbiAgfSxcbiAgZXZlbnREYXRlRnJvbToge1xuICAgIHR5cGU6IFN0cmluZ1xuICB9LFxuICBldmVudERhdGVVbnRpbDoge1xuICAgIHR5cGU6IFN0cmluZ1xuICB9LFxuICBldmVudERlc2NyOiB7XG4gICAgdHlwZTogU3RyaW5nXG4gIH0sXG4gIHByaWNlOiB7XG4gICAgdHlwZTogTnVtYmVyLFxuICAgIGRlZmF1bHQ6IDBcbiAgfSxcbiAgaW50ZXJlc3Q6IHtcbiAgICB0eXBlOiBOdW1iZXIsXG4gICAgZGVmYXVsdDogMFxuICB9LFxuICBldmVudFByaXZhdGU6IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IGZhbHNlXG4gIH0sXG4gIHJlc3BvbnNpYmxlOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGRlZmF1bHQ6ICcwMDAwJ1xuICB9LFxuICBzdGF0dXM6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogJ09wZW4nXG4gIH1cbn0pO1xuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWwoJ1Bhc3RFdmVudCcsIHBhc3RFdmVudCwgJ3Bhc3RfZXZlbnRzJyk7XG5cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "pastEvent.js"
      ],
      "names": [
        "Schema",
        "mongoose",
        "pastEvent",
        "eventName",
        "type",
        "String",
        "eventLocation",
        "eventLat",
        "Number",
        "eventLng",
        "eventDateFrom",
        "eventDateUntil",
        "eventDescr",
        "price",
        "default",
        "interest",
        "eventPrivate",
        "Boolean",
        "responsible",
        "status",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,MAAM,GAAGC,kBAASD,MAAxB;AAEA,IAAIE,SAAS,GAAG,IAAIF,MAAJ,CAAW;AACzBG,EAAAA,SAAS,EAAE;AACTC,IAAAA,IAAI,EAAEC;AADG,GADc;AAIzBC,EAAAA,aAAa,EAAE;AACbF,IAAAA,IAAI,EAAEC;AADO,GAJU;AAOzBE,EAAAA,QAAQ,EAAE;AACRH,IAAAA,IAAI,EAAEI;AADE,GAPe;AAUzBC,EAAAA,QAAQ,EAAE;AACRL,IAAAA,IAAI,EAAEI;AADE,GAVe;AAazBE,EAAAA,aAAa,EAAE;AACbN,IAAAA,IAAI,EAAEC;AADO,GAbU;AAgBzBM,EAAAA,cAAc,EAAE;AACdP,IAAAA,IAAI,EAAEC;AADQ,GAhBS;AAmBzBO,EAAAA,UAAU,EAAE;AACVR,IAAAA,IAAI,EAAEC;AADI,GAnBa;AAsBzBQ,EAAAA,KAAK,EAAE;AACLT,IAAAA,IAAI,EAAEI,MADD;AAELM,IAAAA,OAAO,EAAE;AAFJ,GAtBkB;AA0BzBC,EAAAA,QAAQ,EAAE;AACRX,IAAAA,IAAI,EAAEI,MADE;AAERM,IAAAA,OAAO,EAAE;AAFD,GA1Be;AA8BzBE,EAAAA,YAAY,EAAE;AACZZ,IAAAA,IAAI,EAAEa,OADM;AAEZH,IAAAA,OAAO,EAAE;AAFG,GA9BW;AAkCzBI,EAAAA,WAAW,EAAE;AACXd,IAAAA,IAAI,EAAEC,MADK;AAEXS,IAAAA,OAAO,EAAE;AAFE,GAlCY;AAsCzBK,EAAAA,MAAM,EAAE;AACNf,IAAAA,IAAI,EAAEC,MADA;AAENS,IAAAA,OAAO,EAAE;AAFH;AAtCiB,CAAX,CAAhB;;eA2Ceb,kBAASmB,KAAT,CAAe,WAAf,EAA4BlB,SAA5B,EAAuC,aAAvC,C",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models",
      "sourcesContent": [
        "import mongoose from 'mongoose';\n\nconst Schema = mongoose.Schema;\n\nlet pastEvent = new Schema({\n  eventName: {\n    type: String\n  },\n  eventLocation: {\n    type: String\n  },\n  eventLat: {\n    type: Number\n  },\n  eventLng: {\n    type: Number\n  },\n  eventDateFrom: {\n    type: String\n  },\n  eventDateUntil: {\n    type: String\n  },\n  eventDescr: {\n    type: String\n  },\n  price: {\n    type: Number,\n    default: 0\n  },\n  interest: {\n    type: Number,\n    default: 0\n  },\n  eventPrivate: {\n    type: Boolean,\n    default: false\n  },\n  responsible: {\n    type: String,\n    default: '0000'\n  },\n  status: {\n    type: String,\n    default: 'Open'\n  }\n});\nexport default mongoose.model('PastEvent', pastEvent, 'past_events');\n\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1552576583285
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/config\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/config/config.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/config",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/config/config.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/config/config.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/config/config.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/config",
        "sourceFileName": "config.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\n// check env\nvar env = process.env.NONE_ENV || 'development'; // fetch env.con\n\nvar config = require('./config.json');\n\nvar envConfig = config[env]; // add env. config values to process.env\n\nObject.keys(envConfig).forEach(key => process.env[key] = envConfig[key]);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJlbnYiLCJwcm9jZXNzIiwiTk9ORV9FTlYiLCJjb25maWciLCJyZXF1aXJlIiwiZW52Q29uZmlnIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrZXkiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQSxJQUFJQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQ0QsR0FBUixDQUFZRSxRQUFaLElBQXdCLGFBQWxDLEMsQ0FDQTs7QUFDQSxJQUFJQyxNQUFNLEdBQUdDLE9BQU8sQ0FBQyxlQUFELENBQXBCOztBQUNBLElBQUlDLFNBQVMsR0FBR0YsTUFBTSxDQUFDSCxHQUFELENBQXRCLEMsQ0FDQTs7QUFDQU0sTUFBTSxDQUFDQyxJQUFQLENBQVlGLFNBQVosRUFBdUJHLE9BQXZCLENBQStCQyxHQUFHLElBQUlSLE9BQU8sQ0FBQ0QsR0FBUixDQUFZUyxHQUFaLElBQW1CSixTQUFTLENBQUNJLEdBQUQsQ0FBbEUiLCJzb3VyY2VSb290IjoiL1VzZXJzL2pvbmF0aGFuYXVndXN0aW4vRGVza3RvcC9XZWJzaXRlcy9saXZlLWNpY2xlL2JhY2tlbmQvY29uZmlnIiwic291cmNlc0NvbnRlbnQiOlsiLy8gY2hlY2sgZW52XG52YXIgZW52ID0gcHJvY2Vzcy5lbnYuTk9ORV9FTlYgfHwgJ2RldmVsb3BtZW50Jztcbi8vIGZldGNoIGVudi5jb25cbnZhciBjb25maWcgPSByZXF1aXJlKCcuL2NvbmZpZy5qc29uJyk7XG52YXIgZW52Q29uZmlnID0gY29uZmlnW2Vudl07XG4vLyBhZGQgZW52LiBjb25maWcgdmFsdWVzIHRvIHByb2Nlc3MuZW52XG5PYmplY3Qua2V5cyhlbnZDb25maWcpLmZvckVhY2goa2V5ID0+IHByb2Nlc3MuZW52W2tleV0gPSBlbnZDb25maWdba2V5XSk7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "config.js"
      ],
      "names": [
        "env",
        "process",
        "NONE_ENV",
        "config",
        "require",
        "envConfig",
        "Object",
        "keys",
        "forEach",
        "key"
      ],
      "mappings": ";;AAAA;AACA,IAAIA,GAAG,GAAGC,OAAO,CAACD,GAAR,CAAYE,QAAZ,IAAwB,aAAlC,C,CACA;;AACA,IAAIC,MAAM,GAAGC,OAAO,CAAC,eAAD,CAApB;;AACA,IAAIC,SAAS,GAAGF,MAAM,CAACH,GAAD,CAAtB,C,CACA;;AACAM,MAAM,CAACC,IAAP,CAAYF,SAAZ,EAAuBG,OAAvB,CAA+BC,GAAG,IAAIR,OAAO,CAACD,GAAR,CAAYS,GAAZ,IAAmBJ,SAAS,CAACI,GAAD,CAAlE",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/config",
      "sourcesContent": [
        "// check env\nvar env = process.env.NONE_ENV || 'development';\n// fetch env.con\nvar config = require('./config.json');\nvar envConfig = config[env];\n// add env. config values to process.env\nObject.keys(envConfig).forEach(key => process.env[key] = envConfig[key]);\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557273659461
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models/db.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models/db.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models/db.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models/db.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models",
        "sourceFileName": "db.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst mongoose = require('mongoose');\n\nmongoose.connect(process.env.MONGODB_URI, {\n  useNewUrlParser: true\n}, err => {\n  if (!err) {\n    console.log('MongoDB connection succeeded.');\n  } else {\n    console.log('Error in MongoDB connection : ' + JSON.stringify(err, undefined, 2));\n  }\n});\n\nrequire('./user.model');\n\nrequire('./event.model');\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsImNvbm5lY3QiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09EQl9VUkkiLCJ1c2VOZXdVcmxQYXJzZXIiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiSlNPTiIsInN0cmluZ2lmeSIsInVuZGVmaW5lZCJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFELENBQXhCOztBQUVBRCxRQUFRLENBQUNFLE9BQVQsQ0FBaUJDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxXQUE3QixFQUEwQztBQUFDQyxFQUFBQSxlQUFlLEVBQUU7QUFBbEIsQ0FBMUMsRUFBcUVDLEdBQUQsSUFBUztBQUN6RSxNQUFJLENBQUNBLEdBQUwsRUFBVTtBQUFFQyxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSwrQkFBWjtBQUErQyxHQUEzRCxNQUNLO0FBQUVELElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLG1DQUFtQ0MsSUFBSSxDQUFDQyxTQUFMLENBQWVKLEdBQWYsRUFBb0JLLFNBQXBCLEVBQStCLENBQS9CLENBQS9DO0FBQW9GO0FBQzlGLENBSEQ7O0FBS0FYLE9BQU8sQ0FBQyxjQUFELENBQVA7O0FBQ0FBLE9BQU8sQ0FBQyxlQUFELENBQVAiLCJzb3VyY2VSb290IjoiL1VzZXJzL2pvbmF0aGFuYXVndXN0aW4vRGVza3RvcC9XZWJzaXRlcy9saXZlLWNpY2xlL2JhY2tlbmQvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xuXG5tb25nb29zZS5jb25uZWN0KHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJLCB7dXNlTmV3VXJsUGFyc2VyOiB0cnVlfSwgIChlcnIpID0+IHtcbiAgICBpZiAoIWVycikgeyBjb25zb2xlLmxvZygnTW9uZ29EQiBjb25uZWN0aW9uIHN1Y2NlZWRlZC4nKTsgfVxuICAgIGVsc2UgeyBjb25zb2xlLmxvZygnRXJyb3IgaW4gTW9uZ29EQiBjb25uZWN0aW9uIDogJyArIEpTT04uc3RyaW5naWZ5KGVyciwgdW5kZWZpbmVkLCAyKSk7IH1cbn0pO1xuXG5yZXF1aXJlKCcuL3VzZXIubW9kZWwnKTtcbnJlcXVpcmUoJy4vZXZlbnQubW9kZWwnKTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "db.js"
      ],
      "names": [
        "mongoose",
        "require",
        "connect",
        "process",
        "env",
        "MONGODB_URI",
        "useNewUrlParser",
        "err",
        "console",
        "log",
        "JSON",
        "stringify",
        "undefined"
      ],
      "mappings": ";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AAEAD,QAAQ,CAACE,OAAT,CAAiBC,OAAO,CAACC,GAAR,CAAYC,WAA7B,EAA0C;AAACC,EAAAA,eAAe,EAAE;AAAlB,CAA1C,EAAqEC,GAAD,IAAS;AACzE,MAAI,CAACA,GAAL,EAAU;AAAEC,IAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ;AAA+C,GAA3D,MACK;AAAED,IAAAA,OAAO,CAACC,GAAR,CAAY,mCAAmCC,IAAI,CAACC,SAAL,CAAeJ,GAAf,EAAoBK,SAApB,EAA+B,CAA/B,CAA/C;AAAoF;AAC9F,CAHD;;AAKAX,OAAO,CAAC,cAAD,CAAP;;AACAA,OAAO,CAAC,eAAD,CAAP",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models",
      "sourcesContent": [
        "const mongoose = require('mongoose');\n\nmongoose.connect(process.env.MONGODB_URI, {useNewUrlParser: true},  (err) => {\n    if (!err) { console.log('MongoDB connection succeeded.'); }\n    else { console.log('Error in MongoDB connection : ' + JSON.stringify(err, undefined, 2)); }\n});\n\nrequire('./user.model');\nrequire('./event.model');\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1571411911020
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models/user.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models/user.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models/user.model.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models/user.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models",
        "sourceFileName": "user.model.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst mongoose = require('mongoose');\n\nconst bcrypt = require('bcryptjs');\n\nconst jwt = require('jsonwebtoken');\n\nconst Event = require('../models/event.model');\n\nvar Schema = mongoose.Schema;\nvar ObjectId = Schema.ObjectId;\nvar userSchema = new mongoose.Schema({\n  fullName: {\n    type: String,\n    required: 'Full name can\\'t be empty'\n  },\n  email: {\n    type: String,\n    required: 'Email can\\'t be empty',\n    unique: true\n  },\n  password: {\n    type: String,\n    required: 'Password can\\'t be empty',\n    minlength: [6, 'Password must be at least 6 characters long']\n  },\n  relationships: {\n    followers: [{\n      type: String,\n      ref: \"User\"\n    }],\n    following: [{\n      type: String,\n      ref: \"User\"\n    }]\n  },\n  saltSecret: String,\n  posts: {\n    userPosts: [{\n      type: String\n    }]\n  }\n}); //Custom validation for email\n\nuserSchema.path('email').validate(val => {\n  return /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(val);\n}, 'Invalid e-mail.');\nuserSchema.pre('save', function (next) {\n  bcrypt.genSalt(10, (err, salt) => {\n    bcrypt.hash(this.password, salt, (err, hash) => {\n      this.password = hash;\n      this.saltSecret = salt;\n      next();\n    });\n  });\n}); // Methods\n\nuserSchema.methods.verifyPassword = async function (password, hashed_pass) {\n  const saltSecret = this.saltSecret;\n  const isValid = await bcrypt.compare(password, hashed_pass);\n  return isValid;\n};\n\nuserSchema.methods.generateJwt = function () {\n  return jwt.sign({\n    _id: this._id\n  }, process.env.JWT_SECRET, {\n    expiresIn: process.env.JWT_EXP\n  });\n};\n\nmongoose.model('User', userSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIubW9kZWwuanMiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJyZXF1aXJlIiwiYmNyeXB0Iiwiand0IiwiRXZlbnQiLCJTY2hlbWEiLCJPYmplY3RJZCIsInVzZXJTY2hlbWEiLCJmdWxsTmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImVtYWlsIiwidW5pcXVlIiwicGFzc3dvcmQiLCJtaW5sZW5ndGgiLCJyZWxhdGlvbnNoaXBzIiwiZm9sbG93ZXJzIiwicmVmIiwiZm9sbG93aW5nIiwic2FsdFNlY3JldCIsInBvc3RzIiwidXNlclBvc3RzIiwicGF0aCIsInZhbGlkYXRlIiwidmFsIiwidGVzdCIsInByZSIsIm5leHQiLCJnZW5TYWx0IiwiZXJyIiwic2FsdCIsImhhc2giLCJtZXRob2RzIiwidmVyaWZ5UGFzc3dvcmQiLCJoYXNoZWRfcGFzcyIsImlzVmFsaWQiLCJjb21wYXJlIiwiZ2VuZXJhdGVKd3QiLCJzaWduIiwiX2lkIiwicHJvY2VzcyIsImVudiIsIkpXVF9TRUNSRVQiLCJleHBpcmVzSW4iLCJKV1RfRVhQIiwibW9kZWwiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBRCxDQUF4Qjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxVQUFELENBQXRCOztBQUNBLE1BQU1FLEdBQUcsR0FBR0YsT0FBTyxDQUFDLGNBQUQsQ0FBbkI7O0FBQ0EsTUFBTUcsS0FBSyxHQUFHSCxPQUFPLENBQUMsdUJBQUQsQ0FBckI7O0FBRUEsSUFBSUksTUFBTSxHQUFHTCxRQUFRLENBQUNLLE1BQXRCO0FBQ0EsSUFBSUMsUUFBUSxHQUFHRCxNQUFNLENBQUNDLFFBQXRCO0FBRUEsSUFBSUMsVUFBVSxHQUFHLElBQUlQLFFBQVEsQ0FBQ0ssTUFBYixDQUFvQjtBQUNuQ0csRUFBQUEsUUFBUSxFQUFFO0FBQ1JDLElBQUFBLElBQUksRUFBRUMsTUFERTtBQUVSQyxJQUFBQSxRQUFRLEVBQUU7QUFGRixHQUR5QjtBQUtuQ0MsRUFBQUEsS0FBSyxFQUFFO0FBQ0xILElBQUFBLElBQUksRUFBRUMsTUFERDtBQUVMQyxJQUFBQSxRQUFRLEVBQUUsdUJBRkw7QUFHTEUsSUFBQUEsTUFBTSxFQUFFO0FBSEgsR0FMNEI7QUFVbkNDLEVBQUFBLFFBQVEsRUFBRTtBQUNSTCxJQUFBQSxJQUFJLEVBQUVDLE1BREU7QUFFUkMsSUFBQUEsUUFBUSxFQUFFLDBCQUZGO0FBR1JJLElBQUFBLFNBQVMsRUFBRSxDQUFDLENBQUQsRUFBSSw2Q0FBSjtBQUhILEdBVnlCO0FBZW5DQyxFQUFBQSxhQUFhLEVBQUU7QUFDYkMsSUFBQUEsU0FBUyxFQUFFLENBQUM7QUFBRVIsTUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCUSxNQUFBQSxHQUFHLEVBQUU7QUFBckIsS0FBRCxDQURFO0FBRWJDLElBQUFBLFNBQVMsRUFBRSxDQUFDO0FBQUVWLE1BQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQlEsTUFBQUEsR0FBRyxFQUFFO0FBQXJCLEtBQUQ7QUFGRSxHQWZvQjtBQW1CbkNFLEVBQUFBLFVBQVUsRUFBRVYsTUFuQnVCO0FBb0JuQ1csRUFBQUEsS0FBSyxFQUFFO0FBQ0xDLElBQUFBLFNBQVMsRUFBRSxDQUFDO0FBQUViLE1BQUFBLElBQUksRUFBRUM7QUFBUixLQUFEO0FBRE47QUFwQjRCLENBQXBCLENBQWpCLEMsQ0F5QkE7O0FBRUFILFVBQVUsQ0FBQ2dCLElBQVgsQ0FBZ0IsT0FBaEIsRUFBeUJDLFFBQXpCLENBQW1DQyxHQUFELElBQVM7QUFDekMsU0FBTywwSkFBMEpDLElBQTFKLENBQStKRCxHQUEvSixDQUFQO0FBQ0QsQ0FGRCxFQUVHLGlCQUZIO0FBSUFsQixVQUFVLENBQUNvQixHQUFYLENBQWUsTUFBZixFQUF1QixVQUFTQyxJQUFULEVBQWU7QUFDcEMxQixFQUFBQSxNQUFNLENBQUMyQixPQUFQLENBQWUsRUFBZixFQUFtQixDQUFDQyxHQUFELEVBQU1DLElBQU4sS0FBZTtBQUNoQzdCLElBQUFBLE1BQU0sQ0FBQzhCLElBQVAsQ0FBWSxLQUFLbEIsUUFBakIsRUFBMkJpQixJQUEzQixFQUFpQyxDQUFDRCxHQUFELEVBQU1FLElBQU4sS0FBZTtBQUM5QyxXQUFLbEIsUUFBTCxHQUFnQmtCLElBQWhCO0FBQ0EsV0FBS1osVUFBTCxHQUFrQlcsSUFBbEI7QUFDQUgsTUFBQUEsSUFBSTtBQUNMLEtBSkQ7QUFLRCxHQU5EO0FBT0QsQ0FSRCxFLENBVUE7O0FBRUFyQixVQUFVLENBQUMwQixPQUFYLENBQW1CQyxjQUFuQixHQUFvQyxnQkFBZ0JwQixRQUFoQixFQUEwQnFCLFdBQTFCLEVBQXVDO0FBQ3pFLFFBQU1mLFVBQVUsR0FBRyxLQUFLQSxVQUF4QjtBQUNBLFFBQU1nQixPQUFPLEdBQUcsTUFBTWxDLE1BQU0sQ0FBQ21DLE9BQVAsQ0FBZXZCLFFBQWYsRUFBeUJxQixXQUF6QixDQUF0QjtBQUNBLFNBQU9DLE9BQVA7QUFDRCxDQUpEOztBQU1BN0IsVUFBVSxDQUFDMEIsT0FBWCxDQUFtQkssV0FBbkIsR0FBaUMsWUFBWTtBQUMzQyxTQUFPbkMsR0FBRyxDQUFDb0MsSUFBSixDQUFTO0FBQUNDLElBQUFBLEdBQUcsRUFBRSxLQUFLQTtBQUFYLEdBQVQsRUFDUEMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFVBREwsRUFDaUI7QUFDdEJDLElBQUFBLFNBQVMsRUFBRUgsT0FBTyxDQUFDQyxHQUFSLENBQVlHO0FBREQsR0FEakIsQ0FBUDtBQUlELENBTEQ7O0FBTUE3QyxRQUFRLENBQUM4QyxLQUFULENBQWUsTUFBZixFQUF1QnZDLFVBQXZCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9qb25hdGhhbmF1Z3VzdGluL0Rlc2t0b3AvV2Vic2l0ZXMvbGl2ZS1jaWNsZS9iYWNrZW5kL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoJ2JjcnlwdGpzJyk7XG5jb25zdCBqd3QgPSByZXF1aXJlKCdqc29ud2VidG9rZW4nKTtcbmNvbnN0IEV2ZW50ID0gcmVxdWlyZSgnLi4vbW9kZWxzL2V2ZW50Lm1vZGVsJyk7XG5cbnZhciBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XG52YXIgT2JqZWN0SWQgPSBTY2hlbWEuT2JqZWN0SWQ7XG5cbnZhciB1c2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIGZ1bGxOYW1lOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiAnRnVsbCBuYW1lIGNhblxcJ3QgYmUgZW1wdHknXG4gIH0sXG4gIGVtYWlsOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiAnRW1haWwgY2FuXFwndCBiZSBlbXB0eScsXG4gICAgdW5pcXVlOiB0cnVlXG4gIH0sXG4gIHBhc3N3b3JkOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiAnUGFzc3dvcmQgY2FuXFwndCBiZSBlbXB0eScsXG4gICAgbWlubGVuZ3RoOiBbNiwgJ1Bhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgNiBjaGFyYWN0ZXJzIGxvbmcnXVxuICB9LFxuICByZWxhdGlvbnNoaXBzOiB7XG4gICAgZm9sbG93ZXJzOiBbeyB0eXBlOiBTdHJpbmcsIHJlZjogXCJVc2VyXCIgfV0sXG4gICAgZm9sbG93aW5nOiBbeyB0eXBlOiBTdHJpbmcsIHJlZjogXCJVc2VyXCIgfV1cbiAgfSxcbiAgc2FsdFNlY3JldDogU3RyaW5nLFxuICBwb3N0czoge1xuICAgIHVzZXJQb3N0czogW3sgdHlwZTogU3RyaW5nfV1cbiAgfVxufSk7XG5cbi8vQ3VzdG9tIHZhbGlkYXRpb24gZm9yIGVtYWlsXG5cbnVzZXJTY2hlbWEucGF0aCgnZW1haWwnKS52YWxpZGF0ZSgodmFsKSA9PiB7XG4gIHJldHVybiAvXigoW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXF0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvLnRlc3QodmFsKTtcbn0sICdJbnZhbGlkIGUtbWFpbC4nKTtcblxudXNlclNjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbihuZXh0KSB7XG4gIGJjcnlwdC5nZW5TYWx0KDEwLCAoZXJyLCBzYWx0KSA9PiB7XG4gICAgYmNyeXB0Lmhhc2godGhpcy5wYXNzd29yZCwgc2FsdCwgKGVyciwgaGFzaCkgPT4ge1xuICAgICAgdGhpcy5wYXNzd29yZCA9IGhhc2g7XG4gICAgICB0aGlzLnNhbHRTZWNyZXQgPSBzYWx0O1xuICAgICAgbmV4dCgpO1xuICAgIH0pXG4gIH0pXG59KVxuXG4vLyBNZXRob2RzXG5cbnVzZXJTY2hlbWEubWV0aG9kcy52ZXJpZnlQYXNzd29yZCA9IGFzeW5jIGZ1bmN0aW9uIChwYXNzd29yZCwgaGFzaGVkX3Bhc3MpIHtcbiAgY29uc3Qgc2FsdFNlY3JldCA9IHRoaXMuc2FsdFNlY3JldDtcbiAgY29uc3QgaXNWYWxpZCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCBoYXNoZWRfcGFzcyk7XG4gIHJldHVybiBpc1ZhbGlkO1xufVxuXG51c2VyU2NoZW1hLm1ldGhvZHMuZ2VuZXJhdGVKd3QgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBqd3Quc2lnbih7X2lkOiB0aGlzLl9pZH0sXG4gIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQsIHtcbiAgICBleHBpcmVzSW46IHByb2Nlc3MuZW52LkpXVF9FWFBcbiAgfSk7XG59XG5tb25nb29zZS5tb2RlbCgnVXNlcicsIHVzZXJTY2hlbWEpO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "user.model.js"
      ],
      "names": [
        "mongoose",
        "require",
        "bcrypt",
        "jwt",
        "Event",
        "Schema",
        "ObjectId",
        "userSchema",
        "fullName",
        "type",
        "String",
        "required",
        "email",
        "unique",
        "password",
        "minlength",
        "relationships",
        "followers",
        "ref",
        "following",
        "saltSecret",
        "posts",
        "userPosts",
        "path",
        "validate",
        "val",
        "test",
        "pre",
        "next",
        "genSalt",
        "err",
        "salt",
        "hash",
        "methods",
        "verifyPassword",
        "hashed_pass",
        "isValid",
        "compare",
        "generateJwt",
        "sign",
        "_id",
        "process",
        "env",
        "JWT_SECRET",
        "expiresIn",
        "JWT_EXP",
        "model"
      ],
      "mappings": ";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAMC,MAAM,GAAGD,OAAO,CAAC,UAAD,CAAtB;;AACA,MAAME,GAAG,GAAGF,OAAO,CAAC,cAAD,CAAnB;;AACA,MAAMG,KAAK,GAAGH,OAAO,CAAC,uBAAD,CAArB;;AAEA,IAAII,MAAM,GAAGL,QAAQ,CAACK,MAAtB;AACA,IAAIC,QAAQ,GAAGD,MAAM,CAACC,QAAtB;AAEA,IAAIC,UAAU,GAAG,IAAIP,QAAQ,CAACK,MAAb,CAAoB;AACnCG,EAAAA,QAAQ,EAAE;AACRC,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE;AAFF,GADyB;AAKnCC,EAAAA,KAAK,EAAE;AACLH,IAAAA,IAAI,EAAEC,MADD;AAELC,IAAAA,QAAQ,EAAE,uBAFL;AAGLE,IAAAA,MAAM,EAAE;AAHH,GAL4B;AAUnCC,EAAAA,QAAQ,EAAE;AACRL,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE,0BAFF;AAGRI,IAAAA,SAAS,EAAE,CAAC,CAAD,EAAI,6CAAJ;AAHH,GAVyB;AAenCC,EAAAA,aAAa,EAAE;AACbC,IAAAA,SAAS,EAAE,CAAC;AAAER,MAAAA,IAAI,EAAEC,MAAR;AAAgBQ,MAAAA,GAAG,EAAE;AAArB,KAAD,CADE;AAEbC,IAAAA,SAAS,EAAE,CAAC;AAAEV,MAAAA,IAAI,EAAEC,MAAR;AAAgBQ,MAAAA,GAAG,EAAE;AAArB,KAAD;AAFE,GAfoB;AAmBnCE,EAAAA,UAAU,EAAEV,MAnBuB;AAoBnCW,EAAAA,KAAK,EAAE;AACLC,IAAAA,SAAS,EAAE,CAAC;AAAEb,MAAAA,IAAI,EAAEC;AAAR,KAAD;AADN;AApB4B,CAApB,CAAjB,C,CAyBA;;AAEAH,UAAU,CAACgB,IAAX,CAAgB,OAAhB,EAAyBC,QAAzB,CAAmCC,GAAD,IAAS;AACzC,SAAO,0JAA0JC,IAA1J,CAA+JD,GAA/J,CAAP;AACD,CAFD,EAEG,iBAFH;AAIAlB,UAAU,CAACoB,GAAX,CAAe,MAAf,EAAuB,UAASC,IAAT,EAAe;AACpC1B,EAAAA,MAAM,CAAC2B,OAAP,CAAe,EAAf,EAAmB,CAACC,GAAD,EAAMC,IAAN,KAAe;AAChC7B,IAAAA,MAAM,CAAC8B,IAAP,CAAY,KAAKlB,QAAjB,EAA2BiB,IAA3B,EAAiC,CAACD,GAAD,EAAME,IAAN,KAAe;AAC9C,WAAKlB,QAAL,GAAgBkB,IAAhB;AACA,WAAKZ,UAAL,GAAkBW,IAAlB;AACAH,MAAAA,IAAI;AACL,KAJD;AAKD,GAND;AAOD,CARD,E,CAUA;;AAEArB,UAAU,CAAC0B,OAAX,CAAmBC,cAAnB,GAAoC,gBAAgBpB,QAAhB,EAA0BqB,WAA1B,EAAuC;AACzE,QAAMf,UAAU,GAAG,KAAKA,UAAxB;AACA,QAAMgB,OAAO,GAAG,MAAMlC,MAAM,CAACmC,OAAP,CAAevB,QAAf,EAAyBqB,WAAzB,CAAtB;AACA,SAAOC,OAAP;AACD,CAJD;;AAMA7B,UAAU,CAAC0B,OAAX,CAAmBK,WAAnB,GAAiC,YAAY;AAC3C,SAAOnC,GAAG,CAACoC,IAAJ,CAAS;AAACC,IAAAA,GAAG,EAAE,KAAKA;AAAX,GAAT,EACPC,OAAO,CAACC,GAAR,CAAYC,UADL,EACiB;AACtBC,IAAAA,SAAS,EAAEH,OAAO,CAACC,GAAR,CAAYG;AADD,GADjB,CAAP;AAID,CALD;;AAMA7C,QAAQ,CAAC8C,KAAT,CAAe,MAAf,EAAuBvC,UAAvB",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models",
      "sourcesContent": [
        "const mongoose = require('mongoose');\nconst bcrypt = require('bcryptjs');\nconst jwt = require('jsonwebtoken');\nconst Event = require('../models/event.model');\n\nvar Schema = mongoose.Schema;\nvar ObjectId = Schema.ObjectId;\n\nvar userSchema = new mongoose.Schema({\n  fullName: {\n    type: String,\n    required: 'Full name can\\'t be empty'\n  },\n  email: {\n    type: String,\n    required: 'Email can\\'t be empty',\n    unique: true\n  },\n  password: {\n    type: String,\n    required: 'Password can\\'t be empty',\n    minlength: [6, 'Password must be at least 6 characters long']\n  },\n  relationships: {\n    followers: [{ type: String, ref: \"User\" }],\n    following: [{ type: String, ref: \"User\" }]\n  },\n  saltSecret: String,\n  posts: {\n    userPosts: [{ type: String}]\n  }\n});\n\n//Custom validation for email\n\nuserSchema.path('email').validate((val) => {\n  return /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(val);\n}, 'Invalid e-mail.');\n\nuserSchema.pre('save', function(next) {\n  bcrypt.genSalt(10, (err, salt) => {\n    bcrypt.hash(this.password, salt, (err, hash) => {\n      this.password = hash;\n      this.saltSecret = salt;\n      next();\n    })\n  })\n})\n\n// Methods\n\nuserSchema.methods.verifyPassword = async function (password, hashed_pass) {\n  const saltSecret = this.saltSecret;\n  const isValid = await bcrypt.compare(password, hashed_pass);\n  return isValid;\n}\n\nuserSchema.methods.generateJwt = function () {\n  return jwt.sign({_id: this._id},\n  process.env.JWT_SECRET, {\n    expiresIn: process.env.JWT_EXP\n  });\n}\nmongoose.model('User', userSchema);\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1580451530546
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models/event.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models/event.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models/event.model.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models/event.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models",
        "sourceFileName": "event.model.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst mongoose = require(\"mongoose\");\n\nconst Schema = mongoose.Schema;\nlet Event = new Schema({\n  eventName: {\n    type: String\n  },\n  location: {\n    type: String\n  },\n  lat: {\n    type: Number\n  },\n  long: {\n    type: Number\n  },\n  startDate: {\n    type: String\n  },\n  eventDateUntil: {\n    type: String\n  },\n  info: {\n    type: String\n  },\n  price: {\n    type: Number,\n    default: 0\n  },\n  interest: {\n    type: Number,\n    default: 0\n  },\n  eventPrivate: {\n    type: Boolean,\n    default: false\n  },\n  promoter: {\n    /*     required: true */\n  },\n  status: {\n    type: String,\n    default: 'Open'\n  }\n});\nmodule.exports = mongoose.model('Event', Event);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV2ZW50Lm1vZGVsLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsIlNjaGVtYSIsIkV2ZW50IiwiZXZlbnROYW1lIiwidHlwZSIsIlN0cmluZyIsImxvY2F0aW9uIiwibGF0IiwiTnVtYmVyIiwibG9uZyIsInN0YXJ0RGF0ZSIsImV2ZW50RGF0ZVVudGlsIiwiaW5mbyIsInByaWNlIiwiZGVmYXVsdCIsImludGVyZXN0IiwiZXZlbnRQcml2YXRlIiwiQm9vbGVhbiIsInByb21vdGVyIiwic3RhdHVzIiwibW9kdWxlIiwiZXhwb3J0cyIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBeEI7O0FBR0EsTUFBTUMsTUFBTSxHQUFHRixRQUFRLENBQUNFLE1BQXhCO0FBRUEsSUFBSUMsS0FBSyxHQUFHLElBQUlELE1BQUosQ0FBVztBQUNyQkUsRUFBQUEsU0FBUyxFQUFFO0FBQ1RDLElBQUFBLElBQUksRUFBRUM7QUFERyxHQURVO0FBSXJCQyxFQUFBQSxRQUFRLEVBQUU7QUFDUkYsSUFBQUEsSUFBSSxFQUFFQztBQURFLEdBSlc7QUFPckJFLEVBQUFBLEdBQUcsRUFBRTtBQUNISCxJQUFBQSxJQUFJLEVBQUVJO0FBREgsR0FQZ0I7QUFVckJDLEVBQUFBLElBQUksRUFBRTtBQUNKTCxJQUFBQSxJQUFJLEVBQUVJO0FBREYsR0FWZTtBQWFyQkUsRUFBQUEsU0FBUyxFQUFFO0FBQ1ROLElBQUFBLElBQUksRUFBRUM7QUFERyxHQWJVO0FBZ0JyQk0sRUFBQUEsY0FBYyxFQUFFO0FBQ2RQLElBQUFBLElBQUksRUFBRUM7QUFEUSxHQWhCSztBQW1CckJPLEVBQUFBLElBQUksRUFBRTtBQUNKUixJQUFBQSxJQUFJLEVBQUVDO0FBREYsR0FuQmU7QUFzQnJCUSxFQUFBQSxLQUFLLEVBQUU7QUFDTFQsSUFBQUEsSUFBSSxFQUFFSSxNQUREO0FBRUxNLElBQUFBLE9BQU8sRUFBRTtBQUZKLEdBdEJjO0FBMEJyQkMsRUFBQUEsUUFBUSxFQUFFO0FBQ1JYLElBQUFBLElBQUksRUFBRUksTUFERTtBQUVSTSxJQUFBQSxPQUFPLEVBQUU7QUFGRCxHQTFCVztBQThCckJFLEVBQUFBLFlBQVksRUFBRTtBQUNaWixJQUFBQSxJQUFJLEVBQUVhLE9BRE07QUFFWkgsSUFBQUEsT0FBTyxFQUFFO0FBRkcsR0E5Qk87QUFrQ3JCSSxFQUFBQSxRQUFRLEVBQUU7QUFDWjtBQURZLEdBbENXO0FBcUNyQkMsRUFBQUEsTUFBTSxFQUFFO0FBQ05mLElBQUFBLElBQUksRUFBRUMsTUFEQTtBQUVOUyxJQUFBQSxPQUFPLEVBQUU7QUFGSDtBQXJDYSxDQUFYLENBQVo7QUEyQ0FNLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnRCLFFBQVEsQ0FBQ3VCLEtBQVQsQ0FBZSxPQUFmLEVBQXdCcEIsS0FBeEIsQ0FBakIiLCJzb3VyY2VSb290IjoiL1VzZXJzL2pvbmF0aGFuYXVndXN0aW4vRGVza3RvcC9XZWJzaXRlcy9saXZlLWNpY2xlL2JhY2tlbmQvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKFwibW9uZ29vc2VcIik7XG5cblxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hO1xuXG5sZXQgRXZlbnQgPSBuZXcgU2NoZW1hKHtcbiAgZXZlbnROYW1lOiB7XG4gICAgdHlwZTogU3RyaW5nXG4gIH0sXG4gIGxvY2F0aW9uOiB7XG4gICAgdHlwZTogU3RyaW5nXG4gIH0sXG4gIGxhdDoge1xuICAgIHR5cGU6IE51bWJlclxuICB9LFxuICBsb25nOiB7XG4gICAgdHlwZTogTnVtYmVyXG4gIH0sXG4gIHN0YXJ0RGF0ZToge1xuICAgIHR5cGU6IFN0cmluZ1xuICB9LFxuICBldmVudERhdGVVbnRpbDoge1xuICAgIHR5cGU6IFN0cmluZ1xuICB9LFxuICBpbmZvOiB7XG4gICAgdHlwZTogU3RyaW5nXG4gIH0sXG4gIHByaWNlOiB7XG4gICAgdHlwZTogTnVtYmVyLFxuICAgIGRlZmF1bHQ6IDBcbiAgfSxcbiAgaW50ZXJlc3Q6IHtcbiAgICB0eXBlOiBOdW1iZXIsXG4gICAgZGVmYXVsdDogMFxuICB9LFxuICBldmVudFByaXZhdGU6IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IGZhbHNlXG4gIH0sXG4gIHByb21vdGVyOiB7XG4vKiAgICAgcmVxdWlyZWQ6IHRydWUgKi9cbiAgfSxcbiAgc3RhdHVzOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGRlZmF1bHQ6ICdPcGVuJ1xuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBtb25nb29zZS5tb2RlbCgnRXZlbnQnLCBFdmVudClcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "event.model.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Schema",
        "Event",
        "eventName",
        "type",
        "String",
        "location",
        "lat",
        "Number",
        "long",
        "startDate",
        "eventDateUntil",
        "info",
        "price",
        "default",
        "interest",
        "eventPrivate",
        "Boolean",
        "promoter",
        "status",
        "module",
        "exports",
        "model"
      ],
      "mappings": ";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AAGA,MAAMC,MAAM,GAAGF,QAAQ,CAACE,MAAxB;AAEA,IAAIC,KAAK,GAAG,IAAID,MAAJ,CAAW;AACrBE,EAAAA,SAAS,EAAE;AACTC,IAAAA,IAAI,EAAEC;AADG,GADU;AAIrBC,EAAAA,QAAQ,EAAE;AACRF,IAAAA,IAAI,EAAEC;AADE,GAJW;AAOrBE,EAAAA,GAAG,EAAE;AACHH,IAAAA,IAAI,EAAEI;AADH,GAPgB;AAUrBC,EAAAA,IAAI,EAAE;AACJL,IAAAA,IAAI,EAAEI;AADF,GAVe;AAarBE,EAAAA,SAAS,EAAE;AACTN,IAAAA,IAAI,EAAEC;AADG,GAbU;AAgBrBM,EAAAA,cAAc,EAAE;AACdP,IAAAA,IAAI,EAAEC;AADQ,GAhBK;AAmBrBO,EAAAA,IAAI,EAAE;AACJR,IAAAA,IAAI,EAAEC;AADF,GAnBe;AAsBrBQ,EAAAA,KAAK,EAAE;AACLT,IAAAA,IAAI,EAAEI,MADD;AAELM,IAAAA,OAAO,EAAE;AAFJ,GAtBc;AA0BrBC,EAAAA,QAAQ,EAAE;AACRX,IAAAA,IAAI,EAAEI,MADE;AAERM,IAAAA,OAAO,EAAE;AAFD,GA1BW;AA8BrBE,EAAAA,YAAY,EAAE;AACZZ,IAAAA,IAAI,EAAEa,OADM;AAEZH,IAAAA,OAAO,EAAE;AAFG,GA9BO;AAkCrBI,EAAAA,QAAQ,EAAE;AACZ;AADY,GAlCW;AAqCrBC,EAAAA,MAAM,EAAE;AACNf,IAAAA,IAAI,EAAEC,MADA;AAENS,IAAAA,OAAO,EAAE;AAFH;AArCa,CAAX,CAAZ;AA2CAM,MAAM,CAACC,OAAP,GAAiBtB,QAAQ,CAACuB,KAAT,CAAe,OAAf,EAAwBpB,KAAxB,CAAjB",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/models",
      "sourcesContent": [
        "const mongoose = require(\"mongoose\");\n\n\nconst Schema = mongoose.Schema;\n\nlet Event = new Schema({\n  eventName: {\n    type: String\n  },\n  location: {\n    type: String\n  },\n  lat: {\n    type: Number\n  },\n  long: {\n    type: Number\n  },\n  startDate: {\n    type: String\n  },\n  eventDateUntil: {\n    type: String\n  },\n  info: {\n    type: String\n  },\n  price: {\n    type: Number,\n    default: 0\n  },\n  interest: {\n    type: Number,\n    default: 0\n  },\n  eventPrivate: {\n    type: Boolean,\n    default: false\n  },\n  promoter: {\n/*     required: true */\n  },\n  status: {\n    type: String,\n    default: 'Open'\n  }\n});\n\nmodule.exports = mongoose.model('Event', Event)\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1578431118000
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/routes/index.routes.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/routes/index.routes.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/routes/index.routes.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/routes/index.routes.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/routes",
        "sourceFileName": "index.routes.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst express = require('express');\n\nconst router = express.Router();\n\nconst ctrlUser = require('../controllers/user.controller');\n\nconst ctrlEvent = require('../controllers/event.controller');\n\nconst jwtHelper = require('../config/jwtHelper');\n\nrouter.route('/test').post(jwtHelper.verifyJwtToken, (req, res) => {\n  console.log('yes');\n  console.log('req.body:', req.body);\n  res.status(200).send(req.body);\n});\nrouter.post('/register', ctrlUser.register);\nrouter.post('/authenticate', ctrlUser.authenticate);\nrouter.post('/refresh', ctrlUser.refresh);\nrouter.post('/logout', ctrlUser.logout);\nrouter.get('/userProfile', jwtHelper.verifyJwtToken, ctrlUser.userProfile);\nrouter.get('/users', jwtHelper.verifyJwtToken, ctrlUser.users);\nrouter.post('/posts', jwtHelper.verifyJwtToken, ctrlUser.posts);\nrouter.post('/ticketmaster-events', ctrlEvent.tmEvents);\nrouter.get('/users2', ctrlUser.users);\nrouter.get(\"/profile/:email\", ctrlUser.friendProfile);\nrouter.post('/follow', jwtHelper.verifyJwtToken, ctrlUser.follow);\nrouter.get('/events', ctrlEvent.events);\nrouter.post('/events/add', jwtHelper.verifyJwtToken, ctrlEvent.addEvent);\nrouter.post('/events/upload', ctrlEvent.uploadFiles);\nrouter.route('/events/:id').get((req, res) => {\n  Event.findById(req.params.id, (err, event) => {\n    if (err) console.log(err);else res.json(event);\n  });\n});\nrouter.route('/events/update/:id').post((req, res) => {\n  Event.findById(req.params.id, (err, event) => {\n    if (!event) return next(new Error('Could not load document'));else {\n      // This may change here\n      event.eventName = req.body.eventName;\n      event.eventLocation = req.body.eventLocation;\n      event.eventLat = req.body.eventLat;\n      event.eventLng = req.body.eventLng;\n      event.eventDateFrom = req.body.eventDateFrom;\n      event.eventDateUntil = req.body.eventDateUntil;\n      event.eventDescr = req.body.eventDescr;\n      event.price = req.body.price;\n      event.eventPrivate = req.body.eventPrivate;\n      event.interest = req.body.interest;\n      event.save().then(event => {\n        res.json('Update done');\n      }).catch(err => {\n        res.status(400).send('Update failed');\n      });\n    }\n  });\n});\nrouter.route('/events/delete/:id').get((req, res) => {\n  Event.findByIdAndRemove({\n    _id: req.params.id\n  }, (err, event) => {\n    if (err) res.json(err);else res.json('Remove successfully');\n  });\n});\n/* router.post('/unfollow', function(req, res) {\n    const user_id = req.user._id;\n    const to_follow_id = req.body.follow_id;\n\n    let bulk = Follow.collection.initializeUnorderedBulkOp();\n\n    bulk.find({ 'user': Types.ObjectId(user_id) }).upsert().updateOne({\n        $pull: {\n            following: Types.ObjectId(to_follow_id)\n        }\n    });\n\n    bulk.find({ 'user': Types.ObjectId(to_follow_id) }).upsert().updateOne({\n        $pull: {\n            followers: Types.ObjectId(user_id)\n        }\n    })\n\n    bulk.execute(function(err, doc) {\n        if (err) {\n            return res.json({\n                'state': false,\n                'msg': err\n            })\n        }\n        res.json({\n            'state': true,\n            'msg': 'Unfollowed'\n        })\n    })\n}) */\n\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnJvdXRlcy5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImN0cmxVc2VyIiwiY3RybEV2ZW50Iiwiand0SGVscGVyIiwicm91dGUiLCJwb3N0IiwidmVyaWZ5Snd0VG9rZW4iLCJyZXEiLCJyZXMiLCJjb25zb2xlIiwibG9nIiwiYm9keSIsInN0YXR1cyIsInNlbmQiLCJyZWdpc3RlciIsImF1dGhlbnRpY2F0ZSIsInJlZnJlc2giLCJsb2dvdXQiLCJnZXQiLCJ1c2VyUHJvZmlsZSIsInVzZXJzIiwicG9zdHMiLCJ0bUV2ZW50cyIsImZyaWVuZFByb2ZpbGUiLCJmb2xsb3ciLCJldmVudHMiLCJhZGRFdmVudCIsInVwbG9hZEZpbGVzIiwiRXZlbnQiLCJmaW5kQnlJZCIsInBhcmFtcyIsImlkIiwiZXJyIiwiZXZlbnQiLCJqc29uIiwibmV4dCIsIkVycm9yIiwiZXZlbnROYW1lIiwiZXZlbnRMb2NhdGlvbiIsImV2ZW50TGF0IiwiZXZlbnRMbmciLCJldmVudERhdGVGcm9tIiwiZXZlbnREYXRlVW50aWwiLCJldmVudERlc2NyIiwicHJpY2UiLCJldmVudFByaXZhdGUiLCJpbnRlcmVzdCIsInNhdmUiLCJ0aGVuIiwiY2F0Y2giLCJmaW5kQnlJZEFuZFJlbW92ZSIsIl9pZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBUixFQUFmOztBQUVBLE1BQU1DLFFBQVEsR0FBR0gsT0FBTyxDQUFDLGdDQUFELENBQXhCOztBQUNBLE1BQU1JLFNBQVMsR0FBR0osT0FBTyxDQUFDLGlDQUFELENBQXpCOztBQUdBLE1BQU1LLFNBQVMsR0FBR0wsT0FBTyxDQUFDLHFCQUFELENBQXpCOztBQUNBQyxNQUFNLENBQUNLLEtBQVAsQ0FBYSxPQUFiLEVBQXNC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RUFBTUMsR0FBTixLQUFjO0FBQ25Eb0IsRUFBQUEsS0FBSyxDQUFDc0IsaUJBQU4sQ0FBd0I7QUFBQ0MsSUFBQUEsR0FBRyxFQUFFNUMsR0FBRyxDQUFDdUIsTUFBSixDQUFXQztBQUFqQixHQUF4QixFQUE4QyxDQUFDQyxHQUFELEVBQU1DLEtBQU4sS0FBZ0I7QUFDNUQsUUFBSUQsR0FBSixFQUNFeEIsR0FBRyxDQUFDMEIsSUFBSixDQUFTRixHQUFULEVBREYsS0FHRXhCLEdBQUcsQ0FBQzBCLElBQUosQ0FBUyxxQkFBVDtBQUNILEdBTEQ7QUFNRCxDQVBEO0FBU0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBZ0NBa0IsTUFBTSxDQUFDQyxPQUFQLEdBQWlCdEQsTUFBakIiLCJzb3VyY2VSb290IjoiL1VzZXJzL2pvbmF0aGFuYXVndXN0aW4vRGVza3RvcC9XZWJzaXRlcy9saXZlLWNpY2xlL2JhY2tlbmQvcm91dGVzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbmNvbnN0IGN0cmxVc2VyID0gcmVxdWlyZSgnLi4vY29udHJvbGxlcnMvdXNlci5jb250cm9sbGVyJyk7XG5jb25zdCBjdHJsRXZlbnQgPSByZXF1aXJlKCcuLi9jb250cm9sbGVycy9ldmVudC5jb250cm9sbGVyJyk7XG5cblxuY29uc3Qgand0SGVscGVyID0gcmVxdWlyZSgnLi4vY29uZmlnL2p3dEhlbHBlcicpO1xucm91dGVyLnJvdXRlKCcvdGVzdCcpLnBvc3Qoand0SGVscGVyLnZlcmlmeUp3dFRva2VuLCAocmVxLCByZXMpID0+IHtcbiAgY29uc29sZS5sb2coJ3llcycpO1xuICBjb25zb2xlLmxvZygncmVxLmJvZHk6JywgcmVxLmJvZHkpO1xuICByZXMuc3RhdHVzKDIwMCkuc2VuZChyZXEuYm9keSk7XG59KTtcbnJvdXRlci5wb3N0KCcvcmVnaXN0ZXInLCBjdHJsVXNlci5yZWdpc3Rlcik7XG5yb3V0ZXIucG9zdCgnL2F1dGhlbnRpY2F0ZScsIGN0cmxVc2VyLmF1dGhlbnRpY2F0ZSk7XG5yb3V0ZXIucG9zdCgnL3JlZnJlc2gnLCBjdHJsVXNlci5yZWZyZXNoKTtcbnJvdXRlci5wb3N0KCcvbG9nb3V0JywgY3RybFVzZXIubG9nb3V0KTtcbnJvdXRlci5nZXQoJy91c2VyUHJvZmlsZScsIGp3dEhlbHBlci52ZXJpZnlKd3RUb2tlbiwgY3RybFVzZXIudXNlclByb2ZpbGUpO1xucm91dGVyLmdldCgnL3VzZXJzJywgand0SGVscGVyLnZlcmlmeUp3dFRva2VuLCBjdHJsVXNlci51c2Vycyk7XG5yb3V0ZXIucG9zdCgnL3Bvc3RzJywgand0SGVscGVyLnZlcmlmeUp3dFRva2VuLCBjdHJsVXNlci5wb3N0cyk7XG5yb3V0ZXIucG9zdCgnL3RpY2tldG1hc3Rlci1ldmVudHMnLCBjdHJsRXZlbnQudG1FdmVudHMpO1xucm91dGVyLmdldCgnL3VzZXJzMicsIGN0cmxVc2VyLnVzZXJzKTtcbnJvdXRlci5nZXQoXCIvcHJvZmlsZS86ZW1haWxcIiwgY3RybFVzZXIuZnJpZW5kUHJvZmlsZSk7XG5yb3V0ZXIucG9zdCgnL2ZvbGxvdycsIGp3dEhlbHBlci52ZXJpZnlKd3RUb2tlbiwgY3RybFVzZXIuZm9sbG93KTtcbnJvdXRlci5nZXQoJy9ldmVudHMnLCBjdHJsRXZlbnQuZXZlbnRzKTtcbnJvdXRlci5wb3N0KCcvZXZlbnRzL2FkZCcsIGp3dEhlbHBlci52ZXJpZnlKd3RUb2tlbiwgY3RybEV2ZW50LmFkZEV2ZW50KTtcbnJvdXRlci5wb3N0KCcvZXZlbnRzL3VwbG9hZCcsIGN0cmxFdmVudC51cGxvYWRGaWxlcyk7XG5yb3V0ZXIucm91dGUoJy9ldmVudHMvOmlkJykuZ2V0KChyZXEsIHJlcykgPT4ge1xuICBFdmVudC5maW5kQnlJZChyZXEucGFyYW1zLmlkLCAoZXJyLCBldmVudCkgPT4ge1xuICAgIGlmIChlcnIpXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIGVsc2VcbiAgICAgIHJlcy5qc29uKGV2ZW50KTtcbiAgfSk7XG59KTtcblxucm91dGVyLnJvdXRlKCcvZXZlbnRzL3VwZGF0ZS86aWQnKS5wb3N0KChyZXEsIHJlcykgPT4ge1xuICBFdmVudC5maW5kQnlJZChyZXEucGFyYW1zLmlkLCAoZXJyLCBldmVudCkgPT4ge1xuICAgIGlmICghZXZlbnQpXG4gICAgICByZXR1cm4gbmV4dChuZXcgRXJyb3IoJ0NvdWxkIG5vdCBsb2FkIGRvY3VtZW50JykpO1xuICAgIGVsc2V7XG4gICAgICAvLyBUaGlzIG1heSBjaGFuZ2UgaGVyZVxuICAgICAgZXZlbnQuZXZlbnROYW1lPSByZXEuYm9keS5ldmVudE5hbWU7XG4gICAgICBldmVudC5ldmVudExvY2F0aW9uPSByZXEuYm9keS5ldmVudExvY2F0aW9uO1xuICAgICAgZXZlbnQuZXZlbnRMYXQ9IHJlcS5ib2R5LmV2ZW50TGF0O1xuICAgICAgZXZlbnQuZXZlbnRMbmc9IHJlcS5ib2R5LmV2ZW50TG5nO1xuICAgICAgZXZlbnQuZXZlbnREYXRlRnJvbT0gcmVxLmJvZHkuZXZlbnREYXRlRnJvbTtcbiAgICAgIGV2ZW50LmV2ZW50RGF0ZVVudGlsPSByZXEuYm9keS5ldmVudERhdGVVbnRpbDtcbiAgICAgIGV2ZW50LmV2ZW50RGVzY3I9IHJlcS5ib2R5LmV2ZW50RGVzY3I7XG4gICAgICBldmVudC5wcmljZT0gcmVxLmJvZHkucHJpY2U7XG4gICAgICBldmVudC5ldmVudFByaXZhdGU9IHJlcS5ib2R5LmV2ZW50UHJpdmF0ZTtcbiAgICAgIGV2ZW50LmludGVyZXN0PSByZXEuYm9keS5pbnRlcmVzdDtcblxuICAgICAgZXZlbnQuc2F2ZSgpLnRoZW4oZXZlbnQgPT4ge1xuICAgICAgICByZXMuanNvbignVXBkYXRlIGRvbmUnKTtcbiAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdVcGRhdGUgZmFpbGVkJyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbnJvdXRlci5yb3V0ZSgnL2V2ZW50cy9kZWxldGUvOmlkJykuZ2V0KChyZXEsIHJlcykgPT4ge1xuICBFdmVudC5maW5kQnlJZEFuZFJlbW92ZSh7X2lkOiByZXEucGFyYW1zLmlkfSwgKGVyciwgZXZlbnQpID0+IHtcbiAgICBpZiAoZXJyKVxuICAgICAgcmVzLmpzb24oZXJyKTtcbiAgICBlbHNlXG4gICAgICByZXMuanNvbignUmVtb3ZlIHN1Y2Nlc3NmdWxseScpO1xuICB9KVxufSlcblxuLyogcm91dGVyLnBvc3QoJy91bmZvbGxvdycsIGZ1bmN0aW9uKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgdXNlcl9pZCA9IHJlcS51c2VyLl9pZDtcbiAgICBjb25zdCB0b19mb2xsb3dfaWQgPSByZXEuYm9keS5mb2xsb3dfaWQ7XG5cbiAgICBsZXQgYnVsayA9IEZvbGxvdy5jb2xsZWN0aW9uLmluaXRpYWxpemVVbm9yZGVyZWRCdWxrT3AoKTtcblxuICAgIGJ1bGsuZmluZCh7ICd1c2VyJzogVHlwZXMuT2JqZWN0SWQodXNlcl9pZCkgfSkudXBzZXJ0KCkudXBkYXRlT25lKHtcbiAgICAgICAgJHB1bGw6IHtcbiAgICAgICAgICAgIGZvbGxvd2luZzogVHlwZXMuT2JqZWN0SWQodG9fZm9sbG93X2lkKVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBidWxrLmZpbmQoeyAndXNlcic6IFR5cGVzLk9iamVjdElkKHRvX2ZvbGxvd19pZCkgfSkudXBzZXJ0KCkudXBkYXRlT25lKHtcbiAgICAgICAgJHB1bGw6IHtcbiAgICAgICAgICAgIGZvbGxvd2VyczogVHlwZXMuT2JqZWN0SWQodXNlcl9pZClcbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICBidWxrLmV4ZWN1dGUoZnVuY3Rpb24oZXJyLCBkb2MpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKHtcbiAgICAgICAgICAgICAgICAnc3RhdGUnOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAnbXNnJzogZXJyXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgICAgICdzdGF0ZSc6IHRydWUsXG4gICAgICAgICAgICAnbXNnJzogJ1VuZm9sbG93ZWQnXG4gICAgICAgIH0pXG4gICAgfSlcbn0pICovXG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.routes.js"
      ],
      "names": [
        "express",
        "require",
        "router",
        "Router",
        "ctrlUser",
        "ctrlEvent",
        "jwtHelper",
        "route",
        "post",
        "verifyJwtToken",
        "req",
        "res",
        "console",
        "log",
        "body",
        "status",
        "send",
        "register",
        "authenticate",
        "refresh",
        "logout",
        "get",
        "userProfile",
        "users",
        "posts",
        "tmEvents",
        "friendProfile",
        "follow",
        "events",
        "addEvent",
        "uploadFiles",
        "Event",
        "findById",
        "params",
        "id",
        "err",
        "event",
        "json",
        "next",
        "Error",
        "eventName",
        "eventLocation",
        "eventLat",
        "eventLng",
        "eventDateFrom",
        "eventDateUntil",
        "eventDescr",
        "price",
        "eventPrivate",
        "interest",
        "save",
        "then",
        "catch",
        "findByIdAndRemove",
        "_id",
        "module",
        "exports"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/routes",
      "sourcesContent": [
        "const express = require('express');\nconst router = express.Router();\n\nconst ctrlUser = require('../controllers/user.controller');\nconst ctrlEvent = require('../controllers/event.controller');\n\n\nconst jwtHelper = require('../config/jwtHelper');\nrouter.route('/test').post(jwtHelper.verifyJwtToken, (req, res) => {\n  console.log('yes');\n  console.log('req.body:', req.body);\n  res.status(200).send(req.body);\n});\nrouter.post('/register', ctrlUser.register);\nrouter.post('/authenticate', ctrlUser.authenticate);\nrouter.post('/refresh', ctrlUser.refresh);\nrouter.post('/logout', ctrlUser.logout);\nrouter.get('/userProfile', jwtHelper.verifyJwtToken, ctrlUser.userProfile);\nrouter.get('/users', jwtHelper.verifyJwtToken, ctrlUser.users);\nrouter.post('/posts', jwtHelper.verifyJwtToken, ctrlUser.posts);\nrouter.post('/ticketmaster-events', ctrlEvent.tmEvents);\nrouter.get('/users2', ctrlUser.users);\nrouter.get(\"/profile/:email\", ctrlUser.friendProfile);\nrouter.post('/follow', jwtHelper.verifyJwtToken, ctrlUser.follow);\nrouter.get('/events', ctrlEvent.events);\nrouter.post('/events/add', jwtHelper.verifyJwtToken, ctrlEvent.addEvent);\nrouter.post('/events/upload', ctrlEvent.uploadFiles);\nrouter.route('/events/:id').get((req, res) => {\n  Event.findById(req.params.id, (err, event) => {\n    if (err)\n      console.log(err);\n    else\n      res.json(event);\n  });\n});\n\nrouter.route('/events/update/:id').post((req, res) => {\n  Event.findById(req.params.id, (err, event) => {\n    if (!event)\n      return next(new Error('Could not load document'));\n    else{\n      // This may change here\n      event.eventName= req.body.eventName;\n      event.eventLocation= req.body.eventLocation;\n      event.eventLat= req.body.eventLat;\n      event.eventLng= req.body.eventLng;\n      event.eventDateFrom= req.body.eventDateFrom;\n      event.eventDateUntil= req.body.eventDateUntil;\n      event.eventDescr= req.body.eventDescr;\n      event.price= req.body.price;\n      event.eventPrivate= req.body.eventPrivate;\n      event.interest= req.body.interest;\n\n      event.save().then(event => {\n        res.json('Update done');\n      }).catch(err => {\n        res.status(400).send('Update failed');\n      });\n    }\n  });\n});\n\nrouter.route('/events/delete/:id').get((req, res) => {\n  Event.findByIdAndRemove({_id: req.params.id}, (err, event) => {\n    if (err)\n      res.json(err);\n    else\n      res.json('Remove successfully');\n  })\n})\n\n/* router.post('/unfollow', function(req, res) {\n    const user_id = req.user._id;\n    const to_follow_id = req.body.follow_id;\n\n    let bulk = Follow.collection.initializeUnorderedBulkOp();\n\n    bulk.find({ 'user': Types.ObjectId(user_id) }).upsert().updateOne({\n        $pull: {\n            following: Types.ObjectId(to_follow_id)\n        }\n    });\n\n    bulk.find({ 'user': Types.ObjectId(to_follow_id) }).upsert().updateOne({\n        $pull: {\n            followers: Types.ObjectId(user_id)\n        }\n    })\n\n    bulk.execute(function(err, doc) {\n        if (err) {\n            return res.json({\n                'state': false,\n                'msg': err\n            })\n        }\n        res.json({\n            'state': true,\n            'msg': 'Unfollowed'\n        })\n    })\n}) */\n\nmodule.exports = router;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1580241289834
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/controllers/user.controller.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/controllers/user.controller.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/controllers/user.controller.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/controllers/user.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/controllers",
        "sourceFileName": "user.controller.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst mongoose = require('mongoose');\n\nconst User = mongoose.model('User');\n\nconst _ = require('lodash');\n\nconst Event = mongoose.model('Event');\n\nconst {\n  jwtEncode\n} = require('../config/jwtHelper');\n\nconst jwt = require('jsonwebtoken');\n\nconst randtoken = require('rand-token');\n\nconst passport = require('passport');\n\nconst JwtStrategy = require('passport-jwt').Strategy;\n\nconst ExtractJwt = require('passport-jwt').ExtractJwt;\n\nconst refreshTokens = {};\nconst SECRET = 'anything';\nconst passportOpts = {\n  jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\n  secretOrKey: SECRET\n};\npassport.use(new JwtStrategy(passportOpts, function (jwtPayload, done) {\n  const expirationDate = new Date(jwtPayload.exp * 1000);\n\n  if (expirationDate < new Date()) {\n    return done(null, false);\n  }\n\n  done(null, jwtPayload);\n}));\npassport.serializeUser(function (user, done) {\n  done(null, user.username);\n});\n\nmodule.exports.users = (req, res) => {\n  User.find({}, function (err, users) {\n    if (err) {\n      throw err;\n    }\n\n    res.status(200).send(users);\n  });\n};\n\nmodule.exports.posts = (req, res) => {\n  Event.find({\n    promoter: req.body.email\n  }, (err, posts) => {\n    if (err) {\n      res.send(err);\n    }\n\n    res.status(200).send(posts);\n  });\n};\n\nmodule.exports.register = (req, res) => {\n  User.create({\n    fullName: req.body.fullName,\n    email: req.body.email,\n    password: req.body.password\n  }).then(user => {\n    const {\n      email,\n      fullName\n    } = user;\n    const payload = {\n      email,\n      fullName\n    };\n    res.status(200).json({\n      'user': 'Added successfully',\n      token: jwtEncode(payload)\n    });\n  }).catch(err => {\n    if (err.code == 11000) res.status(422).send(['Duplicate email address found.']);else {\n      res.status(400).send('Failed to create new record');\n    }\n  });\n};\n\nmodule.exports.authenticate = (req, res, next) => {\n  const {\n    email,\n    password\n  } = req.body; //object destruturing\n\n  User.findOne({\n    email: email\n  }, async (err, user) => {\n    if (err) {\n      err => res.send(err);\n    }\n\n    if (!user) {\n      res.send('no User');\n    }\n\n    if (user) {\n      user.verifyPassword(password, user.password).then(isValid => {\n        if (!isValid) {\n          return res.status(401).send({\n            msg: 'Wrong username or password'\n          });\n        }\n\n        const {\n          email,\n          fullName\n        } = user;\n        const payload = {\n          email,\n          fullName\n        };\n        const jwtToken = jwt.sign(payload, 'anything', {\n          expiresIn: 500\n        });\n        const refreshToken = randtoken.uid(256);\n        refreshTokens[refreshToken] = payload;\n        return res.status(200).send({\n          msg: 'Login successful',\n          jwt: jwtToken,\n          refreshToken: refreshToken\n        });\n      }).catch(err => {\n        res.status(401).send(err);\n      });\n    }\n  });\n};\n\nmodule.exports.logout = (req, res, next) => {\n  const refreshToken = req.body.refreshToken;\n\n  if (refreshToken in refreshTokens) {\n    delete refreshTokens[refreshToken];\n  }\n\n  res.sendStatus(204);\n};\n\nmodule.exports.refresh = (req, res, next) => {\n  const refreshToken = req.body.refreshToken;\n\n  if (refreshToken in refreshTokens) {\n    /* Possible error in assignment */\n    const user = {\n      'email': refreshTokens[refreshToken].email,\n      'fullName': refreshTokens[refreshToken].fullName\n    };\n    const token = jwt.sign(user, 'anything', {\n      expiresIn: 180\n    });\n    res.json({\n      jwt: token\n    });\n  } else {\n    res.sendStatus(401);\n  }\n};\n\nmodule.exports.userProfile = (req, res, next) => {\n  User.findOne({\n    email: req.user.email\n  }, (err, user) => {\n    if (!user) {\n      return res.status(404).json({\n        status: false,\n        message: 'User record not found'\n      });\n    } else {\n      return res.status(200).json({\n        status: true,\n        user: user\n      });\n    }\n  });\n};\n\nmodule.exports.friendProfile = (req, res) => {\n  var email = req.params.email;\n  User.findOne({\n    email: email\n  }, function (err, user) {\n    if (err) {\n      return res.status(404).json({\n        status: false,\n        message: err\n      });\n    }\n\n    if (!user) {\n      return res.status(404).json({\n        status: false,\n        message: 'User record not found'\n      });\n    } else {\n      Event.find({\n        responsible: email\n      }, function (err, posts) {\n        if (err) {\n          res.sendStatus('Maybe mult ppl in different databases', err);\n        }\n      }).sort({\n        created_at: -1\n      }).exec(function (err, posts) {\n        res.status(200).send({\n          user,\n          posts\n        });\n      });\n    }\n  });\n};\n\nmodule.exports.follow = (req, res) => {\n  const userEmail = req.user.email;\n  const following = req.body.email;\n  User.findOne({\n    email: userEmail\n  }, function (err, user) {\n    if (user) {\n      user.relationships.following.push(following);\n      User.findOne({\n        email: following\n      }, function (err, user) {\n        user.relationships.followers.push(userEmail);\n        next();\n\n        if (err) {\n          res.send(err);\n        }\n      });\n    }\n\n    if (!user) {\n      res.send('no user!!');\n    }\n\n    if (err) {\n      res.send(err);\n    }\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJVc2VyIiwibW9kZWwiLCJfIiwiRXZlbnQiLCJqd3RFbmNvZGUiLCJqd3QiLCJyYW5kdG9rZW4iLCJwYXNzcG9ydCIsIkp3dFN0cmF0ZWd5IiwiU3RyYXRlZ3kiLCJFeHRyYWN0Snd0IiwicmVmcmVzaFRva2VucyIsIlNFQ1JFVCIsInBhc3Nwb3J0T3B0cyIsImp3dEZyb21SZXF1ZXN0IiwiZnJvbUF1dGhIZWFkZXJBc0JlYXJlclRva2VuIiwic2VjcmV0T3JLZXkiLCJ1c2UiLCJqd3RQYXlsb2FkIiwiZG9uZSIsImV4cGlyYXRpb25EYXRlIiwiRGF0ZSIsImV4cCIsInNlcmlhbGl6ZVVzZXIiLCJ1c2VyIiwidXNlcm5hbWUiLCJtb2R1bGUiLCJleHBvcnRzIiwidXNlcnMiLCJyZXEiLCJyZXMiLCJmaW5kIiwiZXJyIiwic3RhdHVzIiwic2VuZCIsInBvc3RzIiwicHJvbW90ZXIiLCJib2R5IiwiZW1haWwiLCJyZWdpc3RlciIsImNyZWF0ZSIsImZ1bGxOYW1lIiwicGFzc3dvcmQiLCJ0aGVuIiwicGF5bG9hZCIsImpzb24iLCJ0b2tlbiIsImNhdGNoIiwiY29kZSIsImF1dGhlbnRpY2F0ZSIsIm5leHQiLCJmaW5kT25lIiwidmVyaWZ5UGFzc3dvcmQiLCJpc1ZhbGlkIiwibXNnIiwiand0VG9rZW4iLCJzaWduIiwiZXhwaXJlc0luIiwicmVmcmVzaFRva2VuIiwidWlkIiwibG9nb3V0Iiwic2VuZFN0YXR1cyIsInJlZnJlc2giLCJ1c2VyUHJvZmlsZSIsIm1lc3NhZ2UiLCJmcmllbmRQcm9maWxlIiwicGFyYW1zIiwicmVzcG9uc2libGUiLCJzb3J0IiwiY3JlYXRlZF9hdCIsImV4ZWMiLCJmb2xsb3ciLCJ1c2VyRW1haWwiLCJmb2xsb3dpbmciLCJyZWxhdGlvbnNoaXBzIiwicHVzaCIsImZvbGxvd2VycyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxRQUFR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QUFBUixHQUFiLEVBQWlDLFVBQVV4QyxHQUFWLEVBQWVSLElBQWYsRUFBcUI7QUFDcEQsUUFBR0EsSUFBSCxFQUFTO0FBQ1BBLE1BQUFBLElBQUksQ0FBQ2tELGFBQUwsQ0FBbUJELFNBQW5CLENBQTZCRSxJQUE3QixDQUFrQ0YsU0FBbEM7QUFDQXpFLE1BQUFBLElBQUksQ0FBQ21ELE9BQUwsQ0FBYTtBQUFDYixRQUFBQSxLQUFLLEVBQUVtQztBQUFSLE9BQWIsRUFDQSxVQUFVekMsR0FBVixFQUFlUixJQUFmLEVBQXFCO0FBQ25CQSxRQUFBQSxJQUFJLENBQUNrRCxhQUFMLENBQW1CRSxTQUFuQixDQUE2QkQsSUFBN0IsQ0FBa0NILFNBQWxDO0FBQ0F0QixRQUFBQSxJQUFJOztBQUNKLFlBQUlsQixHQUFKLEVBQVM7QUFDUEYsVUFBQUEsR0FBRyxDQUFDSSxJQUFKLENBQVNGLEdBQVQ7QUFDRDtBQUNGLE9BUEQ7QUFRRDs7QUFDRCxRQUFHLENBQUNSLElBQUosRUFBVTtBQUNSTSxNQUFBQSxHQUFHLENBQUNJLElBQUosQ0FBUyxXQUFUO0FBQ0Q7O0FBQ0QsUUFBSUYsR0FBSixFQUFTO0FBQ1BGLE1BQUFBLEdBQUcsQ0FBQ0ksSUFBSixDQUFTRixHQUFUO0FBQ0Q7QUFDRixHQWxCRDtBQW9CRCxDQXZCRCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvam9uYXRoYW5hdWd1c3Rpbi9EZXNrdG9wL1dlYnNpdGVzL2xpdmUtY2ljbGUvYmFja2VuZC9jb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcbmNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbCgnVXNlcicpO1xuY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuY29uc3QgRXZlbnQgPSBtb25nb29zZS5tb2RlbCgnRXZlbnQnKTtcbmNvbnN0IHsgand0RW5jb2RlIH0gPSByZXF1aXJlKCcuLi9jb25maWcvand0SGVscGVyJyk7XG5jb25zdCBqd3QgPSByZXF1aXJlKCdqc29ud2VidG9rZW4nKTtcbmNvbnN0IHJhbmR0b2tlbiA9IHJlcXVpcmUoJ3JhbmQtdG9rZW4nKTtcbmNvbnN0IHBhc3Nwb3J0ID0gcmVxdWlyZSgncGFzc3BvcnQnKTtcbmNvbnN0IEp3dFN0cmF0ZWd5ID0gcmVxdWlyZSgncGFzc3BvcnQtand0JykuU3RyYXRlZ3k7XG5jb25zdCBFeHRyYWN0Snd0ID0gcmVxdWlyZSgncGFzc3BvcnQtand0JykuRXh0cmFjdEp3dDtcblxuY29uc3QgcmVmcmVzaFRva2VucyA9IHt9O1xuY29uc3QgU0VDUkVUID0gJ2FueXRoaW5nJztcbmNvbnN0IHBhc3Nwb3J0T3B0cyA9IHtcbiAgand0RnJvbVJlcXVlc3Q6IEV4dHJhY3RKd3QuZnJvbUF1dGhIZWFkZXJBc0JlYXJlclRva2VuKCksXG4gIHNlY3JldE9yS2V5OiBTRUNSRVRcbn07XG5cbnBhc3Nwb3J0LnVzZShuZXcgSnd0U3RyYXRlZ3kocGFzc3BvcnRPcHRzLCBmdW5jdGlvbiAoand0UGF5bG9hZCwgZG9uZSkge1xuICBjb25zdCBleHBpcmF0aW9uRGF0ZSA9IG5ldyBEYXRlKGp3dFBheWxvYWQuZXhwICogMTAwMCk7XG4gIGlmKGV4cGlyYXRpb25EYXRlIDwgbmV3IERhdGUoKSkge1xuICAgIHJldHVybiBkb25lKG51bGwsIGZhbHNlKTtcbiAgfVxuICBkb25lKG51bGwsIGp3dFBheWxvYWQpO1xufSkpO1xuXG5wYXNzcG9ydC5zZXJpYWxpemVVc2VyKGZ1bmN0aW9uICh1c2VyLCBkb25lKSB7XG4gIGRvbmUobnVsbCwgdXNlci51c2VybmFtZSlcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cy51c2VycyA9IChyZXEsIHJlcykgPT4ge1xuICBVc2VyLmZpbmQoe30sIGZ1bmN0aW9uIChlcnIsIHVzZXJzKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgICByZXMuc3RhdHVzKDIwMCkuc2VuZCh1c2Vycyk7XG4gIH0pXG59XG5cbm1vZHVsZS5leHBvcnRzLnBvc3RzID0gKHJlcSwgcmVzKSA9PiB7XG4gIEV2ZW50LmZpbmQoe3Byb21vdGVyOiByZXEuYm9keS5lbWFpbH0sIChlcnIsIHBvc3RzKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmVzLnNlbmQoZXJyKTtcbiAgICB9XG4gICAgcmVzLnN0YXR1cygyMDApLnNlbmQocG9zdHMpO1xuICB9KVxufVxuXG5tb2R1bGUuZXhwb3J0cy5yZWdpc3RlciA9IChyZXEsIHJlcykgPT4ge1xuICBVc2VyLmNyZWF0ZSh7XG4gICAgZnVsbE5hbWU6IHJlcS5ib2R5LmZ1bGxOYW1lLFxuICAgIGVtYWlsOiByZXEuYm9keS5lbWFpbCxcbiAgICBwYXNzd29yZDogcmVxLmJvZHkucGFzc3dvcmRcbiAgfSlcbiAgICAudGhlbih1c2VyID0+IHtcbiAgICAgIGNvbnN0IHsgZW1haWwsIGZ1bGxOYW1lIH0gPSB1c2VyO1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHsgZW1haWwsIGZ1bGxOYW1lIH07XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7ICd1c2VyJzogJ0FkZGVkIHN1Y2Nlc3NmdWxseScsIHRva2VuOiBqd3RFbmNvZGUocGF5bG9hZCkgfSk7XG4gICAgfSlcbiAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgIGlmIChlcnIuY29kZSA9PSAxMTAwMClcbiAgICAgICAgcmVzLnN0YXR1cyg0MjIpLnNlbmQoWydEdXBsaWNhdGUgZW1haWwgYWRkcmVzcyBmb3VuZC4nXSk7XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0ZhaWxlZCB0byBjcmVhdGUgbmV3IHJlY29yZCcpO1xuICAgICAgfVxuICAgIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cy5hdXRoZW50aWNhdGUgPSAgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnN0IHsgZW1haWwsIHBhc3N3b3JkIH0gPSByZXEuYm9keTsgLy9vYmplY3QgZGVzdHJ1dHVyaW5nXG4gIFVzZXIuZmluZE9uZSh7IGVtYWlsOiBlbWFpbH0sIGFzeW5jIChlcnIsIHVzZXIpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBlcnIgPT4gcmVzLnNlbmQoZXJyKTtcbiAgICB9XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICByZXMuc2VuZCgnbm8gVXNlcicpO1xuICAgIH1cbiAgICBpZiAodXNlcikge1xuICAgICAgdXNlci52ZXJpZnlQYXNzd29yZChwYXNzd29yZCwgdXNlci5wYXNzd29yZClcbiAgICAgICAgLnRoZW4oKGlzVmFsaWQpID0+IHtcbiAgICAgICAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1zZzogJ1dyb25nIHVzZXJuYW1lIG9yIHBhc3N3b3JkJyB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCB7IGVtYWlsLCBmdWxsTmFtZSB9ID0gdXNlcjtcbiAgICAgICAgICBjb25zdCBwYXlsb2FkID0geyBlbWFpbCwgZnVsbE5hbWUgfTtcbiAgICAgICAgICBjb25zdCBqd3RUb2tlbiA9IGp3dC5zaWduKHBheWxvYWQsICdhbnl0aGluZycsIHtleHBpcmVzSW46IDUwMH0pO1xuICAgICAgICAgIGNvbnN0IHJlZnJlc2hUb2tlbiA9IHJhbmR0b2tlbi51aWQoMjU2KTtcbiAgICAgICAgICByZWZyZXNoVG9rZW5zW3JlZnJlc2hUb2tlbl0gPSBwYXlsb2FkO1xuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IG1zZzogJ0xvZ2luIHN1Y2Nlc3NmdWwnLCBqd3Q6IGp3dFRva2VuLCByZWZyZXNoVG9rZW46IHJlZnJlc2hUb2tlbiB9KTtcbiAgICAgICAgfSkuY2F0Y2goKGVycik9PiB7XG4gICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMubG9nb3V0ID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnN0IHJlZnJlc2hUb2tlbiA9IHJlcS5ib2R5LnJlZnJlc2hUb2tlbjtcbiAgaWYgKHJlZnJlc2hUb2tlbiBpbiByZWZyZXNoVG9rZW5zKSB7XG4gICAgZGVsZXRlIHJlZnJlc2hUb2tlbnNbcmVmcmVzaFRva2VuXTtcbiAgfVxuICByZXMuc2VuZFN0YXR1cygyMDQpO1xufVxuXG5tb2R1bGUuZXhwb3J0cy5yZWZyZXNoID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnN0IHJlZnJlc2hUb2tlbiA9IHJlcS5ib2R5LnJlZnJlc2hUb2tlbjtcblxuICBpZiAocmVmcmVzaFRva2VuIGluIHJlZnJlc2hUb2tlbnMpIHtcbiAgICAvKiBQb3NzaWJsZSBlcnJvciBpbiBhc3NpZ25tZW50ICovXG4gICAgY29uc3QgdXNlciA9IHtcbiAgICAgICdlbWFpbCc6IHJlZnJlc2hUb2tlbnNbcmVmcmVzaFRva2VuXS5lbWFpbCxcbiAgICAgICdmdWxsTmFtZSc6IHJlZnJlc2hUb2tlbnNbcmVmcmVzaFRva2VuXS5mdWxsTmFtZVxuICAgIH1cbiAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHVzZXIsICdhbnl0aGluZycsIHtleHBpcmVzSW46IDE4MH0pO1xuICAgIHJlcy5qc29uKHtqd3Q6IHRva2VufSlcbiAgfVxuICBlbHNlIHtcbiAgICByZXMuc2VuZFN0YXR1cyg0MDEpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzLnVzZXJQcm9maWxlID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIFVzZXIuZmluZE9uZSh7IGVtYWlsOiByZXEudXNlci5lbWFpbCB9LFxuICAgIChlcnIsIHVzZXIpID0+IHtcbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBzdGF0dXM6IGZhbHNlLCBtZXNzYWdlOiAnVXNlciByZWNvcmQgbm90IGZvdW5kJyB9KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdGF0dXM6IHRydWUsIHVzZXI6IHVzZXIgfSk7XG4gICAgICB9XG4gICAgfVxuICApO1xufVxuXG5tb2R1bGUuZXhwb3J0cy5mcmllbmRQcm9maWxlID0gKHJlcSwgcmVzKSA9PiB7XG4gIHZhciBlbWFpbCA9IHJlcS5wYXJhbXMuZW1haWw7XG5cbiAgVXNlci5maW5kT25lKHsgZW1haWw6IGVtYWlsIH0sIGZ1bmN0aW9uIChlcnIsIHVzZXIpIHtcbiAgICBpZiAoZXJyKXtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IHN0YXR1czogZmFsc2UsIG1lc3NhZ2U6IGVyciB9KTtcbiAgICB9XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBzdGF0dXM6IGZhbHNlLCBtZXNzYWdlOiAnVXNlciByZWNvcmQgbm90IGZvdW5kJyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgRXZlbnRcbiAgICAgICAgLmZpbmQoeyByZXNwb25zaWJsZTogZW1haWwgfSwgZnVuY3Rpb24gKGVyciwgcG9zdHMpIHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICByZXMuc2VuZFN0YXR1cygnTWF5YmUgbXVsdCBwcGwgaW4gZGlmZmVyZW50IGRhdGFiYXNlcycsIGVycilcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5zb3J0KHsgY3JlYXRlZF9hdDogLTEgfSlcbiAgICAgICAgLmV4ZWMoZnVuY3Rpb24gKGVyciwgcG9zdHMpIHtcbiAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZCh7dXNlciwgcG9zdHN9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMuZm9sbG93ID0gKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHVzZXJFbWFpbCA9IHJlcS51c2VyLmVtYWlsO1xuICBjb25zdCBmb2xsb3dpbmcgPSByZXEuYm9keS5lbWFpbDtcbiAgVXNlci5maW5kT25lKHtlbWFpbDogdXNlckVtYWlsfSwgZnVuY3Rpb24gKGVyciwgdXNlcikge1xuICAgIGlmKHVzZXIpIHtcbiAgICAgIHVzZXIucmVsYXRpb25zaGlwcy5mb2xsb3dpbmcucHVzaChmb2xsb3dpbmcpO1xuICAgICAgVXNlci5maW5kT25lKHtlbWFpbDogZm9sbG93aW5nfSxcbiAgICAgIGZ1bmN0aW9uIChlcnIsIHVzZXIpIHtcbiAgICAgICAgdXNlci5yZWxhdGlvbnNoaXBzLmZvbGxvd2Vycy5wdXNoKHVzZXJFbWFpbCk7XG4gICAgICAgIG5leHQoKTtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJlcy5zZW5kKGVycik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZighdXNlcikge1xuICAgICAgcmVzLnNlbmQoJ25vIHVzZXIhIScpO1xuICAgIH1cbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXMuc2VuZChlcnIpO1xuICAgIH1cbiAgfSk7XG5cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "user.controller.js"
      ],
      "names": [
        "mongoose",
        "require",
        "User",
        "model",
        "_",
        "Event",
        "jwtEncode",
        "jwt",
        "randtoken",
        "passport",
        "JwtStrategy",
        "Strategy",
        "ExtractJwt",
        "refreshTokens",
        "SECRET",
        "passportOpts",
        "jwtFromRequest",
        "fromAuthHeaderAsBearerToken",
        "secretOrKey",
        "use",
        "jwtPayload",
        "done",
        "expirationDate",
        "Date",
        "exp",
        "serializeUser",
        "user",
        "username",
        "module",
        "exports",
        "users",
        "req",
        "res",
        "find",
        "err",
        "status",
        "send",
        "posts",
        "promoter",
        "body",
        "email",
        "register",
        "create",
        "fullName",
        "password",
        "then",
        "payload",
        "json",
        "token",
        "catch",
        "code",
        "authenticate",
        "next",
        "findOne",
        "verifyPassword",
        "isValid",
        "msg",
        "jwtToken",
        "sign",
        "expiresIn",
        "refreshToken",
        "uid",
        "logout",
        "sendStatus",
        "refresh",
        "userProfile",
        "message",
        "friendProfile",
        "params",
        "responsible",
        "sort",
        "created_at",
        "exec",
        "follow",
        "userEmail",
        "following",
        "relationships",
        "push",
        "followers"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/live-cicle/backend/controllers",
      "sourcesContent": [
        "const mongoose = require('mongoose');\nconst User = mongoose.model('User');\nconst _ = require('lodash');\nconst Event = mongoose.model('Event');\nconst { jwtEncode } = require('../config/jwtHelper');\nconst jwt = require('jsonwebtoken');\nconst randtoken = require('rand-token');\nconst passport = require('passport');\nconst JwtStrategy = require('passport-jwt').Strategy;\nconst ExtractJwt = require('passport-jwt').ExtractJwt;\n\nconst refreshTokens = {};\nconst SECRET = 'anything';\nconst passportOpts = {\n  jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\n  secretOrKey: SECRET\n};\n\npassport.use(new JwtStrategy(passportOpts, function (jwtPayload, done) {\n  const expirationDate = new Date(jwtPayload.exp * 1000);\n  if(expirationDate < new Date()) {\n    return done(null, false);\n  }\n  done(null, jwtPayload);\n}));\n\npassport.serializeUser(function (user, done) {\n  done(null, user.username)\n});\n\nmodule.exports.users = (req, res) => {\n  User.find({}, function (err, users) {\n    if (err) {\n      throw err;\n    }\n    res.status(200).send(users);\n  })\n}\n\nmodule.exports.posts = (req, res) => {\n  Event.find({promoter: req.body.email}, (err, posts) => {\n    if (err) {\n      res.send(err);\n    }\n    res.status(200).send(posts);\n  })\n}\n\nmodule.exports.register = (req, res) => {\n  User.create({\n    fullName: req.body.fullName,\n    email: req.body.email,\n    password: req.body.password\n  })\n    .then(user => {\n      const { email, fullName } = user;\n      const payload = { email, fullName };\n      res.status(200).json({ 'user': 'Added successfully', token: jwtEncode(payload) });\n    })\n    .catch(err => {\n      if (err.code == 11000)\n        res.status(422).send(['Duplicate email address found.']);\n      else {\n        res.status(400).send('Failed to create new record');\n      }\n    });\n}\n\nmodule.exports.authenticate =  (req, res, next) => {\n  const { email, password } = req.body; //object destruturing\n  User.findOne({ email: email}, async (err, user) => {\n    if (err) {\n      err => res.send(err);\n    }\n    if (!user) {\n      res.send('no User');\n    }\n    if (user) {\n      user.verifyPassword(password, user.password)\n        .then((isValid) => {\n          if (!isValid) {\n            return res.status(401).send({ msg: 'Wrong username or password' });\n          }\n\n          const { email, fullName } = user;\n          const payload = { email, fullName };\n          const jwtToken = jwt.sign(payload, 'anything', {expiresIn: 500});\n          const refreshToken = randtoken.uid(256);\n          refreshTokens[refreshToken] = payload;\n          return res.status(200).send({ msg: 'Login successful', jwt: jwtToken, refreshToken: refreshToken });\n        }).catch((err)=> {\n          res.status(401).send(err);\n        });\n    }\n  });\n}\n\nmodule.exports.logout = (req, res, next) => {\n  const refreshToken = req.body.refreshToken;\n  if (refreshToken in refreshTokens) {\n    delete refreshTokens[refreshToken];\n  }\n  res.sendStatus(204);\n}\n\nmodule.exports.refresh = (req, res, next) => {\n  const refreshToken = req.body.refreshToken;\n\n  if (refreshToken in refreshTokens) {\n    /* Possible error in assignment */\n    const user = {\n      'email': refreshTokens[refreshToken].email,\n      'fullName': refreshTokens[refreshToken].fullName\n    }\n    const token = jwt.sign(user, 'anything', {expiresIn: 180});\n    res.json({jwt: token})\n  }\n  else {\n    res.sendStatus(401);\n  }\n}\n\nmodule.exports.userProfile = (req, res, next) => {\n  User.findOne({ email: req.user.email },\n    (err, user) => {\n      if (!user) {\n        return res.status(404).json({ status: false, message: 'User record not found' });\n      }\n      else {\n        return res.status(200).json({ status: true, user: user });\n      }\n    }\n  );\n}\n\nmodule.exports.friendProfile = (req, res) => {\n  var email = req.params.email;\n\n  User.findOne({ email: email }, function (err, user) {\n    if (err){\n      return res.status(404).json({ status: false, message: err });\n    }\n    if (!user) {\n      return res.status(404).json({ status: false, message: 'User record not found' });\n    } else {\n      Event\n        .find({ responsible: email }, function (err, posts) {\n          if (err) {\n            res.sendStatus('Maybe mult ppl in different databases', err)\n          }\n        })\n        .sort({ created_at: -1 })\n        .exec(function (err, posts) {\n          res.status(200).send({user, posts});\n        });\n    }\n  });\n}\n\nmodule.exports.follow = (req, res) => {\n  const userEmail = req.user.email;\n  const following = req.body.email;\n  User.findOne({email: userEmail}, function (err, user) {\n    if(user) {\n      user.relationships.following.push(following);\n      User.findOne({email: following},\n      function (err, user) {\n        user.relationships.followers.push(userEmail);\n        next();\n        if (err) {\n          res.send(err);\n        }\n      });\n    }\n    if(!user) {\n      res.send('no user!!');\n    }\n    if (err) {\n      res.send(err);\n    }\n  });\n\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1580451482594
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/backend/userServer.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/userServer.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/backend/userServer.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/userServer.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend",
        "sourceFileName": "userServer.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nrequire('./config/config');\n\nrequire('./models/db');\n\nconst rtsIndex = require('./routes/index.routes');\n\nconst manageEvents = require(\"./manageEvents\");\n\nconst Grid = require('gridfs-stream');\n\nconst GridFsStorage = require('multer-gridfs-storage');\n\nconst multer = require('multer');\n\nconst mongoose = require('mongoose'),\n      express = require('express'),\n      bodyParser = require('body-parser'),\n      cors = require('cors');\n\nvar app = express();\nconst connection = mongoose.connection;\nlet gfs;\nconnection.once('open', () => {\n  /*   gfs = Grid(connection.db, mongoose.mongo);\n    gfs.collection('uploads'); */\n  console.log('MongoDB database connection established successfully!');\n});\n/* const storage = new GridFsStorage({\n  url: process.env.MONGODB_URI,\n  file: (req, file) => {\n    return new Promise((resolve, reject) => {\n      crypto.randomBytes(16, (err, buf) => {\n        if (err) {\n          return reject(err);\n        }\n        const filename = buf.toString('hex') + path.extname(file.originalname);\n        const fileInfo = {\n          filename: filename,\n          bucketName: 'uploads'\n        };\n        resolve(fileInfo);\n      });\n    });\n  }\n});\nconst upload = multer({ storage }).single('file');\n\napp.post('/upload', upload, (req, res, err) => {\n  console.log('req', req.body)\n  return res.json({originalname:req.file.originalname, uploadname:req.file.filename});\n});\n */\n\nmanageEvents();\napp.use(cors()); //middleware\n\napp.use(bodyParser.json());\napp.use(cors());\napp.use('/api', rtsIndex); //error handler\n\napp.use((err, req, res, next) => {\n  if (err.name == 'ValidationError') {\n    var valErrors = [];\n    Object.keys(err.errors).forEach(key => valErrors.push(err.errors[key].message));\n    res.status(422).send(valErrors);\n  }\n});\napp.listen(process.env.PORT, () => console.log(`Server started at port: ${process.env.PORT}`));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJTZXJ2ZXIuanMiXSwibmFtZXMiOlsicmVxdWlyZSIsInJ0c0luZGV4IiwibWFuYWdlRXZlbnRzIiwiR3JpZCIsIkdyaWRGc1N0b3JhZ2UiLCJtdWx0ZXIiLCJtb25nb29zZSIsImV4cHJlc3MiLCJib2R5UGFyc2VyIiwiY29ycyIsImFwcCIsImNvbm5lY3Rpb24iLCJnZnMiLCJvbmNlIiwiY29uc29sZSIsImxvZyIsInVzZSIsImpzb24iLCJlcnIiLCJyZXEiLCJyZXMiLCJuZXh0IiwibmFtZSIsInZhbEVycm9ycyIsIk9iamVjdCIsImtleXMiLCJlcnJvcnMiLCJmb3JFYWNoIiwia2V5IiwicHVzaCIsIm1lc3NhZ2UiLCJzdGF0dXMiLCJzZW5kIiwibGlzdGVuIiwicHJvY2VzcyIsImVudiIsIlBPUlQiXSwibWFwcGluZ3MiOiI7O0FBQUFBLE9BQU8sQ0FBQyxpQkFBRCxDQUFQOztBQUNBQSxPQUFPLENBQUMsYUFBRCxDQUFQOztBQUNBLE1BQU1DLFFBQVEsR0FBR0QsT0FBTyxDQUFDLHVCQUFELENBQXhCOztBQUNBLE1BQU1FLFlBQVksR0FBR0YsT0FBTyxDQUFDLGdCQUFELENBQTVCOztBQUNBLE1BQU1HLElBQUksR0FBR0gsT0FBTyxDQUFDLGVBQUQsQ0FBcEI7O0FBQ0EsTUFBTUksYUFBYSxHQUFHSixPQUFPLENBQUMsdUJBQUQsQ0FBN0I7O0FBQ0EsTUFBTUssTUFBTSxHQUFHTCxPQUFPLENBQUMsUUFBRCxDQUF0Qjs7QUFFQSxNQUFNTSxRQUFRLEdBQUdOLE9BQU8sQ0FBQyxVQUFELENBQXhCO0FBQUEsTUFDTU8sT0FBTyxHQUFHUCxPQUFPLENBQUMsU0FBRCxDQUR2QjtBQUFBLE1BRU1RLFVBQVUsR0FBR1IsT0FBTyxDQUFDLGFBQUQsQ0FGMUI7QUFBQSxNQUdNUyxJQUFJLEdBQUdULE9BQU8sQ0FBQyxNQUFELENBSHBCOztBQUtBLElBQUlVLEdBQUcsR0FBR0gsT0FBTyxFQUFqQjtBQUVBLE1BQU1JLFVBQVUsR0FBR0wsUUFBUSxDQUFDSyxVQUE1QjtBQUNBLElBQUlDLEdBQUo7QUFFQUQsVUFBVSxDQUFDRSxJQUFYLENBQWdCLE1BQWhCLEVBQXdCLE1BQU07QUFDOUI7O0FBRUVDLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHVEQUFaO0FBQ0QsQ0FKRDtBQU1BOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXlCQWIsWUFBWTtBQUVaUSxHQUFHLENBQUNNLEdBQUosQ0FBUVAsSUFBSSxFQUFaLEUsQ0FFQTs7QUFDQUMsR0FBRyxDQUFDTSxHQUFKLENBQVFSLFVBQVUsQ0FBQ1MsSUFBWCxFQUFSO0FBQ0FQLEdBQUcsQ0FBQ00sR0FBSixDQUFRUCxJQUFJLEVBQVo7QUFDQUMsR0FBRyxDQUFDTSxHQUFKLENBQVEsTUFBUixFQUFnQmYsUUFBaEIsRSxDQUVBOztBQUNBUyxHQUFHLENBQUNNLEdBQUosQ0FBUSxDQUFDRSxHQUFELEVBQU1DLEdBQU4sRUFBV0MsR0FBWCxFQUFnQkMsSUFBaEIsS0FBeUI7QUFDL0IsTUFBSUgsR0FBRyxDQUFDSSxJQUFKLElBQVksaUJBQWhCLEVBQWtDO0FBQ2hDLFFBQUlDLFNBQVMsR0FBRyxFQUFoQjtBQUNBQyxJQUFBQSxNQUFNLENBQUNDLElBQVAsQ0FBWVAsR0FBRyxDQUFDUSxNQUFoQixFQUF3QkMsT0FBeEIsQ0FBZ0NDLEdBQUcsSUFBSUwsU0FBUyxDQUFDTSxJQUFWLENBQWVYLEdBQUcsQ0FBQ1EsTUFBSixDQUFXRSxHQUFYLEVBQWdCRSxPQUEvQixDQUF2QztBQUNBVixJQUFBQSxHQUFHLENBQUNXLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQlQsU0FBckI7QUFDRDtBQUNGLENBTkQ7QUFRQWIsR0FBRyxDQUFDdUIsTUFBSixDQUFXQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsSUFBdkIsRUFBNkIsTUFBS3RCLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLDJCQUEwQm1CLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxJQUFLLEVBQXhELENBQWxDIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9qb25hdGhhbmF1Z3VzdGluL0Rlc2t0b3AvV2Vic2l0ZXMvYmFja2VuZCIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4vY29uZmlnL2NvbmZpZycpO1xucmVxdWlyZSgnLi9tb2RlbHMvZGInKTtcbmNvbnN0IHJ0c0luZGV4ID0gcmVxdWlyZSgnLi9yb3V0ZXMvaW5kZXgucm91dGVzJyk7XG5jb25zdCBtYW5hZ2VFdmVudHMgPSByZXF1aXJlKFwiLi9tYW5hZ2VFdmVudHNcIik7XG5jb25zdCBHcmlkID0gcmVxdWlyZSgnZ3JpZGZzLXN0cmVhbScpO1xuY29uc3QgR3JpZEZzU3RvcmFnZSA9IHJlcXVpcmUoJ211bHRlci1ncmlkZnMtc3RvcmFnZScpO1xuY29uc3QgbXVsdGVyID0gcmVxdWlyZSgnbXVsdGVyJyk7XG5cbmNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKSxcbiAgICAgIGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyksXG4gICAgICBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKSxcbiAgICAgIGNvcnMgPSByZXF1aXJlKCdjb3JzJyk7XG5cbnZhciBhcHAgPSBleHByZXNzKCk7XG5cbmNvbnN0IGNvbm5lY3Rpb24gPSBtb25nb29zZS5jb25uZWN0aW9uO1xubGV0IGdmc1xuXG5jb25uZWN0aW9uLm9uY2UoJ29wZW4nLCAoKSA9PiB7XG4vKiAgIGdmcyA9IEdyaWQoY29ubmVjdGlvbi5kYiwgbW9uZ29vc2UubW9uZ28pO1xuICBnZnMuY29sbGVjdGlvbigndXBsb2FkcycpOyAqL1xuICBjb25zb2xlLmxvZygnTW9uZ29EQiBkYXRhYmFzZSBjb25uZWN0aW9uIGVzdGFibGlzaGVkIHN1Y2Nlc3NmdWxseSEnKTtcbn0pO1xuXG4vKiBjb25zdCBzdG9yYWdlID0gbmV3IEdyaWRGc1N0b3JhZ2Uoe1xuICB1cmw6IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJLFxuICBmaWxlOiAocmVxLCBmaWxlKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNyeXB0by5yYW5kb21CeXRlcygxNiwgKGVyciwgYnVmKSA9PiB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmlsZW5hbWUgPSBidWYudG9TdHJpbmcoJ2hleCcpICsgcGF0aC5leHRuYW1lKGZpbGUub3JpZ2luYWxuYW1lKTtcbiAgICAgICAgY29uc3QgZmlsZUluZm8gPSB7XG4gICAgICAgICAgZmlsZW5hbWU6IGZpbGVuYW1lLFxuICAgICAgICAgIGJ1Y2tldE5hbWU6ICd1cGxvYWRzJ1xuICAgICAgICB9O1xuICAgICAgICByZXNvbHZlKGZpbGVJbmZvKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59KTtcbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7IHN0b3JhZ2UgfSkuc2luZ2xlKCdmaWxlJyk7XG5cbmFwcC5wb3N0KCcvdXBsb2FkJywgdXBsb2FkLCAocmVxLCByZXMsIGVycikgPT4ge1xuICBjb25zb2xlLmxvZygncmVxJywgcmVxLmJvZHkpXG4gIHJldHVybiByZXMuanNvbih7b3JpZ2luYWxuYW1lOnJlcS5maWxlLm9yaWdpbmFsbmFtZSwgdXBsb2FkbmFtZTpyZXEuZmlsZS5maWxlbmFtZX0pO1xufSk7XG4gKi9cbm1hbmFnZUV2ZW50cygpO1xuXG5hcHAudXNlKGNvcnMoKSk7XG5cbi8vbWlkZGxld2FyZVxuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XG5hcHAudXNlKGNvcnMoKSk7XG5hcHAudXNlKCcvYXBpJywgcnRzSW5kZXgpO1xuXG4vL2Vycm9yIGhhbmRsZXJcbmFwcC51c2UoKGVyciwgcmVxLCByZXMsIG5leHQpID0+IHtcbiAgaWYgKGVyci5uYW1lID09ICdWYWxpZGF0aW9uRXJyb3InKXtcbiAgICB2YXIgdmFsRXJyb3JzID0gW107XG4gICAgT2JqZWN0LmtleXMoZXJyLmVycm9ycykuZm9yRWFjaChrZXkgPT4gdmFsRXJyb3JzLnB1c2goZXJyLmVycm9yc1trZXldLm1lc3NhZ2UpKTtcbiAgICByZXMuc3RhdHVzKDQyMikuc2VuZCh2YWxFcnJvcnMpXG4gIH1cbn0pO1xuXG5hcHAubGlzdGVuKHByb2Nlc3MuZW52LlBPUlQsICgpPT4gY29uc29sZS5sb2coYFNlcnZlciBzdGFydGVkIGF0IHBvcnQ6ICR7cHJvY2Vzcy5lbnYuUE9SVH1gKSk7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "userServer.js"
      ],
      "names": [
        "require",
        "rtsIndex",
        "manageEvents",
        "Grid",
        "GridFsStorage",
        "multer",
        "mongoose",
        "express",
        "bodyParser",
        "cors",
        "app",
        "connection",
        "gfs",
        "once",
        "console",
        "log",
        "use",
        "json",
        "err",
        "req",
        "res",
        "next",
        "name",
        "valErrors",
        "Object",
        "keys",
        "errors",
        "forEach",
        "key",
        "push",
        "message",
        "status",
        "send",
        "listen",
        "process",
        "env",
        "PORT"
      ],
      "mappings": ";;AAAAA,OAAO,CAAC,iBAAD,CAAP;;AACAA,OAAO,CAAC,aAAD,CAAP;;AACA,MAAMC,QAAQ,GAAGD,OAAO,CAAC,uBAAD,CAAxB;;AACA,MAAME,YAAY,GAAGF,OAAO,CAAC,gBAAD,CAA5B;;AACA,MAAMG,IAAI,GAAGH,OAAO,CAAC,eAAD,CAApB;;AACA,MAAMI,aAAa,GAAGJ,OAAO,CAAC,uBAAD,CAA7B;;AACA,MAAMK,MAAM,GAAGL,OAAO,CAAC,QAAD,CAAtB;;AAEA,MAAMM,QAAQ,GAAGN,OAAO,CAAC,UAAD,CAAxB;AAAA,MACMO,OAAO,GAAGP,OAAO,CAAC,SAAD,CADvB;AAAA,MAEMQ,UAAU,GAAGR,OAAO,CAAC,aAAD,CAF1B;AAAA,MAGMS,IAAI,GAAGT,OAAO,CAAC,MAAD,CAHpB;;AAKA,IAAIU,GAAG,GAAGH,OAAO,EAAjB;AAEA,MAAMI,UAAU,GAAGL,QAAQ,CAACK,UAA5B;AACA,IAAIC,GAAJ;AAEAD,UAAU,CAACE,IAAX,CAAgB,MAAhB,EAAwB,MAAM;AAC9B;;AAEEC,EAAAA,OAAO,CAACC,GAAR,CAAY,uDAAZ;AACD,CAJD;AAMA;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBAb,YAAY;AAEZQ,GAAG,CAACM,GAAJ,CAAQP,IAAI,EAAZ,E,CAEA;;AACAC,GAAG,CAACM,GAAJ,CAAQR,UAAU,CAACS,IAAX,EAAR;AACAP,GAAG,CAACM,GAAJ,CAAQP,IAAI,EAAZ;AACAC,GAAG,CAACM,GAAJ,CAAQ,MAAR,EAAgBf,QAAhB,E,CAEA;;AACAS,GAAG,CAACM,GAAJ,CAAQ,CAACE,GAAD,EAAMC,GAAN,EAAWC,GAAX,EAAgBC,IAAhB,KAAyB;AAC/B,MAAIH,GAAG,CAACI,IAAJ,IAAY,iBAAhB,EAAkC;AAChC,QAAIC,SAAS,GAAG,EAAhB;AACAC,IAAAA,MAAM,CAACC,IAAP,CAAYP,GAAG,CAACQ,MAAhB,EAAwBC,OAAxB,CAAgCC,GAAG,IAAIL,SAAS,CAACM,IAAV,CAAeX,GAAG,CAACQ,MAAJ,CAAWE,GAAX,EAAgBE,OAA/B,CAAvC;AACAV,IAAAA,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBT,SAArB;AACD;AACF,CAND;AAQAb,GAAG,CAACuB,MAAJ,CAAWC,OAAO,CAACC,GAAR,CAAYC,IAAvB,EAA6B,MAAKtB,OAAO,CAACC,GAAR,CAAa,2BAA0BmB,OAAO,CAACC,GAAR,CAAYC,IAAK,EAAxD,CAAlC",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "sourcesContent": [
        "require('./config/config');\nrequire('./models/db');\nconst rtsIndex = require('./routes/index.routes');\nconst manageEvents = require(\"./manageEvents\");\nconst Grid = require('gridfs-stream');\nconst GridFsStorage = require('multer-gridfs-storage');\nconst multer = require('multer');\n\nconst mongoose = require('mongoose'),\n      express = require('express'),\n      bodyParser = require('body-parser'),\n      cors = require('cors');\n\nvar app = express();\n\nconst connection = mongoose.connection;\nlet gfs\n\nconnection.once('open', () => {\n/*   gfs = Grid(connection.db, mongoose.mongo);\n  gfs.collection('uploads'); */\n  console.log('MongoDB database connection established successfully!');\n});\n\n/* const storage = new GridFsStorage({\n  url: process.env.MONGODB_URI,\n  file: (req, file) => {\n    return new Promise((resolve, reject) => {\n      crypto.randomBytes(16, (err, buf) => {\n        if (err) {\n          return reject(err);\n        }\n        const filename = buf.toString('hex') + path.extname(file.originalname);\n        const fileInfo = {\n          filename: filename,\n          bucketName: 'uploads'\n        };\n        resolve(fileInfo);\n      });\n    });\n  }\n});\nconst upload = multer({ storage }).single('file');\n\napp.post('/upload', upload, (req, res, err) => {\n  console.log('req', req.body)\n  return res.json({originalname:req.file.originalname, uploadname:req.file.filename});\n});\n */\nmanageEvents();\n\napp.use(cors());\n\n//middleware\napp.use(bodyParser.json());\napp.use(cors());\napp.use('/api', rtsIndex);\n\n//error handler\napp.use((err, req, res, next) => {\n  if (err.name == 'ValidationError'){\n    var valErrors = [];\n    Object.keys(err.errors).forEach(key => valErrors.push(err.errors[key].message));\n    res.status(422).send(valErrors)\n  }\n});\n\napp.listen(process.env.PORT, ()=> console.log(`Server started at port: ${process.env.PORT}`));\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1581029444345
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/backend/config\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/backend/config/config.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/config",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/config/config.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/backend/config/config.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/config/config.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/config",
        "sourceFileName": "config.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\n// check env\nvar env = process.env.NONE_ENV || 'development'; // fetch env.con\n\nvar config = require('./config.json');\n\nvar envConfig = config[env]; // add env. config values to process.env\n\nObject.keys(envConfig).forEach(key => process.env[key] = envConfig[key]);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJlbnYiLCJwcm9jZXNzIiwiTk9ORV9FTlYiLCJjb25maWciLCJyZXF1aXJlIiwiZW52Q29uZmlnIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrZXkiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQSxJQUFJQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQ0QsR0FBUixDQUFZRSxRQUFaLElBQXdCLGFBQWxDLEMsQ0FDQTs7QUFDQSxJQUFJQyxNQUFNLEdBQUdDLE9BQU8sQ0FBQyxlQUFELENBQXBCOztBQUNBLElBQUlDLFNBQVMsR0FBR0YsTUFBTSxDQUFDSCxHQUFELENBQXRCLEMsQ0FDQTs7QUFDQU0sTUFBTSxDQUFDQyxJQUFQLENBQVlGLFNBQVosRUFBdUJHLE9BQXZCLENBQStCQyxHQUFHLElBQUlSLE9BQU8sQ0FBQ0QsR0FBUixDQUFZUyxHQUFaLElBQW1CSixTQUFTLENBQUNJLEdBQUQsQ0FBbEUiLCJzb3VyY2VSb290IjoiL1VzZXJzL2pvbmF0aGFuYXVndXN0aW4vRGVza3RvcC9XZWJzaXRlcy9iYWNrZW5kL2NvbmZpZyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGNoZWNrIGVudlxudmFyIGVudiA9IHByb2Nlc3MuZW52Lk5PTkVfRU5WIHx8ICdkZXZlbG9wbWVudCc7XG4vLyBmZXRjaCBlbnYuY29uXG52YXIgY29uZmlnID0gcmVxdWlyZSgnLi9jb25maWcuanNvbicpO1xudmFyIGVudkNvbmZpZyA9IGNvbmZpZ1tlbnZdO1xuLy8gYWRkIGVudi4gY29uZmlnIHZhbHVlcyB0byBwcm9jZXNzLmVudlxuT2JqZWN0LmtleXMoZW52Q29uZmlnKS5mb3JFYWNoKGtleSA9PiBwcm9jZXNzLmVudltrZXldID0gZW52Q29uZmlnW2tleV0pO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "config.js"
      ],
      "names": [
        "env",
        "process",
        "NONE_ENV",
        "config",
        "require",
        "envConfig",
        "Object",
        "keys",
        "forEach",
        "key"
      ],
      "mappings": ";;AAAA;AACA,IAAIA,GAAG,GAAGC,OAAO,CAACD,GAAR,CAAYE,QAAZ,IAAwB,aAAlC,C,CACA;;AACA,IAAIC,MAAM,GAAGC,OAAO,CAAC,eAAD,CAApB;;AACA,IAAIC,SAAS,GAAGF,MAAM,CAACH,GAAD,CAAtB,C,CACA;;AACAM,MAAM,CAACC,IAAP,CAAYF,SAAZ,EAAuBG,OAAvB,CAA+BC,GAAG,IAAIR,OAAO,CAACD,GAAR,CAAYS,GAAZ,IAAmBJ,SAAS,CAACI,GAAD,CAAlE",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/config",
      "sourcesContent": [
        "// check env\nvar env = process.env.NONE_ENV || 'development';\n// fetch env.con\nvar config = require('./config.json');\nvar envConfig = config[env];\n// add env. config values to process.env\nObject.keys(envConfig).forEach(key => process.env[key] = envConfig[key]);\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557273659461
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/backend/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/backend/models/db.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/models/db.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/backend/models/db.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/models/db.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/models",
        "sourceFileName": "db.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst mongoose = require('mongoose');\n\nmongoose.connect(process.env.MONGODB_URI, {\n  useNewUrlParser: true\n}, err => {\n  if (!err) {\n    console.log('MongoDB connection succeeded.');\n  } else {\n    console.log('Error in MongoDB connection : ' + JSON.stringify(err, undefined, 2));\n  }\n});\n\nrequire('./user.model');\n\nrequire('./event.model');\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsImNvbm5lY3QiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09EQl9VUkkiLCJ1c2VOZXdVcmxQYXJzZXIiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiSlNPTiIsInN0cmluZ2lmeSIsInVuZGVmaW5lZCJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFELENBQXhCOztBQUVBRCxRQUFRLENBQUNFLE9BQVQsQ0FBaUJDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxXQUE3QixFQUEwQztBQUFDQyxFQUFBQSxlQUFlLEVBQUU7QUFBbEIsQ0FBMUMsRUFBcUVDLEdBQUQsSUFBUztBQUN6RSxNQUFJLENBQUNBLEdBQUwsRUFBVTtBQUFFQyxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSwrQkFBWjtBQUErQyxHQUEzRCxNQUNLO0FBQUVELElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLG1DQUFtQ0MsSUFBSSxDQUFDQyxTQUFMLENBQWVKLEdBQWYsRUFBb0JLLFNBQXBCLEVBQStCLENBQS9CLENBQS9DO0FBQW9GO0FBQzlGLENBSEQ7O0FBS0FYLE9BQU8sQ0FBQyxjQUFELENBQVA7O0FBQ0FBLE9BQU8sQ0FBQyxlQUFELENBQVAiLCJzb3VyY2VSb290IjoiL1VzZXJzL2pvbmF0aGFuYXVndXN0aW4vRGVza3RvcC9XZWJzaXRlcy9iYWNrZW5kL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcblxubW9uZ29vc2UuY29ubmVjdChwcm9jZXNzLmVudi5NT05HT0RCX1VSSSwge3VzZU5ld1VybFBhcnNlcjogdHJ1ZX0sICAoZXJyKSA9PiB7XG4gICAgaWYgKCFlcnIpIHsgY29uc29sZS5sb2coJ01vbmdvREIgY29ubmVjdGlvbiBzdWNjZWVkZWQuJyk7IH1cbiAgICBlbHNlIHsgY29uc29sZS5sb2coJ0Vycm9yIGluIE1vbmdvREIgY29ubmVjdGlvbiA6ICcgKyBKU09OLnN0cmluZ2lmeShlcnIsIHVuZGVmaW5lZCwgMikpOyB9XG59KTtcblxucmVxdWlyZSgnLi91c2VyLm1vZGVsJyk7XG5yZXF1aXJlKCcuL2V2ZW50Lm1vZGVsJyk7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "db.js"
      ],
      "names": [
        "mongoose",
        "require",
        "connect",
        "process",
        "env",
        "MONGODB_URI",
        "useNewUrlParser",
        "err",
        "console",
        "log",
        "JSON",
        "stringify",
        "undefined"
      ],
      "mappings": ";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AAEAD,QAAQ,CAACE,OAAT,CAAiBC,OAAO,CAACC,GAAR,CAAYC,WAA7B,EAA0C;AAACC,EAAAA,eAAe,EAAE;AAAlB,CAA1C,EAAqEC,GAAD,IAAS;AACzE,MAAI,CAACA,GAAL,EAAU;AAAEC,IAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ;AAA+C,GAA3D,MACK;AAAED,IAAAA,OAAO,CAACC,GAAR,CAAY,mCAAmCC,IAAI,CAACC,SAAL,CAAeJ,GAAf,EAAoBK,SAApB,EAA+B,CAA/B,CAA/C;AAAoF;AAC9F,CAHD;;AAKAX,OAAO,CAAC,cAAD,CAAP;;AACAA,OAAO,CAAC,eAAD,CAAP",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/models",
      "sourcesContent": [
        "const mongoose = require('mongoose');\n\nmongoose.connect(process.env.MONGODB_URI, {useNewUrlParser: true},  (err) => {\n    if (!err) { console.log('MongoDB connection succeeded.'); }\n    else { console.log('Error in MongoDB connection : ' + JSON.stringify(err, undefined, 2)); }\n});\n\nrequire('./user.model');\nrequire('./event.model');\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1571411911020
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/backend/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/backend/models/user.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/models/user.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/backend/models/user.model.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/models/user.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/models",
        "sourceFileName": "user.model.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst mongoose = require('mongoose');\n\nconst bcrypt = require('bcryptjs');\n\nconst jwt = require('jsonwebtoken');\n\nconst Event = require('../models/event.model');\n\nvar Schema = mongoose.Schema;\nvar ObjectId = Schema.ObjectId;\nvar userSchema = new mongoose.Schema({\n  fullName: {\n    type: String,\n    required: 'Full name can\\'t be empty'\n  },\n  email: {\n    type: String,\n    required: 'Email can\\'t be empty',\n    unique: true\n  },\n  password: {\n    type: String,\n    required: 'Password can\\'t be empty',\n    minlength: [6, 'Password must be at least 6 characters long']\n  },\n  relationships: {\n    followers: [{\n      type: String,\n      ref: \"User\"\n    }],\n    following: [{\n      type: String,\n      ref: \"User\"\n    }]\n  },\n  saltSecret: String,\n  posts: {\n    userPosts: [{\n      type: String\n    }]\n  }\n}); //Custom validation for email\n\nuserSchema.path('email').validate(val => {\n  return /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(val);\n}, 'Invalid e-mail.');\nuserSchema.pre('save', function (next) {\n  bcrypt.genSalt(10, (err, salt) => {\n    bcrypt.hash(this.password, salt, (err, hash) => {\n      this.password = hash;\n      this.saltSecret = salt;\n      next();\n    });\n  });\n}); // Methods\n\nuserSchema.methods.verifyPassword = async function (password, hashed_pass) {\n  const saltSecret = this.saltSecret;\n  const isValid = await bcrypt.compare(password, hashed_pass);\n  return isValid;\n};\n\nuserSchema.methods.generateJwt = function () {\n  return jwt.sign({\n    _id: this._id\n  }, process.env.JWT_SECRET, {\n    expiresIn: process.env.JWT_EXP\n  });\n};\n\nmongoose.model('User', userSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIubW9kZWwuanMiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJyZXF1aXJlIiwiYmNyeXB0Iiwiand0IiwiRXZlbnQiLCJTY2hlbWEiLCJPYmplY3RJZCIsInVzZXJTY2hlbWEiLCJmdWxsTmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImVtYWlsIiwidW5pcXVlIiwicGFzc3dvcmQiLCJtaW5sZW5ndGgiLCJyZWxhdGlvbnNoaXBzIiwiZm9sbG93ZXJzIiwicmVmIiwiZm9sbG93aW5nIiwic2FsdFNlY3JldCIsInBvc3RzIiwidXNlclBvc3RzIiwicGF0aCIsInZhbGlkYXRlIiwidmFsIiwidGVzdCIsInByZSIsIm5leHQiLCJnZW5TYWx0IiwiZXJyIiwic2FsdCIsImhhc2giLCJtZXRob2RzIiwidmVyaWZ5UGFzc3dvcmQiLCJoYXNoZWRfcGFzcyIsImlzVmFsaWQiLCJjb21wYXJlIiwiZ2VuZXJhdGVKd3QiLCJzaWduIiwiX2lkIiwicHJvY2VzcyIsImVudiIsIkpXVF9TRUNSRVQiLCJleHBpcmVzSW4iLCJKV1RfRVhQIiwibW9kZWwiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBRCxDQUF4Qjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxVQUFELENBQXRCOztBQUNBLE1BQU1FLEdBQUcsR0FBR0YsT0FBTyxDQUFDLGNBQUQsQ0FBbkI7O0FBQ0EsTUFBTUcsS0FBSyxHQUFHSCxPQUFPLENBQUMsdUJBQUQsQ0FBckI7O0FBRUEsSUFBSUksTUFBTSxHQUFHTCxRQUFRLENBQUNLLE1BQXRCO0FBQ0EsSUFBSUMsUUFBUSxHQUFHRCxNQUFNLENBQUNDLFFBQXRCO0FBRUEsSUFBSUMsVUFBVSxHQUFHLElBQUlQLFFBQVEsQ0FBQ0ssTUFBYixDQUFvQjtBQUNuQ0csRUFBQUEsUUFBUSxFQUFFO0FBQ1JDLElBQUFBLElBQUksRUFBRUMsTUFERTtBQUVSQyxJQUFBQSxRQUFRLEVBQUU7QUFGRixHQUR5QjtBQUtuQ0MsRUFBQUEsS0FBSyxFQUFFO0FBQ0xILElBQUFBLElBQUksRUFBRUMsTUFERDtBQUVMQyxJQUFBQSxRQUFRLEVBQUUsdUJBRkw7QUFHTEUsSUFBQUEsTUFBTSxFQUFFO0FBSEgsR0FMNEI7QUFVbkNDLEVBQUFBLFFBQVEsRUFBRTtBQUNSTCxJQUFBQSxJQUFJLEVBQUVDLE1BREU7QUFFUkMsSUFBQUEsUUFBUSxFQUFFLDBCQUZGO0FBR1JJLElBQUFBLFNBQVMsRUFBRSxDQUFDLENBQUQsRUFBSSw2Q0FBSjtBQUhILEdBVnlCO0FBZW5DQyxFQUFBQSxhQUFhLEVBQUU7QUFDYkMsSUFBQUEsU0FBUyxFQUFFLENBQUM7QUFBRVIsTUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCUSxNQUFBQSxHQUFHLEVBQUU7QUFBckIsS0FBRCxDQURFO0FBRWJDLElBQUFBLFNBQVMsRUFBRSxDQUFDO0FBQUVWLE1BQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQlEsTUFBQUEsR0FBRyxFQUFFO0FBQXJCLEtBQUQ7QUFGRSxHQWZvQjtBQW1CbkNFLEVBQUFBLFVBQVUsRUFBRVYsTUFuQnVCO0FBb0JuQ1csRUFBQUEsS0FBSyxFQUFFO0FBQ0xDLElBQUFBLFNBQVMsRUFBRSxDQUFDO0FBQUViLE1BQUFBLElBQUksRUFBRUM7QUFBUixLQUFEO0FBRE47QUFwQjRCLENBQXBCLENBQWpCLEMsQ0F5QkE7O0FBRUFILFVBQVUsQ0FBQ2dCLElBQVgsQ0FBZ0IsT0FBaEIsRUFBeUJDLFFBQXpCLENBQW1DQyxHQUFELElBQVM7QUFDekMsU0FBTywwSkFBMEpDLElBQTFKLENBQStKRCxHQUEvSixDQUFQO0FBQ0QsQ0FGRCxFQUVHLGlCQUZIO0FBSUFsQixVQUFVLENBQUNvQixHQUFYLENBQWUsTUFBZixFQUF1QixVQUFTQyxJQUFULEVBQWU7QUFDcEMxQixFQUFBQSxNQUFNLENBQUMyQixPQUFQLENBQWUsRUFBZixFQUFtQixDQUFDQyxHQUFELEVBQU1DLElBQU4sS0FBZTtBQUNoQzdCLElBQUFBLE1BQU0sQ0FBQzhCLElBQVAsQ0FBWSxLQUFLbEIsUUFBakIsRUFBMkJpQixJQUEzQixFQUFpQyxDQUFDRCxHQUFELEVBQU1FLElBQU4sS0FBZTtBQUM5QyxXQUFLbEIsUUFBTCxHQUFnQmtCLElBQWhCO0FBQ0EsV0FBS1osVUFBTCxHQUFrQlcsSUFBbEI7QUFDQUgsTUFBQUEsSUFBSTtBQUNMLEtBSkQ7QUFLRCxHQU5EO0FBT0QsQ0FSRCxFLENBVUE7O0FBRUFyQixVQUFVLENBQUMwQixPQUFYLENBQW1CQyxjQUFuQixHQUFvQyxnQkFBZ0JwQixRQUFoQixFQUEwQnFCLFdBQTFCLEVBQXVDO0FBQ3pFLFFBQU1mLFVBQVUsR0FBRyxLQUFLQSxVQUF4QjtBQUNBLFFBQU1nQixPQUFPLEdBQUcsTUFBTWxDLE1BQU0sQ0FBQ21DLE9BQVAsQ0FBZXZCLFFBQWYsRUFBeUJxQixXQUF6QixDQUF0QjtBQUNBLFNBQU9DLE9BQVA7QUFDRCxDQUpEOztBQU1BN0IsVUFBVSxDQUFDMEIsT0FBWCxDQUFtQkssV0FBbkIsR0FBaUMsWUFBWTtBQUMzQyxTQUFPbkMsR0FBRyxDQUFDb0MsSUFBSixDQUFTO0FBQUNDLElBQUFBLEdBQUcsRUFBRSxLQUFLQTtBQUFYLEdBQVQsRUFDUEMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFVBREwsRUFDaUI7QUFDdEJDLElBQUFBLFNBQVMsRUFBRUgsT0FBTyxDQUFDQyxHQUFSLENBQVlHO0FBREQsR0FEakIsQ0FBUDtBQUlELENBTEQ7O0FBTUE3QyxRQUFRLENBQUM4QyxLQUFULENBQWUsTUFBZixFQUF1QnZDLFVBQXZCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9qb25hdGhhbmF1Z3VzdGluL0Rlc2t0b3AvV2Vic2l0ZXMvYmFja2VuZC9tb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKCdiY3J5cHRqcycpO1xuY29uc3Qgand0ID0gcmVxdWlyZSgnanNvbndlYnRva2VuJyk7XG5jb25zdCBFdmVudCA9IHJlcXVpcmUoJy4uL21vZGVscy9ldmVudC5tb2RlbCcpO1xuXG52YXIgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hO1xudmFyIE9iamVjdElkID0gU2NoZW1hLk9iamVjdElkO1xuXG52YXIgdXNlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICBmdWxsTmFtZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogJ0Z1bGwgbmFtZSBjYW5cXCd0IGJlIGVtcHR5J1xuICB9LFxuICBlbWFpbDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogJ0VtYWlsIGNhblxcJ3QgYmUgZW1wdHknLFxuICAgIHVuaXF1ZTogdHJ1ZVxuICB9LFxuICBwYXNzd29yZDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogJ1Bhc3N3b3JkIGNhblxcJ3QgYmUgZW1wdHknLFxuICAgIG1pbmxlbmd0aDogWzYsICdQYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0IDYgY2hhcmFjdGVycyBsb25nJ11cbiAgfSxcbiAgcmVsYXRpb25zaGlwczoge1xuICAgIGZvbGxvd2VyczogW3sgdHlwZTogU3RyaW5nLCByZWY6IFwiVXNlclwiIH1dLFxuICAgIGZvbGxvd2luZzogW3sgdHlwZTogU3RyaW5nLCByZWY6IFwiVXNlclwiIH1dXG4gIH0sXG4gIHNhbHRTZWNyZXQ6IFN0cmluZyxcbiAgcG9zdHM6IHtcbiAgICB1c2VyUG9zdHM6IFt7IHR5cGU6IFN0cmluZ31dXG4gIH1cbn0pO1xuXG4vL0N1c3RvbSB2YWxpZGF0aW9uIGZvciBlbWFpbFxuXG51c2VyU2NoZW1hLnBhdGgoJ2VtYWlsJykudmFsaWRhdGUoKHZhbCkgPT4ge1xuICByZXR1cm4gL14oKFtePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFxdKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLy50ZXN0KHZhbCk7XG59LCAnSW52YWxpZCBlLW1haWwuJyk7XG5cbnVzZXJTY2hlbWEucHJlKCdzYXZlJywgZnVuY3Rpb24obmV4dCkge1xuICBiY3J5cHQuZ2VuU2FsdCgxMCwgKGVyciwgc2FsdCkgPT4ge1xuICAgIGJjcnlwdC5oYXNoKHRoaXMucGFzc3dvcmQsIHNhbHQsIChlcnIsIGhhc2gpID0+IHtcbiAgICAgIHRoaXMucGFzc3dvcmQgPSBoYXNoO1xuICAgICAgdGhpcy5zYWx0U2VjcmV0ID0gc2FsdDtcbiAgICAgIG5leHQoKTtcbiAgICB9KVxuICB9KVxufSlcblxuLy8gTWV0aG9kc1xuXG51c2VyU2NoZW1hLm1ldGhvZHMudmVyaWZ5UGFzc3dvcmQgPSBhc3luYyBmdW5jdGlvbiAocGFzc3dvcmQsIGhhc2hlZF9wYXNzKSB7XG4gIGNvbnN0IHNhbHRTZWNyZXQgPSB0aGlzLnNhbHRTZWNyZXQ7XG4gIGNvbnN0IGlzVmFsaWQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgaGFzaGVkX3Bhc3MpO1xuICByZXR1cm4gaXNWYWxpZDtcbn1cblxudXNlclNjaGVtYS5tZXRob2RzLmdlbmVyYXRlSnd0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gand0LnNpZ24oe19pZDogdGhpcy5faWR9LFxuICBwcm9jZXNzLmVudi5KV1RfU0VDUkVULCB7XG4gICAgZXhwaXJlc0luOiBwcm9jZXNzLmVudi5KV1RfRVhQXG4gIH0pO1xufVxubW9uZ29vc2UubW9kZWwoJ1VzZXInLCB1c2VyU2NoZW1hKTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "user.model.js"
      ],
      "names": [
        "mongoose",
        "require",
        "bcrypt",
        "jwt",
        "Event",
        "Schema",
        "ObjectId",
        "userSchema",
        "fullName",
        "type",
        "String",
        "required",
        "email",
        "unique",
        "password",
        "minlength",
        "relationships",
        "followers",
        "ref",
        "following",
        "saltSecret",
        "posts",
        "userPosts",
        "path",
        "validate",
        "val",
        "test",
        "pre",
        "next",
        "genSalt",
        "err",
        "salt",
        "hash",
        "methods",
        "verifyPassword",
        "hashed_pass",
        "isValid",
        "compare",
        "generateJwt",
        "sign",
        "_id",
        "process",
        "env",
        "JWT_SECRET",
        "expiresIn",
        "JWT_EXP",
        "model"
      ],
      "mappings": ";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAMC,MAAM,GAAGD,OAAO,CAAC,UAAD,CAAtB;;AACA,MAAME,GAAG,GAAGF,OAAO,CAAC,cAAD,CAAnB;;AACA,MAAMG,KAAK,GAAGH,OAAO,CAAC,uBAAD,CAArB;;AAEA,IAAII,MAAM,GAAGL,QAAQ,CAACK,MAAtB;AACA,IAAIC,QAAQ,GAAGD,MAAM,CAACC,QAAtB;AAEA,IAAIC,UAAU,GAAG,IAAIP,QAAQ,CAACK,MAAb,CAAoB;AACnCG,EAAAA,QAAQ,EAAE;AACRC,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE;AAFF,GADyB;AAKnCC,EAAAA,KAAK,EAAE;AACLH,IAAAA,IAAI,EAAEC,MADD;AAELC,IAAAA,QAAQ,EAAE,uBAFL;AAGLE,IAAAA,MAAM,EAAE;AAHH,GAL4B;AAUnCC,EAAAA,QAAQ,EAAE;AACRL,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE,0BAFF;AAGRI,IAAAA,SAAS,EAAE,CAAC,CAAD,EAAI,6CAAJ;AAHH,GAVyB;AAenCC,EAAAA,aAAa,EAAE;AACbC,IAAAA,SAAS,EAAE,CAAC;AAAER,MAAAA,IAAI,EAAEC,MAAR;AAAgBQ,MAAAA,GAAG,EAAE;AAArB,KAAD,CADE;AAEbC,IAAAA,SAAS,EAAE,CAAC;AAAEV,MAAAA,IAAI,EAAEC,MAAR;AAAgBQ,MAAAA,GAAG,EAAE;AAArB,KAAD;AAFE,GAfoB;AAmBnCE,EAAAA,UAAU,EAAEV,MAnBuB;AAoBnCW,EAAAA,KAAK,EAAE;AACLC,IAAAA,SAAS,EAAE,CAAC;AAAEb,MAAAA,IAAI,EAAEC;AAAR,KAAD;AADN;AApB4B,CAApB,CAAjB,C,CAyBA;;AAEAH,UAAU,CAACgB,IAAX,CAAgB,OAAhB,EAAyBC,QAAzB,CAAmCC,GAAD,IAAS;AACzC,SAAO,0JAA0JC,IAA1J,CAA+JD,GAA/J,CAAP;AACD,CAFD,EAEG,iBAFH;AAIAlB,UAAU,CAACoB,GAAX,CAAe,MAAf,EAAuB,UAASC,IAAT,EAAe;AACpC1B,EAAAA,MAAM,CAAC2B,OAAP,CAAe,EAAf,EAAmB,CAACC,GAAD,EAAMC,IAAN,KAAe;AAChC7B,IAAAA,MAAM,CAAC8B,IAAP,CAAY,KAAKlB,QAAjB,EAA2BiB,IAA3B,EAAiC,CAACD,GAAD,EAAME,IAAN,KAAe;AAC9C,WAAKlB,QAAL,GAAgBkB,IAAhB;AACA,WAAKZ,UAAL,GAAkBW,IAAlB;AACAH,MAAAA,IAAI;AACL,KAJD;AAKD,GAND;AAOD,CARD,E,CAUA;;AAEArB,UAAU,CAAC0B,OAAX,CAAmBC,cAAnB,GAAoC,gBAAgBpB,QAAhB,EAA0BqB,WAA1B,EAAuC;AACzE,QAAMf,UAAU,GAAG,KAAKA,UAAxB;AACA,QAAMgB,OAAO,GAAG,MAAMlC,MAAM,CAACmC,OAAP,CAAevB,QAAf,EAAyBqB,WAAzB,CAAtB;AACA,SAAOC,OAAP;AACD,CAJD;;AAMA7B,UAAU,CAAC0B,OAAX,CAAmBK,WAAnB,GAAiC,YAAY;AAC3C,SAAOnC,GAAG,CAACoC,IAAJ,CAAS;AAACC,IAAAA,GAAG,EAAE,KAAKA;AAAX,GAAT,EACPC,OAAO,CAACC,GAAR,CAAYC,UADL,EACiB;AACtBC,IAAAA,SAAS,EAAEH,OAAO,CAACC,GAAR,CAAYG;AADD,GADjB,CAAP;AAID,CALD;;AAMA7C,QAAQ,CAAC8C,KAAT,CAAe,MAAf,EAAuBvC,UAAvB",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/models",
      "sourcesContent": [
        "const mongoose = require('mongoose');\nconst bcrypt = require('bcryptjs');\nconst jwt = require('jsonwebtoken');\nconst Event = require('../models/event.model');\n\nvar Schema = mongoose.Schema;\nvar ObjectId = Schema.ObjectId;\n\nvar userSchema = new mongoose.Schema({\n  fullName: {\n    type: String,\n    required: 'Full name can\\'t be empty'\n  },\n  email: {\n    type: String,\n    required: 'Email can\\'t be empty',\n    unique: true\n  },\n  password: {\n    type: String,\n    required: 'Password can\\'t be empty',\n    minlength: [6, 'Password must be at least 6 characters long']\n  },\n  relationships: {\n    followers: [{ type: String, ref: \"User\" }],\n    following: [{ type: String, ref: \"User\" }]\n  },\n  saltSecret: String,\n  posts: {\n    userPosts: [{ type: String}]\n  }\n});\n\n//Custom validation for email\n\nuserSchema.path('email').validate((val) => {\n  return /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(val);\n}, 'Invalid e-mail.');\n\nuserSchema.pre('save', function(next) {\n  bcrypt.genSalt(10, (err, salt) => {\n    bcrypt.hash(this.password, salt, (err, hash) => {\n      this.password = hash;\n      this.saltSecret = salt;\n      next();\n    })\n  })\n})\n\n// Methods\n\nuserSchema.methods.verifyPassword = async function (password, hashed_pass) {\n  const saltSecret = this.saltSecret;\n  const isValid = await bcrypt.compare(password, hashed_pass);\n  return isValid;\n}\n\nuserSchema.methods.generateJwt = function () {\n  return jwt.sign({_id: this._id},\n  process.env.JWT_SECRET, {\n    expiresIn: process.env.JWT_EXP\n  });\n}\nmongoose.model('User', userSchema);\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1580451530546
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/backend/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/backend/models/event.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/models/event.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/backend/models/event.model.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/models/event.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/models",
        "sourceFileName": "event.model.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst mongoose = require(\"mongoose\");\n\nconst Schema = mongoose.Schema;\nlet Event = new Schema({\n  eventName: {\n    type: String\n  },\n  location: {\n    type: String\n  },\n  lat: {\n    type: Number\n  },\n  long: {\n    type: Number\n  },\n  startDate: {\n    type: String\n  },\n  eventDateUntil: {\n    type: String\n  },\n  info: {\n    type: String\n  },\n  price: {\n    type: Number,\n    default: 0\n  },\n  interest: {\n    type: Number,\n    default: 0\n  },\n  eventPrivate: {\n    type: Boolean,\n    default: false\n  },\n  promoter: {\n    /*     required: true */\n  },\n  status: {\n    type: String,\n    default: 'Open'\n  }\n});\nmodule.exports = mongoose.model('Event', Event);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV2ZW50Lm1vZGVsLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsIlNjaGVtYSIsIkV2ZW50IiwiZXZlbnROYW1lIiwidHlwZSIsIlN0cmluZyIsImxvY2F0aW9uIiwibGF0IiwiTnVtYmVyIiwibG9uZyIsInN0YXJ0RGF0ZSIsImV2ZW50RGF0ZVVudGlsIiwiaW5mbyIsInByaWNlIiwiZGVmYXVsdCIsImludGVyZXN0IiwiZXZlbnRQcml2YXRlIiwiQm9vbGVhbiIsInByb21vdGVyIiwic3RhdHVzIiwibW9kdWxlIiwiZXhwb3J0cyIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBeEI7O0FBR0EsTUFBTUMsTUFBTSxHQUFHRixRQUFRLENBQUNFLE1BQXhCO0FBRUEsSUFBSUMsS0FBSyxHQUFHLElBQUlELE1BQUosQ0FBVztBQUNyQkUsRUFBQUEsU0FBUyxFQUFFO0FBQ1RDLElBQUFBLElBQUksRUFBRUM7QUFERyxHQURVO0FBSXJCQyxFQUFBQSxRQUFRLEVBQUU7QUFDUkYsSUFBQUEsSUFBSSxFQUFFQztBQURFLEdBSlc7QUFPckJFLEVBQUFBLEdBQUcsRUFBRTtBQUNISCxJQUFBQSxJQUFJLEVBQUVJO0FBREgsR0FQZ0I7QUFVckJDLEVBQUFBLElBQUksRUFBRTtBQUNKTCxJQUFBQSxJQUFJLEVBQUVJO0FBREYsR0FWZTtBQWFyQkUsRUFBQUEsU0FBUyxFQUFFO0FBQ1ROLElBQUFBLElBQUksRUFBRUM7QUFERyxHQWJVO0FBZ0JyQk0sRUFBQUEsY0FBYyxFQUFFO0FBQ2RQLElBQUFBLElBQUksRUFBRUM7QUFEUSxHQWhCSztBQW1CckJPLEVBQUFBLElBQUksRUFBRTtBQUNKUixJQUFBQSxJQUFJLEVBQUVDO0FBREYsR0FuQmU7QUFzQnJCUSxFQUFBQSxLQUFLLEVBQUU7QUFDTFQsSUFBQUEsSUFBSSxFQUFFSSxNQUREO0FBRUxNLElBQUFBLE9BQU8sRUFBRTtBQUZKLEdBdEJjO0FBMEJyQkMsRUFBQUEsUUFBUSxFQUFFO0FBQ1JYLElBQUFBLElBQUksRUFBRUksTUFERTtBQUVSTSxJQUFBQSxPQUFPLEVBQUU7QUFGRCxHQTFCVztBQThCckJFLEVBQUFBLFlBQVksRUFBRTtBQUNaWixJQUFBQSxJQUFJLEVBQUVhLE9BRE07QUFFWkgsSUFBQUEsT0FBTyxFQUFFO0FBRkcsR0E5Qk87QUFrQ3JCSSxFQUFBQSxRQUFRLEVBQUU7QUFDWjtBQURZLEdBbENXO0FBcUNyQkMsRUFBQUEsTUFBTSxFQUFFO0FBQ05mLElBQUFBLElBQUksRUFBRUMsTUFEQTtBQUVOUyxJQUFBQSxPQUFPLEVBQUU7QUFGSDtBQXJDYSxDQUFYLENBQVo7QUEyQ0FNLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnRCLFFBQVEsQ0FBQ3VCLEtBQVQsQ0FBZSxPQUFmLEVBQXdCcEIsS0FBeEIsQ0FBakIiLCJzb3VyY2VSb290IjoiL1VzZXJzL2pvbmF0aGFuYXVndXN0aW4vRGVza3RvcC9XZWJzaXRlcy9iYWNrZW5kL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZShcIm1vbmdvb3NlXCIpO1xuXG5cbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYTtcblxubGV0IEV2ZW50ID0gbmV3IFNjaGVtYSh7XG4gIGV2ZW50TmFtZToge1xuICAgIHR5cGU6IFN0cmluZ1xuICB9LFxuICBsb2NhdGlvbjoge1xuICAgIHR5cGU6IFN0cmluZ1xuICB9LFxuICBsYXQ6IHtcbiAgICB0eXBlOiBOdW1iZXJcbiAgfSxcbiAgbG9uZzoge1xuICAgIHR5cGU6IE51bWJlclxuICB9LFxuICBzdGFydERhdGU6IHtcbiAgICB0eXBlOiBTdHJpbmdcbiAgfSxcbiAgZXZlbnREYXRlVW50aWw6IHtcbiAgICB0eXBlOiBTdHJpbmdcbiAgfSxcbiAgaW5mbzoge1xuICAgIHR5cGU6IFN0cmluZ1xuICB9LFxuICBwcmljZToge1xuICAgIHR5cGU6IE51bWJlcixcbiAgICBkZWZhdWx0OiAwXG4gIH0sXG4gIGludGVyZXN0OiB7XG4gICAgdHlwZTogTnVtYmVyLFxuICAgIGRlZmF1bHQ6IDBcbiAgfSxcbiAgZXZlbnRQcml2YXRlOiB7XG4gICAgdHlwZTogQm9vbGVhbixcbiAgICBkZWZhdWx0OiBmYWxzZVxuICB9LFxuICBwcm9tb3Rlcjoge1xuLyogICAgIHJlcXVpcmVkOiB0cnVlICovXG4gIH0sXG4gIHN0YXR1czoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBkZWZhdWx0OiAnT3BlbidcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gbW9uZ29vc2UubW9kZWwoJ0V2ZW50JywgRXZlbnQpXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "event.model.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Schema",
        "Event",
        "eventName",
        "type",
        "String",
        "location",
        "lat",
        "Number",
        "long",
        "startDate",
        "eventDateUntil",
        "info",
        "price",
        "default",
        "interest",
        "eventPrivate",
        "Boolean",
        "promoter",
        "status",
        "module",
        "exports",
        "model"
      ],
      "mappings": ";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AAGA,MAAMC,MAAM,GAAGF,QAAQ,CAACE,MAAxB;AAEA,IAAIC,KAAK,GAAG,IAAID,MAAJ,CAAW;AACrBE,EAAAA,SAAS,EAAE;AACTC,IAAAA,IAAI,EAAEC;AADG,GADU;AAIrBC,EAAAA,QAAQ,EAAE;AACRF,IAAAA,IAAI,EAAEC;AADE,GAJW;AAOrBE,EAAAA,GAAG,EAAE;AACHH,IAAAA,IAAI,EAAEI;AADH,GAPgB;AAUrBC,EAAAA,IAAI,EAAE;AACJL,IAAAA,IAAI,EAAEI;AADF,GAVe;AAarBE,EAAAA,SAAS,EAAE;AACTN,IAAAA,IAAI,EAAEC;AADG,GAbU;AAgBrBM,EAAAA,cAAc,EAAE;AACdP,IAAAA,IAAI,EAAEC;AADQ,GAhBK;AAmBrBO,EAAAA,IAAI,EAAE;AACJR,IAAAA,IAAI,EAAEC;AADF,GAnBe;AAsBrBQ,EAAAA,KAAK,EAAE;AACLT,IAAAA,IAAI,EAAEI,MADD;AAELM,IAAAA,OAAO,EAAE;AAFJ,GAtBc;AA0BrBC,EAAAA,QAAQ,EAAE;AACRX,IAAAA,IAAI,EAAEI,MADE;AAERM,IAAAA,OAAO,EAAE;AAFD,GA1BW;AA8BrBE,EAAAA,YAAY,EAAE;AACZZ,IAAAA,IAAI,EAAEa,OADM;AAEZH,IAAAA,OAAO,EAAE;AAFG,GA9BO;AAkCrBI,EAAAA,QAAQ,EAAE;AACZ;AADY,GAlCW;AAqCrBC,EAAAA,MAAM,EAAE;AACNf,IAAAA,IAAI,EAAEC,MADA;AAENS,IAAAA,OAAO,EAAE;AAFH;AArCa,CAAX,CAAZ;AA2CAM,MAAM,CAACC,OAAP,GAAiBtB,QAAQ,CAACuB,KAAT,CAAe,OAAf,EAAwBpB,KAAxB,CAAjB",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/models",
      "sourcesContent": [
        "const mongoose = require(\"mongoose\");\n\n\nconst Schema = mongoose.Schema;\n\nlet Event = new Schema({\n  eventName: {\n    type: String\n  },\n  location: {\n    type: String\n  },\n  lat: {\n    type: Number\n  },\n  long: {\n    type: Number\n  },\n  startDate: {\n    type: String\n  },\n  eventDateUntil: {\n    type: String\n  },\n  info: {\n    type: String\n  },\n  price: {\n    type: Number,\n    default: 0\n  },\n  interest: {\n    type: Number,\n    default: 0\n  },\n  eventPrivate: {\n    type: Boolean,\n    default: false\n  },\n  promoter: {\n/*     required: true */\n  },\n  status: {\n    type: String,\n    default: 'Open'\n  }\n});\n\nmodule.exports = mongoose.model('Event', Event)\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1578431118000
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/backend/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/backend/routes/index.routes.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/routes/index.routes.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/backend/routes/index.routes.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/routes/index.routes.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/routes",
        "sourceFileName": "index.routes.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst express = require('express');\n\nconst router = express.Router();\n\nconst ctrlUser = require('../controllers/user.controller');\n\nconst ctrlEvent = require('../controllers/event.controller');\n\nconst jwtHelper = require('../config/jwtHelper');\n\nrouter.route('/test').post(jwtHelper.verifyJwtToken, (req, res) => {\n  console.log('yes');\n  console.log('req.body:', req.body);\n  res.status(200).send(req.body);\n});\nrouter.post('/register', ctrlUser.register);\nrouter.post('/authenticate', ctrlUser.authenticate);\nrouter.post('/refresh', ctrlUser.refresh);\nrouter.post('/logout', ctrlUser.logout);\nrouter.get('/userProfile', jwtHelper.verifyJwtToken, ctrlUser.userProfile);\nrouter.get('/users', jwtHelper.verifyJwtToken, ctrlUser.users);\nrouter.post('/posts', jwtHelper.verifyJwtToken, ctrlUser.posts);\nrouter.post('/ticketmaster-events', ctrlEvent.tmEvents);\nrouter.get('/users2', ctrlUser.users);\nrouter.get(\"/profile/:email\", ctrlUser.friendProfile);\nrouter.post('/follow', jwtHelper.verifyJwtToken, ctrlUser.follow);\nrouter.get('/events', ctrlEvent.events);\nrouter.post('/events/add', jwtHelper.verifyJwtToken, ctrlEvent.addEvent);\nrouter.post('/events/upload', ctrlEvent.uploadFiles);\nrouter.route('/events/:id').get((req, res) => {\n  Event.findById(req.params.id, (err, event) => {\n    if (err) console.log(err);else res.json(event);\n  });\n});\nrouter.route('/events/update/:id').post((req, res) => {\n  Event.findById(req.params.id, (err, event) => {\n    if (!event) return next(new Error('Could not load document'));else {\n      // This may change here\n      event.eventName = req.body.eventName;\n      event.eventLocation = req.body.eventLocation;\n      event.eventLat = req.body.eventLat;\n      event.eventLng = req.body.eventLng;\n      event.eventDateFrom = req.body.eventDateFrom;\n      event.eventDateUntil = req.body.eventDateUntil;\n      event.eventDescr = req.body.eventDescr;\n      event.price = req.body.price;\n      event.eventPrivate = req.body.eventPrivate;\n      event.interest = req.body.interest;\n      event.save().then(event => {\n        res.json('Update done');\n      }).catch(err => {\n        res.status(400).send('Update failed');\n      });\n    }\n  });\n});\nrouter.route('/events/delete/:id').get((req, res) => {\n  Event.findByIdAndRemove({\n    _id: req.params.id\n  }, (err, event) => {\n    if (err) res.json(err);else res.json('Remove successfully');\n  });\n});\n/* router.post('/unfollow', function(req, res) {\n    const user_id = req.user._id;\n    const to_follow_id = req.body.follow_id;\n\n    let bulk = Follow.collection.initializeUnorderedBulkOp();\n\n    bulk.find({ 'user': Types.ObjectId(user_id) }).upsert().updateOne({\n        $pull: {\n            following: Types.ObjectId(to_follow_id)\n        }\n    });\n\n    bulk.find({ 'user': Types.ObjectId(to_follow_id) }).upsert().updateOne({\n        $pull: {\n            followers: Types.ObjectId(user_id)\n        }\n    })\n\n    bulk.execute(function(err, doc) {\n        if (err) {\n            return res.json({\n                'state': false,\n                'msg': err\n            })\n        }\n        res.json({\n            'state': true,\n            'msg': 'Unfollowed'\n        })\n    })\n}) */\n\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnJvdXRlcy5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImN0cmxVc2VyIiwiY3RybEV2ZW50Iiwiand0SGVscGVyIiwicm91dGUiLCJwb3N0IiwidmVyaWZ5Snd0VG9rZW4iLCJyZXEiLCJyZXMiLCJjb25zb2xlIiwibG9nIiwiYm9keSIsInN0YXR1cyIsInNlbmQiLCJyZWdpc3RlciIsImF1dGhlbnRpY2F0ZSIsInJlZnJlc2giLCJsb2dvdXQiLCJnZXQiLCJ1c2VyUHJvZmlsZSIsInVzZXJzIiwicG9zdHMiLCJ0bUV2ZW50cyIsImZyaWVuZFByb2ZpbGUiLCJmb2xsb3ciLCJldmVudHMiLCJhZGRFdmVudCIsInVwbG9hZEZpbGVzIiwiRXZlbnQiLCJmaW5kQnlJZCIsInBhcmFtcyIsImlkIiwiZXJyIiwiZXZlbnQiLCJqc29uIiwibmV4dCIsIkVycm9yIiwiZXZlbnROYW1lIiwiZXZlbnRMb2NhdGlvbiIsImV2ZW50TGF0IiwiZXZlbnRMbmciLCJldmVudERhdGVGcm9tIiwiZXZlbnREYXRlVW50aWwiLCJldmVudERlc2NyIiwicHJpY2UiLCJldmVudFByaXZhdGUiLCJpbnRlcmVzdCIsInNhdmUiLCJ0aGVuIiwiY2F0Y2giLCJmaW5kQnlJZEFuZFJlbW92ZSIsIl9pZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBUixFQUFmOztBQUVBLE1BQU1DLFFBQVEsR0FBR0gsT0FBTyxDQUFDLGdDQUFELENBQXhCOztBQUNBLE1BQU1JLFNBQVMsR0FBR0osT0FBTyxDQUFDLGlDQUFELENBQXpCOztBQUdBLE1BQU1LLFNBQVMsR0FBR0wsT0FBTyxDQUFDLHFCQUFELENBQXpCOztBQUNBQyxNQUFNLENBQUNLLEtBQVAsQ0FBYSxPQUFiLEVBQXNC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RUFBTUMsR0FBTixLQUFjO0FBQ25Eb0IsRUFBQUEsS0FBSyxDQUFDc0IsaUJBQU4sQ0FBd0I7QUFBQ0MsSUFBQUEsR0FBRyxFQUFFNUMsR0FBRyxDQUFDdUIsTUFBSixDQUFXQztBQUFqQixHQUF4QixFQUE4QyxDQUFDQyxHQUFELEVBQU1DLEtBQU4sS0FBZ0I7QUFDNUQsUUFBSUQsR0FBSixFQUNFeEIsR0FBRyxDQUFDMEIsSUFBSixDQUFTRixHQUFULEVBREYsS0FHRXhCLEdBQUcsQ0FBQzBCLElBQUosQ0FBUyxxQkFBVDtBQUNILEdBTEQ7QUFNRCxDQVBEO0FBU0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBZ0NBa0IsTUFBTSxDQUFDQyxPQUFQLEdBQWlCdEQsTUFBakIiLCJzb3VyY2VSb290IjoiL1VzZXJzL2pvbmF0aGFuYXVndXN0aW4vRGVza3RvcC9XZWJzaXRlcy9iYWNrZW5kL3JvdXRlcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5jb25zdCBjdHJsVXNlciA9IHJlcXVpcmUoJy4uL2NvbnRyb2xsZXJzL3VzZXIuY29udHJvbGxlcicpO1xuY29uc3QgY3RybEV2ZW50ID0gcmVxdWlyZSgnLi4vY29udHJvbGxlcnMvZXZlbnQuY29udHJvbGxlcicpO1xuXG5cbmNvbnN0IGp3dEhlbHBlciA9IHJlcXVpcmUoJy4uL2NvbmZpZy9qd3RIZWxwZXInKTtcbnJvdXRlci5yb3V0ZSgnL3Rlc3QnKS5wb3N0KGp3dEhlbHBlci52ZXJpZnlKd3RUb2tlbiwgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnNvbGUubG9nKCd5ZXMnKTtcbiAgY29uc29sZS5sb2coJ3JlcS5ib2R5OicsIHJlcS5ib2R5KTtcbiAgcmVzLnN0YXR1cygyMDApLnNlbmQocmVxLmJvZHkpO1xufSk7XG5yb3V0ZXIucG9zdCgnL3JlZ2lzdGVyJywgY3RybFVzZXIucmVnaXN0ZXIpO1xucm91dGVyLnBvc3QoJy9hdXRoZW50aWNhdGUnLCBjdHJsVXNlci5hdXRoZW50aWNhdGUpO1xucm91dGVyLnBvc3QoJy9yZWZyZXNoJywgY3RybFVzZXIucmVmcmVzaCk7XG5yb3V0ZXIucG9zdCgnL2xvZ291dCcsIGN0cmxVc2VyLmxvZ291dCk7XG5yb3V0ZXIuZ2V0KCcvdXNlclByb2ZpbGUnLCBqd3RIZWxwZXIudmVyaWZ5Snd0VG9rZW4sIGN0cmxVc2VyLnVzZXJQcm9maWxlKTtcbnJvdXRlci5nZXQoJy91c2VycycsIGp3dEhlbHBlci52ZXJpZnlKd3RUb2tlbiwgY3RybFVzZXIudXNlcnMpO1xucm91dGVyLnBvc3QoJy9wb3N0cycsIGp3dEhlbHBlci52ZXJpZnlKd3RUb2tlbiwgY3RybFVzZXIucG9zdHMpO1xucm91dGVyLnBvc3QoJy90aWNrZXRtYXN0ZXItZXZlbnRzJywgY3RybEV2ZW50LnRtRXZlbnRzKTtcbnJvdXRlci5nZXQoJy91c2VyczInLCBjdHJsVXNlci51c2Vycyk7XG5yb3V0ZXIuZ2V0KFwiL3Byb2ZpbGUvOmVtYWlsXCIsIGN0cmxVc2VyLmZyaWVuZFByb2ZpbGUpO1xucm91dGVyLnBvc3QoJy9mb2xsb3cnLCBqd3RIZWxwZXIudmVyaWZ5Snd0VG9rZW4sIGN0cmxVc2VyLmZvbGxvdyk7XG5yb3V0ZXIuZ2V0KCcvZXZlbnRzJywgY3RybEV2ZW50LmV2ZW50cyk7XG5yb3V0ZXIucG9zdCgnL2V2ZW50cy9hZGQnLCBqd3RIZWxwZXIudmVyaWZ5Snd0VG9rZW4sIGN0cmxFdmVudC5hZGRFdmVudCk7XG5yb3V0ZXIucG9zdCgnL2V2ZW50cy91cGxvYWQnLCBjdHJsRXZlbnQudXBsb2FkRmlsZXMpO1xucm91dGVyLnJvdXRlKCcvZXZlbnRzLzppZCcpLmdldCgocmVxLCByZXMpID0+IHtcbiAgRXZlbnQuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCwgKGVyciwgZXZlbnQpID0+IHtcbiAgICBpZiAoZXJyKVxuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICBlbHNlXG4gICAgICByZXMuanNvbihldmVudCk7XG4gIH0pO1xufSk7XG5cbnJvdXRlci5yb3V0ZSgnL2V2ZW50cy91cGRhdGUvOmlkJykucG9zdCgocmVxLCByZXMpID0+IHtcbiAgRXZlbnQuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCwgKGVyciwgZXZlbnQpID0+IHtcbiAgICBpZiAoIWV2ZW50KVxuICAgICAgcmV0dXJuIG5leHQobmV3IEVycm9yKCdDb3VsZCBub3QgbG9hZCBkb2N1bWVudCcpKTtcbiAgICBlbHNle1xuICAgICAgLy8gVGhpcyBtYXkgY2hhbmdlIGhlcmVcbiAgICAgIGV2ZW50LmV2ZW50TmFtZT0gcmVxLmJvZHkuZXZlbnROYW1lO1xuICAgICAgZXZlbnQuZXZlbnRMb2NhdGlvbj0gcmVxLmJvZHkuZXZlbnRMb2NhdGlvbjtcbiAgICAgIGV2ZW50LmV2ZW50TGF0PSByZXEuYm9keS5ldmVudExhdDtcbiAgICAgIGV2ZW50LmV2ZW50TG5nPSByZXEuYm9keS5ldmVudExuZztcbiAgICAgIGV2ZW50LmV2ZW50RGF0ZUZyb209IHJlcS5ib2R5LmV2ZW50RGF0ZUZyb207XG4gICAgICBldmVudC5ldmVudERhdGVVbnRpbD0gcmVxLmJvZHkuZXZlbnREYXRlVW50aWw7XG4gICAgICBldmVudC5ldmVudERlc2NyPSByZXEuYm9keS5ldmVudERlc2NyO1xuICAgICAgZXZlbnQucHJpY2U9IHJlcS5ib2R5LnByaWNlO1xuICAgICAgZXZlbnQuZXZlbnRQcml2YXRlPSByZXEuYm9keS5ldmVudFByaXZhdGU7XG4gICAgICBldmVudC5pbnRlcmVzdD0gcmVxLmJvZHkuaW50ZXJlc3Q7XG5cbiAgICAgIGV2ZW50LnNhdmUoKS50aGVuKGV2ZW50ID0+IHtcbiAgICAgICAgcmVzLmpzb24oJ1VwZGF0ZSBkb25lJyk7XG4gICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICByZXMuc3RhdHVzKDQwMCkuc2VuZCgnVXBkYXRlIGZhaWxlZCcpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn0pO1xuXG5yb3V0ZXIucm91dGUoJy9ldmVudHMvZGVsZXRlLzppZCcpLmdldCgocmVxLCByZXMpID0+IHtcbiAgRXZlbnQuZmluZEJ5SWRBbmRSZW1vdmUoe19pZDogcmVxLnBhcmFtcy5pZH0sIChlcnIsIGV2ZW50KSA9PiB7XG4gICAgaWYgKGVycilcbiAgICAgIHJlcy5qc29uKGVycik7XG4gICAgZWxzZVxuICAgICAgcmVzLmpzb24oJ1JlbW92ZSBzdWNjZXNzZnVsbHknKTtcbiAgfSlcbn0pXG5cbi8qIHJvdXRlci5wb3N0KCcvdW5mb2xsb3cnLCBmdW5jdGlvbihyZXEsIHJlcykge1xuICAgIGNvbnN0IHVzZXJfaWQgPSByZXEudXNlci5faWQ7XG4gICAgY29uc3QgdG9fZm9sbG93X2lkID0gcmVxLmJvZHkuZm9sbG93X2lkO1xuXG4gICAgbGV0IGJ1bGsgPSBGb2xsb3cuY29sbGVjdGlvbi5pbml0aWFsaXplVW5vcmRlcmVkQnVsa09wKCk7XG5cbiAgICBidWxrLmZpbmQoeyAndXNlcic6IFR5cGVzLk9iamVjdElkKHVzZXJfaWQpIH0pLnVwc2VydCgpLnVwZGF0ZU9uZSh7XG4gICAgICAgICRwdWxsOiB7XG4gICAgICAgICAgICBmb2xsb3dpbmc6IFR5cGVzLk9iamVjdElkKHRvX2ZvbGxvd19pZClcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgYnVsay5maW5kKHsgJ3VzZXInOiBUeXBlcy5PYmplY3RJZCh0b19mb2xsb3dfaWQpIH0pLnVwc2VydCgpLnVwZGF0ZU9uZSh7XG4gICAgICAgICRwdWxsOiB7XG4gICAgICAgICAgICBmb2xsb3dlcnM6IFR5cGVzLk9iamVjdElkKHVzZXJfaWQpXG4gICAgICAgIH1cbiAgICB9KVxuXG4gICAgYnVsay5leGVjdXRlKGZ1bmN0aW9uKGVyciwgZG9jKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbih7XG4gICAgICAgICAgICAgICAgJ3N0YXRlJzogZmFsc2UsXG4gICAgICAgICAgICAgICAgJ21zZyc6IGVyclxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICByZXMuanNvbih7XG4gICAgICAgICAgICAnc3RhdGUnOiB0cnVlLFxuICAgICAgICAgICAgJ21zZyc6ICdVbmZvbGxvd2VkJ1xuICAgICAgICB9KVxuICAgIH0pXG59KSAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.routes.js"
      ],
      "names": [
        "express",
        "require",
        "router",
        "Router",
        "ctrlUser",
        "ctrlEvent",
        "jwtHelper",
        "route",
        "post",
        "verifyJwtToken",
        "req",
        "res",
        "console",
        "log",
        "body",
        "status",
        "send",
        "register",
        "authenticate",
        "refresh",
        "logout",
        "get",
        "userProfile",
        "users",
        "posts",
        "tmEvents",
        "friendProfile",
        "follow",
        "events",
        "addEvent",
        "uploadFiles",
        "Event",
        "findById",
        "params",
        "id",
        "err",
        "event",
        "json",
        "next",
        "Error",
        "eventName",
        "eventLocation",
        "eventLat",
        "eventLng",
        "eventDateFrom",
        "eventDateUntil",
        "eventDescr",
        "price",
        "eventPrivate",
        "interest",
        "save",
        "then",
        "catch",
        "findByIdAndRemove",
        "_id",
        "module",
        "exports"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/routes",
      "sourcesContent": [
        "const express = require('express');\nconst router = express.Router();\n\nconst ctrlUser = require('../controllers/user.controller');\nconst ctrlEvent = require('../controllers/event.controller');\n\n\nconst jwtHelper = require('../config/jwtHelper');\nrouter.route('/test').post(jwtHelper.verifyJwtToken, (req, res) => {\n  console.log('yes');\n  console.log('req.body:', req.body);\n  res.status(200).send(req.body);\n});\nrouter.post('/register', ctrlUser.register);\nrouter.post('/authenticate', ctrlUser.authenticate);\nrouter.post('/refresh', ctrlUser.refresh);\nrouter.post('/logout', ctrlUser.logout);\nrouter.get('/userProfile', jwtHelper.verifyJwtToken, ctrlUser.userProfile);\nrouter.get('/users', jwtHelper.verifyJwtToken, ctrlUser.users);\nrouter.post('/posts', jwtHelper.verifyJwtToken, ctrlUser.posts);\nrouter.post('/ticketmaster-events', ctrlEvent.tmEvents);\nrouter.get('/users2', ctrlUser.users);\nrouter.get(\"/profile/:email\", ctrlUser.friendProfile);\nrouter.post('/follow', jwtHelper.verifyJwtToken, ctrlUser.follow);\nrouter.get('/events', ctrlEvent.events);\nrouter.post('/events/add', jwtHelper.verifyJwtToken, ctrlEvent.addEvent);\nrouter.post('/events/upload', ctrlEvent.uploadFiles);\nrouter.route('/events/:id').get((req, res) => {\n  Event.findById(req.params.id, (err, event) => {\n    if (err)\n      console.log(err);\n    else\n      res.json(event);\n  });\n});\n\nrouter.route('/events/update/:id').post((req, res) => {\n  Event.findById(req.params.id, (err, event) => {\n    if (!event)\n      return next(new Error('Could not load document'));\n    else{\n      // This may change here\n      event.eventName= req.body.eventName;\n      event.eventLocation= req.body.eventLocation;\n      event.eventLat= req.body.eventLat;\n      event.eventLng= req.body.eventLng;\n      event.eventDateFrom= req.body.eventDateFrom;\n      event.eventDateUntil= req.body.eventDateUntil;\n      event.eventDescr= req.body.eventDescr;\n      event.price= req.body.price;\n      event.eventPrivate= req.body.eventPrivate;\n      event.interest= req.body.interest;\n\n      event.save().then(event => {\n        res.json('Update done');\n      }).catch(err => {\n        res.status(400).send('Update failed');\n      });\n    }\n  });\n});\n\nrouter.route('/events/delete/:id').get((req, res) => {\n  Event.findByIdAndRemove({_id: req.params.id}, (err, event) => {\n    if (err)\n      res.json(err);\n    else\n      res.json('Remove successfully');\n  })\n})\n\n/* router.post('/unfollow', function(req, res) {\n    const user_id = req.user._id;\n    const to_follow_id = req.body.follow_id;\n\n    let bulk = Follow.collection.initializeUnorderedBulkOp();\n\n    bulk.find({ 'user': Types.ObjectId(user_id) }).upsert().updateOne({\n        $pull: {\n            following: Types.ObjectId(to_follow_id)\n        }\n    });\n\n    bulk.find({ 'user': Types.ObjectId(to_follow_id) }).upsert().updateOne({\n        $pull: {\n            followers: Types.ObjectId(user_id)\n        }\n    })\n\n    bulk.execute(function(err, doc) {\n        if (err) {\n            return res.json({\n                'state': false,\n                'msg': err\n            })\n        }\n        res.json({\n            'state': true,\n            'msg': 'Unfollowed'\n        })\n    })\n}) */\n\nmodule.exports = router;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1580241289834
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/backend/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/backend/controllers/user.controller.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/controllers/user.controller.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/backend/controllers/user.controller.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/controllers/user.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/controllers",
        "sourceFileName": "user.controller.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst mongoose = require('mongoose');\n\nconst User = mongoose.model('User');\n\nconst _ = require('lodash');\n\nconst Event = mongoose.model('Event');\n\nconst {\n  jwtEncode\n} = require('../config/jwtHelper');\n\nconst jwt = require('jsonwebtoken');\n\nconst randtoken = require('rand-token');\n\nconst passport = require('passport');\n\nconst JwtStrategy = require('passport-jwt').Strategy;\n\nconst ExtractJwt = require('passport-jwt').ExtractJwt;\n\nconst refreshTokens = {};\nconst SECRET = 'anything';\nconst passportOpts = {\n  jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\n  secretOrKey: SECRET\n};\npassport.use(new JwtStrategy(passportOpts, function (jwtPayload, done) {\n  const expirationDate = new Date(jwtPayload.exp * 1000);\n\n  if (expirationDate < new Date()) {\n    return done(null, false);\n  }\n\n  done(null, jwtPayload);\n}));\npassport.serializeUser(function (user, done) {\n  done(null, user.username);\n});\n\nmodule.exports.users = (req, res) => {\n  User.find({}, function (err, users) {\n    if (err) {\n      throw err;\n    }\n\n    res.status(200).send(users);\n  });\n};\n\nmodule.exports.posts = (req, res) => {\n  Event.find({\n    promoter: req.body.email\n  }, (err, posts) => {\n    if (err) {\n      res.send(err);\n    }\n\n    res.status(200).send(posts);\n  });\n};\n\nmodule.exports.register = (req, res) => {\n  User.create({\n    fullName: req.body.fullName,\n    email: req.body.email,\n    password: req.body.password\n  }).then(user => {\n    const {\n      email,\n      fullName\n    } = user;\n    const payload = {\n      email,\n      fullName\n    };\n    res.status(200).json({\n      'user': 'Added successfully',\n      token: jwtEncode(payload)\n    });\n  }).catch(err => {\n    if (err.code == 11000) res.status(422).send(['Duplicate email address found.']);else {\n      res.status(400).send('Failed to create new record');\n    }\n  });\n};\n\nmodule.exports.authenticate = (req, res, next) => {\n  const {\n    email,\n    password\n  } = req.body; //object destruturing\n\n  User.findOne({\n    email: email\n  }, async (err, user) => {\n    if (err) {\n      err => res.send(err);\n    }\n\n    if (!user) {\n      res.send('no User');\n    }\n\n    if (user) {\n      user.verifyPassword(password, user.password).then(isValid => {\n        if (!isValid) {\n          return res.status(401).send({\n            msg: 'Wrong username or password'\n          });\n        }\n\n        const {\n          email,\n          fullName\n        } = user;\n        const payload = {\n          email,\n          fullName\n        };\n        const jwtToken = jwt.sign(payload, 'anything', {\n          expiresIn: 500\n        });\n        const refreshToken = randtoken.uid(256);\n        refreshTokens[refreshToken] = payload;\n        return res.status(200).send({\n          msg: 'Login successful',\n          jwt: jwtToken,\n          refreshToken: refreshToken\n        });\n      }).catch(err => {\n        res.status(401).send(err);\n      });\n    }\n  });\n};\n\nmodule.exports.logout = (req, res, next) => {\n  const refreshToken = req.body.refreshToken;\n\n  if (refreshToken in refreshTokens) {\n    delete refreshTokens[refreshToken];\n  }\n\n  res.sendStatus(204);\n};\n\nmodule.exports.refresh = (req, res, next) => {\n  const refreshToken = req.body.refreshToken;\n\n  if (refreshToken in refreshTokens) {\n    /* Possible error in assignment */\n    const user = {\n      'email': refreshTokens[refreshToken].email,\n      'fullName': refreshTokens[refreshToken].fullName\n    };\n    const token = jwt.sign(user, 'anything', {\n      expiresIn: 180\n    });\n    res.json({\n      jwt: token\n    });\n  } else {\n    res.sendStatus(401);\n  }\n};\n\nmodule.exports.userProfile = (req, res, next) => {\n  User.findOne({\n    email: req.user.email\n  }, (err, user) => {\n    if (!user) {\n      return res.status(404).json({\n        status: false,\n        message: 'User record not found'\n      });\n    } else {\n      return res.status(200).json({\n        status: true,\n        user: user\n      });\n    }\n  });\n};\n\nmodule.exports.friendProfile = (req, res) => {\n  var email = req.params.email;\n  User.findOne({\n    email: email\n  }, function (err, user) {\n    if (err) {\n      return res.status(404).json({\n        status: false,\n        message: err\n      });\n    }\n\n    if (!user) {\n      return res.status(404).json({\n        status: false,\n        message: 'User record not found'\n      });\n    } else {\n      Event.find({\n        responsible: email\n      }, function (err, posts) {\n        if (err) {\n          res.sendStatus('Maybe mult ppl in different databases', err);\n        }\n      }).sort({\n        created_at: -1\n      }).exec(function (err, posts) {\n        res.status(200).send({\n          user,\n          posts\n        });\n      });\n    }\n  });\n};\n\nmodule.exports.follow = (req, res) => {\n  const userEmail = req.user.email;\n  const following = req.body.email;\n  User.findOne({\n    email: userEmail\n  }, function (err, user) {\n    if (user) {\n      user.relationships.following.push(following);\n      User.findOne({\n        email: following\n      }, function (err, user) {\n        user.relationships.followers.push(userEmail);\n        next();\n\n        if (err) {\n          res.send(err);\n        }\n      });\n    }\n\n    if (!user) {\n      res.send('no user!!');\n    }\n\n    if (err) {\n      res.send(err);\n    }\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJVc2VyIiwibW9kZWwiLCJfIiwiRXZlbnQiLCJqd3RFbmNvZGUiLCJqd3QiLCJyYW5kdG9rZW4iLCJwYXNzcG9ydCIsIkp3dFN0cmF0ZWd5IiwiU3RyYXRlZ3kiLCJFeHRyYWN0Snd0IiwicmVmcmVzaFRva2VucyIsIlNFQ1JFVCIsInBhc3Nwb3J0T3B0cyIsImp3dEZyb21SZXF1ZXN0IiwiZnJvbUF1dGhIZWFkZXJBc0JlYXJlclRva2VuIiwic2VjcmV0T3JLZXkiLCJ1c2UiLCJqd3RQYXlsb2FkIiwiZG9uZSIsImV4cGlyYXRpb25EYXRlIiwiRGF0ZSIsImV4cCIsInNlcmlhbGl6ZVVzZXIiLCJ1c2VyIiwidXNlcm5hbWUiLCJtb2R1bGUiLCJleHBvcnRzIiwidXNlcnMiLCJyZXEiLCJyZXMiLCJmaW5kIiwiZXJyIiwic3RhdHVzIiwic2VuZCIsInBvc3RzIiwicHJvbW90ZXIiLCJib2R5IiwiZW1haWwiLCJyZWdpc3RlciIsImNyZWF0ZSIsImZ1bGxOYW1lIiwicGFzc3dvcmQiLCJ0aGVuIiwicGF5bG9hZCIsImpzb24iLCJ0b2tlbiIsImNhdGNoIiwiY29kZSIsImF1dGhlbnRpY2F0ZSIsIm5leHQiLCJmaW5kT25lIiwidmVyaWZ5UGFzc3dvcmQiLCJpc1ZhbGlkIiwibXNnIiwiand0VG9rZW4iLCJzaWduIiwiZXhwaXJlc0luIiwicmVmcmVzaFRva2VuIiwidWlkIiwibG9nb3V0Iiwic2VuZFN0YXR1cyIsInJlZnJlc2giLCJ1c2VyUHJvZmlsZSIsIm1lc3NhZ2UiLCJmcmllbmRQcm9maWxlIiwicGFyYW1zIiwicmVzcG9uc2libGUiLCJzb3J0IiwiY3JlYXRlZF9hdCIsImV4ZWMiLCJmb2xsb3ciLCJ1c2VyRW1haWwiLCJmb2xsb3dpbmciLCJyZWxhdGlvbnNoaXBzIiwicHVzaCIsImZvbGxvd2VycyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxRQUFR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QUFBUixHQUFiLEVBQWlDLFVBQVV4QyxHQUFWLEVBQWVSLElBQWYsRUFBcUI7QUFDcEQsUUFBR0EsSUFBSCxFQUFTO0FBQ1BBLE1BQUFBLElBQUksQ0FBQ2tELGFBQUwsQ0FBbUJELFNBQW5CLENBQTZCRSxJQUE3QixDQUFrQ0YsU0FBbEM7QUFDQXpFLE1BQUFBLElBQUksQ0FBQ21ELE9BQUwsQ0FBYTtBQUFDYixRQUFBQSxLQUFLLEVBQUVtQztBQUFSLE9BQWIsRUFDQSxVQUFVekMsR0FBVixFQUFlUixJQUFmLEVBQXFCO0FBQ25CQSxRQUFBQSxJQUFJLENBQUNrRCxhQUFMLENBQW1CRSxTQUFuQixDQUE2QkQsSUFBN0IsQ0FBa0NILFNBQWxDO0FBQ0F0QixRQUFBQSxJQUFJOztBQUNKLFlBQUlsQixHQUFKLEVBQVM7QUFDUEYsVUFBQUEsR0FBRyxDQUFDSSxJQUFKLENBQVNGLEdBQVQ7QUFDRDtBQUNGLE9BUEQ7QUFRRDs7QUFDRCxRQUFHLENBQUNSLElBQUosRUFBVTtBQUNSTSxNQUFBQSxHQUFHLENBQUNJLElBQUosQ0FBUyxXQUFUO0FBQ0Q7O0FBQ0QsUUFBSUYsR0FBSixFQUFTO0FBQ1BGLE1BQUFBLEdBQUcsQ0FBQ0ksSUFBSixDQUFTRixHQUFUO0FBQ0Q7QUFDRixHQWxCRDtBQW9CRCxDQXZCRCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvam9uYXRoYW5hdWd1c3Rpbi9EZXNrdG9wL1dlYnNpdGVzL2JhY2tlbmQvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XG5jb25zdCBVc2VyID0gbW9uZ29vc2UubW9kZWwoJ1VzZXInKTtcbmNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbmNvbnN0IEV2ZW50ID0gbW9uZ29vc2UubW9kZWwoJ0V2ZW50Jyk7XG5jb25zdCB7IGp3dEVuY29kZSB9ID0gcmVxdWlyZSgnLi4vY29uZmlnL2p3dEhlbHBlcicpO1xuY29uc3Qgand0ID0gcmVxdWlyZSgnanNvbndlYnRva2VuJyk7XG5jb25zdCByYW5kdG9rZW4gPSByZXF1aXJlKCdyYW5kLXRva2VuJyk7XG5jb25zdCBwYXNzcG9ydCA9IHJlcXVpcmUoJ3Bhc3Nwb3J0Jyk7XG5jb25zdCBKd3RTdHJhdGVneSA9IHJlcXVpcmUoJ3Bhc3Nwb3J0LWp3dCcpLlN0cmF0ZWd5O1xuY29uc3QgRXh0cmFjdEp3dCA9IHJlcXVpcmUoJ3Bhc3Nwb3J0LWp3dCcpLkV4dHJhY3RKd3Q7XG5cbmNvbnN0IHJlZnJlc2hUb2tlbnMgPSB7fTtcbmNvbnN0IFNFQ1JFVCA9ICdhbnl0aGluZyc7XG5jb25zdCBwYXNzcG9ydE9wdHMgPSB7XG4gIGp3dEZyb21SZXF1ZXN0OiBFeHRyYWN0Snd0LmZyb21BdXRoSGVhZGVyQXNCZWFyZXJUb2tlbigpLFxuICBzZWNyZXRPcktleTogU0VDUkVUXG59O1xuXG5wYXNzcG9ydC51c2UobmV3IEp3dFN0cmF0ZWd5KHBhc3Nwb3J0T3B0cywgZnVuY3Rpb24gKGp3dFBheWxvYWQsIGRvbmUpIHtcbiAgY29uc3QgZXhwaXJhdGlvbkRhdGUgPSBuZXcgRGF0ZShqd3RQYXlsb2FkLmV4cCAqIDEwMDApO1xuICBpZihleHBpcmF0aW9uRGF0ZSA8IG5ldyBEYXRlKCkpIHtcbiAgICByZXR1cm4gZG9uZShudWxsLCBmYWxzZSk7XG4gIH1cbiAgZG9uZShudWxsLCBqd3RQYXlsb2FkKTtcbn0pKTtcblxucGFzc3BvcnQuc2VyaWFsaXplVXNlcihmdW5jdGlvbiAodXNlciwgZG9uZSkge1xuICBkb25lKG51bGwsIHVzZXIudXNlcm5hbWUpXG59KTtcblxubW9kdWxlLmV4cG9ydHMudXNlcnMgPSAocmVxLCByZXMpID0+IHtcbiAgVXNlci5maW5kKHt9LCBmdW5jdGlvbiAoZXJyLCB1c2Vycykge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gICAgcmVzLnN0YXR1cygyMDApLnNlbmQodXNlcnMpO1xuICB9KVxufVxuXG5tb2R1bGUuZXhwb3J0cy5wb3N0cyA9IChyZXEsIHJlcykgPT4ge1xuICBFdmVudC5maW5kKHtwcm9tb3RlcjogcmVxLmJvZHkuZW1haWx9LCAoZXJyLCBwb3N0cykgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJlcy5zZW5kKGVycik7XG4gICAgfVxuICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHBvc3RzKTtcbiAgfSlcbn1cblxubW9kdWxlLmV4cG9ydHMucmVnaXN0ZXIgPSAocmVxLCByZXMpID0+IHtcbiAgVXNlci5jcmVhdGUoe1xuICAgIGZ1bGxOYW1lOiByZXEuYm9keS5mdWxsTmFtZSxcbiAgICBlbWFpbDogcmVxLmJvZHkuZW1haWwsXG4gICAgcGFzc3dvcmQ6IHJlcS5ib2R5LnBhc3N3b3JkXG4gIH0pXG4gICAgLnRoZW4odXNlciA9PiB7XG4gICAgICBjb25zdCB7IGVtYWlsLCBmdWxsTmFtZSB9ID0gdXNlcjtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7IGVtYWlsLCBmdWxsTmFtZSB9O1xuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyAndXNlcic6ICdBZGRlZCBzdWNjZXNzZnVsbHknLCB0b2tlbjogand0RW5jb2RlKHBheWxvYWQpIH0pO1xuICAgIH0pXG4gICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICBpZiAoZXJyLmNvZGUgPT0gMTEwMDApXG4gICAgICAgIHJlcy5zdGF0dXMoNDIyKS5zZW5kKFsnRHVwbGljYXRlIGVtYWlsIGFkZHJlc3MgZm91bmQuJ10pO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdGYWlsZWQgdG8gY3JlYXRlIG5ldyByZWNvcmQnKTtcbiAgICAgIH1cbiAgICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMuYXV0aGVudGljYXRlID0gIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7IC8vb2JqZWN0IGRlc3RydXR1cmluZ1xuICBVc2VyLmZpbmRPbmUoeyBlbWFpbDogZW1haWx9LCBhc3luYyAoZXJyLCB1c2VyKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgZXJyID0+IHJlcy5zZW5kKGVycik7XG4gICAgfVxuICAgIGlmICghdXNlcikge1xuICAgICAgcmVzLnNlbmQoJ25vIFVzZXInKTtcbiAgICB9XG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIHVzZXIudmVyaWZ5UGFzc3dvcmQocGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpXG4gICAgICAgIC50aGVuKChpc1ZhbGlkKSA9PiB7XG4gICAgICAgICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBtc2c6ICdXcm9uZyB1c2VybmFtZSBvciBwYXNzd29yZCcgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgeyBlbWFpbCwgZnVsbE5hbWUgfSA9IHVzZXI7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHsgZW1haWwsIGZ1bGxOYW1lIH07XG4gICAgICAgICAgY29uc3Qgand0VG9rZW4gPSBqd3Quc2lnbihwYXlsb2FkLCAnYW55dGhpbmcnLCB7ZXhwaXJlc0luOiA1MDB9KTtcbiAgICAgICAgICBjb25zdCByZWZyZXNoVG9rZW4gPSByYW5kdG9rZW4udWlkKDI1Nik7XG4gICAgICAgICAgcmVmcmVzaFRva2Vuc1tyZWZyZXNoVG9rZW5dID0gcGF5bG9hZDtcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoeyBtc2c6ICdMb2dpbiBzdWNjZXNzZnVsJywgand0OiBqd3RUb2tlbiwgcmVmcmVzaFRva2VuOiByZWZyZXNoVG9rZW4gfSk7XG4gICAgICAgIH0pLmNhdGNoKChlcnIpPT4ge1xuICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKGVycik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzLmxvZ291dCA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBjb25zdCByZWZyZXNoVG9rZW4gPSByZXEuYm9keS5yZWZyZXNoVG9rZW47XG4gIGlmIChyZWZyZXNoVG9rZW4gaW4gcmVmcmVzaFRva2Vucykge1xuICAgIGRlbGV0ZSByZWZyZXNoVG9rZW5zW3JlZnJlc2hUb2tlbl07XG4gIH1cbiAgcmVzLnNlbmRTdGF0dXMoMjA0KTtcbn1cblxubW9kdWxlLmV4cG9ydHMucmVmcmVzaCA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBjb25zdCByZWZyZXNoVG9rZW4gPSByZXEuYm9keS5yZWZyZXNoVG9rZW47XG5cbiAgaWYgKHJlZnJlc2hUb2tlbiBpbiByZWZyZXNoVG9rZW5zKSB7XG4gICAgLyogUG9zc2libGUgZXJyb3IgaW4gYXNzaWdubWVudCAqL1xuICAgIGNvbnN0IHVzZXIgPSB7XG4gICAgICAnZW1haWwnOiByZWZyZXNoVG9rZW5zW3JlZnJlc2hUb2tlbl0uZW1haWwsXG4gICAgICAnZnVsbE5hbWUnOiByZWZyZXNoVG9rZW5zW3JlZnJlc2hUb2tlbl0uZnVsbE5hbWVcbiAgICB9XG4gICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih1c2VyLCAnYW55dGhpbmcnLCB7ZXhwaXJlc0luOiAxODB9KTtcbiAgICByZXMuanNvbih7and0OiB0b2tlbn0pXG4gIH1cbiAgZWxzZSB7XG4gICAgcmVzLnNlbmRTdGF0dXMoNDAxKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cy51c2VyUHJvZmlsZSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBVc2VyLmZpbmRPbmUoeyBlbWFpbDogcmVxLnVzZXIuZW1haWwgfSxcbiAgICAoZXJyLCB1c2VyKSA9PiB7XG4gICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgc3RhdHVzOiBmYWxzZSwgbWVzc2FnZTogJ1VzZXIgcmVjb3JkIG5vdCBmb3VuZCcgfSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgc3RhdHVzOiB0cnVlLCB1c2VyOiB1c2VyIH0pO1xuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cblxubW9kdWxlLmV4cG9ydHMuZnJpZW5kUHJvZmlsZSA9IChyZXEsIHJlcykgPT4ge1xuICB2YXIgZW1haWwgPSByZXEucGFyYW1zLmVtYWlsO1xuXG4gIFVzZXIuZmluZE9uZSh7IGVtYWlsOiBlbWFpbCB9LCBmdW5jdGlvbiAoZXJyLCB1c2VyKSB7XG4gICAgaWYgKGVycil7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBzdGF0dXM6IGZhbHNlLCBtZXNzYWdlOiBlcnIgfSk7XG4gICAgfVxuICAgIGlmICghdXNlcikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgc3RhdHVzOiBmYWxzZSwgbWVzc2FnZTogJ1VzZXIgcmVjb3JkIG5vdCBmb3VuZCcgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIEV2ZW50XG4gICAgICAgIC5maW5kKHsgcmVzcG9uc2libGU6IGVtYWlsIH0sIGZ1bmN0aW9uIChlcnIsIHBvc3RzKSB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgcmVzLnNlbmRTdGF0dXMoJ01heWJlIG11bHQgcHBsIGluIGRpZmZlcmVudCBkYXRhYmFzZXMnLCBlcnIpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuc29ydCh7IGNyZWF0ZWRfYXQ6IC0xIH0pXG4gICAgICAgIC5leGVjKGZ1bmN0aW9uIChlcnIsIHBvc3RzKSB7XG4gICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoe3VzZXIsIHBvc3RzfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzLmZvbGxvdyA9IChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB1c2VyRW1haWwgPSByZXEudXNlci5lbWFpbDtcbiAgY29uc3QgZm9sbG93aW5nID0gcmVxLmJvZHkuZW1haWw7XG4gIFVzZXIuZmluZE9uZSh7ZW1haWw6IHVzZXJFbWFpbH0sIGZ1bmN0aW9uIChlcnIsIHVzZXIpIHtcbiAgICBpZih1c2VyKSB7XG4gICAgICB1c2VyLnJlbGF0aW9uc2hpcHMuZm9sbG93aW5nLnB1c2goZm9sbG93aW5nKTtcbiAgICAgIFVzZXIuZmluZE9uZSh7ZW1haWw6IGZvbGxvd2luZ30sXG4gICAgICBmdW5jdGlvbiAoZXJyLCB1c2VyKSB7XG4gICAgICAgIHVzZXIucmVsYXRpb25zaGlwcy5mb2xsb3dlcnMucHVzaCh1c2VyRW1haWwpO1xuICAgICAgICBuZXh0KCk7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZXMuc2VuZChlcnIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYoIXVzZXIpIHtcbiAgICAgIHJlcy5zZW5kKCdubyB1c2VyISEnKTtcbiAgICB9XG4gICAgaWYgKGVycikge1xuICAgICAgcmVzLnNlbmQoZXJyKTtcbiAgICB9XG4gIH0pO1xuXG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "user.controller.js"
      ],
      "names": [
        "mongoose",
        "require",
        "User",
        "model",
        "_",
        "Event",
        "jwtEncode",
        "jwt",
        "randtoken",
        "passport",
        "JwtStrategy",
        "Strategy",
        "ExtractJwt",
        "refreshTokens",
        "SECRET",
        "passportOpts",
        "jwtFromRequest",
        "fromAuthHeaderAsBearerToken",
        "secretOrKey",
        "use",
        "jwtPayload",
        "done",
        "expirationDate",
        "Date",
        "exp",
        "serializeUser",
        "user",
        "username",
        "module",
        "exports",
        "users",
        "req",
        "res",
        "find",
        "err",
        "status",
        "send",
        "posts",
        "promoter",
        "body",
        "email",
        "register",
        "create",
        "fullName",
        "password",
        "then",
        "payload",
        "json",
        "token",
        "catch",
        "code",
        "authenticate",
        "next",
        "findOne",
        "verifyPassword",
        "isValid",
        "msg",
        "jwtToken",
        "sign",
        "expiresIn",
        "refreshToken",
        "uid",
        "logout",
        "sendStatus",
        "refresh",
        "userProfile",
        "message",
        "friendProfile",
        "params",
        "responsible",
        "sort",
        "created_at",
        "exec",
        "follow",
        "userEmail",
        "following",
        "relationships",
        "push",
        "followers"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/controllers",
      "sourcesContent": [
        "const mongoose = require('mongoose');\nconst User = mongoose.model('User');\nconst _ = require('lodash');\nconst Event = mongoose.model('Event');\nconst { jwtEncode } = require('../config/jwtHelper');\nconst jwt = require('jsonwebtoken');\nconst randtoken = require('rand-token');\nconst passport = require('passport');\nconst JwtStrategy = require('passport-jwt').Strategy;\nconst ExtractJwt = require('passport-jwt').ExtractJwt;\n\nconst refreshTokens = {};\nconst SECRET = 'anything';\nconst passportOpts = {\n  jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\n  secretOrKey: SECRET\n};\n\npassport.use(new JwtStrategy(passportOpts, function (jwtPayload, done) {\n  const expirationDate = new Date(jwtPayload.exp * 1000);\n  if(expirationDate < new Date()) {\n    return done(null, false);\n  }\n  done(null, jwtPayload);\n}));\n\npassport.serializeUser(function (user, done) {\n  done(null, user.username)\n});\n\nmodule.exports.users = (req, res) => {\n  User.find({}, function (err, users) {\n    if (err) {\n      throw err;\n    }\n    res.status(200).send(users);\n  })\n}\n\nmodule.exports.posts = (req, res) => {\n  Event.find({promoter: req.body.email}, (err, posts) => {\n    if (err) {\n      res.send(err);\n    }\n    res.status(200).send(posts);\n  })\n}\n\nmodule.exports.register = (req, res) => {\n  User.create({\n    fullName: req.body.fullName,\n    email: req.body.email,\n    password: req.body.password\n  })\n    .then(user => {\n      const { email, fullName } = user;\n      const payload = { email, fullName };\n      res.status(200).json({ 'user': 'Added successfully', token: jwtEncode(payload) });\n    })\n    .catch(err => {\n      if (err.code == 11000)\n        res.status(422).send(['Duplicate email address found.']);\n      else {\n        res.status(400).send('Failed to create new record');\n      }\n    });\n}\n\nmodule.exports.authenticate =  (req, res, next) => {\n  const { email, password } = req.body; //object destruturing\n  User.findOne({ email: email}, async (err, user) => {\n    if (err) {\n      err => res.send(err);\n    }\n    if (!user) {\n      res.send('no User');\n    }\n    if (user) {\n      user.verifyPassword(password, user.password)\n        .then((isValid) => {\n          if (!isValid) {\n            return res.status(401).send({ msg: 'Wrong username or password' });\n          }\n\n          const { email, fullName } = user;\n          const payload = { email, fullName };\n          const jwtToken = jwt.sign(payload, 'anything', {expiresIn: 500});\n          const refreshToken = randtoken.uid(256);\n          refreshTokens[refreshToken] = payload;\n          return res.status(200).send({ msg: 'Login successful', jwt: jwtToken, refreshToken: refreshToken });\n        }).catch((err)=> {\n          res.status(401).send(err);\n        });\n    }\n  });\n}\n\nmodule.exports.logout = (req, res, next) => {\n  const refreshToken = req.body.refreshToken;\n  if (refreshToken in refreshTokens) {\n    delete refreshTokens[refreshToken];\n  }\n  res.sendStatus(204);\n}\n\nmodule.exports.refresh = (req, res, next) => {\n  const refreshToken = req.body.refreshToken;\n\n  if (refreshToken in refreshTokens) {\n    /* Possible error in assignment */\n    const user = {\n      'email': refreshTokens[refreshToken].email,\n      'fullName': refreshTokens[refreshToken].fullName\n    }\n    const token = jwt.sign(user, 'anything', {expiresIn: 180});\n    res.json({jwt: token})\n  }\n  else {\n    res.sendStatus(401);\n  }\n}\n\nmodule.exports.userProfile = (req, res, next) => {\n  User.findOne({ email: req.user.email },\n    (err, user) => {\n      if (!user) {\n        return res.status(404).json({ status: false, message: 'User record not found' });\n      }\n      else {\n        return res.status(200).json({ status: true, user: user });\n      }\n    }\n  );\n}\n\nmodule.exports.friendProfile = (req, res) => {\n  var email = req.params.email;\n\n  User.findOne({ email: email }, function (err, user) {\n    if (err){\n      return res.status(404).json({ status: false, message: err });\n    }\n    if (!user) {\n      return res.status(404).json({ status: false, message: 'User record not found' });\n    } else {\n      Event\n        .find({ responsible: email }, function (err, posts) {\n          if (err) {\n            res.sendStatus('Maybe mult ppl in different databases', err)\n          }\n        })\n        .sort({ created_at: -1 })\n        .exec(function (err, posts) {\n          res.status(200).send({user, posts});\n        });\n    }\n  });\n}\n\nmodule.exports.follow = (req, res) => {\n  const userEmail = req.user.email;\n  const following = req.body.email;\n  User.findOne({email: userEmail}, function (err, user) {\n    if(user) {\n      user.relationships.following.push(following);\n      User.findOne({email: following},\n      function (err, user) {\n        user.relationships.followers.push(userEmail);\n        next();\n        if (err) {\n          res.send(err);\n        }\n      });\n    }\n    if(!user) {\n      res.send('no user!!');\n    }\n    if (err) {\n      res.send(err);\n    }\n  });\n\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1580451482594
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/backend/config\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/backend/config/jwtHelper.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/config",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/config/jwtHelper.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/backend/config/jwtHelper.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/config/jwtHelper.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/config",
        "sourceFileName": "jwtHelper.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst jwt = require('jsonwebtoken');\n\nexports.jwtEncode = payload => {\n  return jwt.sign({\n    payload\n  }, 'anything');\n};\n\nexports.verifyJwtToken = (req, res, next) => {\n  if ('authorization' in req.headers) {\n    const token = req.headers['authorization'].split(' ')[1];\n    jwt.verify(token, 'anything', (err, decoded) => {\n      if (err) {\n        res.status(401).send({\n          auth: false,\n          message: 'Token authentication failed.'\n        });\n      } else {\n        req.user = decoded;\n        next();\n      }\n    });\n  } else {\n    res.status(403).send({\n      auth: false,\n      message: 'No token provided.'\n    });\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImp3dEhlbHBlci5qcyJdLCJuYW1lcyI6WyJqd3QiLCJyZXF1aXJlIiwiZXhwb3J0cyIsImp3dEVuY29kZSIsInBheWxvYWQiLCJzaWduIiwidmVyaWZ5Snd0VG9rZW4iLCJyZXEiLCJyZXMiLCJuZXh0IiwiaGVhZGVycyIsInRva2VuIiwic3BsaXQiLCJ2ZXJpZnkiLCJlcnIiLCJkZWNvZGVkIiwic3RhdHVzIiwic2VuZCIsImF1dGgiLCJtZXNzYWdlIiwidXNlciJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQyxjQUFELENBQW5COztBQUVBQyxPQUFPLENBQUNDLFNBQVIsR0FBb0JDLE9BQU8sSUFBSTtBQUM3QixTQUFPSixHQUFHLENBQUNLLElBQUosQ0FBUztBQUFDRCxJQUFBQTtBQUFELEdBQVQsRUFBb0IsVUFBcEIsQ0FBUDtBQUNELENBRkQ7O0FBSUFGLE9BQU8sQ0FBQ0ksY0FBUixHQUF5QixDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUMzQyxNQUFJLG1CQUFtQkYsR0FBRyxDQUFDRyxPQUEzQixFQUFvQztBQUNsQyxVQUFNQyxLQUFLLEdBQUdKLEdBQUcsQ0FBQ0csT0FBSixDQUFZLGVBQVosRUFBNkJFLEtBQTdCLENBQW1DLEdBQW5DLEVBQXdDLENBQXhDLENBQWQ7QUFDQVosSUFBQUEsR0FBRyxDQUFDYSxNQUFKLENBQVdGLEtBQVgsRUFBa0IsVUFBbEIsRUFDRSxDQUFDRyxHQUFELEVBQU1DLE9BQU4sS0FBa0I7QUFDaEIsVUFBSUQsR0FBSixFQUFTO0FBQ1BOLFFBQUFBLEdBQUcsQ0FBQ1EsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLFVBQUFBLElBQUksRUFBRSxLQUFSO0FBQWVDLFVBQUFBLE9BQU8sRUFBRTtBQUF4QixTQUFyQjtBQUNELE9BRkQsTUFHSztBQUNIWixRQUFBQSxHQUFHLENBQUNhLElBQUosR0FBV0wsT0FBWDtBQUNBTixRQUFBQSxJQUFJO0FBQ0w7QUFDRixLQVRIO0FBVUQsR0FaRCxNQVlPO0FBQ0xELElBQUFBLEdBQUcsQ0FBQ1EsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLE1BQUFBLElBQUksRUFBRSxLQUFSO0FBQWVDLE1BQUFBLE9BQU8sRUFBRTtBQUF4QixLQUFyQjtBQUNEO0FBQ0YsQ0FoQkQiLCJzb3VyY2VSb290IjoiL1VzZXJzL2pvbmF0aGFuYXVndXN0aW4vRGVza3RvcC9XZWJzaXRlcy9iYWNrZW5kL2NvbmZpZyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGp3dCA9IHJlcXVpcmUoJ2pzb253ZWJ0b2tlbicpO1xuXG5leHBvcnRzLmp3dEVuY29kZSA9IHBheWxvYWQgPT4ge1xuICByZXR1cm4gand0LnNpZ24oe3BheWxvYWR9LCAnYW55dGhpbmcnKTtcbn1cblxuZXhwb3J0cy52ZXJpZnlKd3RUb2tlbiA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBpZiAoJ2F1dGhvcml6YXRpb24nIGluIHJlcS5oZWFkZXJzKSB7XG4gICAgY29uc3QgdG9rZW4gPSByZXEuaGVhZGVyc1snYXV0aG9yaXphdGlvbiddLnNwbGl0KCcgJylbMV07XG4gICAgand0LnZlcmlmeSh0b2tlbiwgJ2FueXRoaW5nJyxcbiAgICAgIChlcnIsIGRlY29kZWQpID0+IHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgYXV0aDogZmFsc2UsIG1lc3NhZ2U6ICdUb2tlbiBhdXRoZW50aWNhdGlvbiBmYWlsZWQuJyB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICByZXEudXNlciA9IGRlY29kZWQ7XG4gICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9XG4gICAgICB9KVxuICB9IGVsc2Uge1xuICAgIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHsgYXV0aDogZmFsc2UsIG1lc3NhZ2U6ICdObyB0b2tlbiBwcm92aWRlZC4nIH0pO1xuICB9XG59XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "jwtHelper.js"
      ],
      "names": [
        "jwt",
        "require",
        "exports",
        "jwtEncode",
        "payload",
        "sign",
        "verifyJwtToken",
        "req",
        "res",
        "next",
        "headers",
        "token",
        "split",
        "verify",
        "err",
        "decoded",
        "status",
        "send",
        "auth",
        "message",
        "user"
      ],
      "mappings": ";;AAAA,MAAMA,GAAG,GAAGC,OAAO,CAAC,cAAD,CAAnB;;AAEAC,OAAO,CAACC,SAAR,GAAoBC,OAAO,IAAI;AAC7B,SAAOJ,GAAG,CAACK,IAAJ,CAAS;AAACD,IAAAA;AAAD,GAAT,EAAoB,UAApB,CAAP;AACD,CAFD;;AAIAF,OAAO,CAACI,cAAR,GAAyB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC3C,MAAI,mBAAmBF,GAAG,CAACG,OAA3B,EAAoC;AAClC,UAAMC,KAAK,GAAGJ,GAAG,CAACG,OAAJ,CAAY,eAAZ,EAA6BE,KAA7B,CAAmC,GAAnC,EAAwC,CAAxC,CAAd;AACAZ,IAAAA,GAAG,CAACa,MAAJ,CAAWF,KAAX,EAAkB,UAAlB,EACE,CAACG,GAAD,EAAMC,OAAN,KAAkB;AAChB,UAAID,GAAJ,EAAS;AACPN,QAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,IAAI,EAAE,KAAR;AAAeC,UAAAA,OAAO,EAAE;AAAxB,SAArB;AACD,OAFD,MAGK;AACHZ,QAAAA,GAAG,CAACa,IAAJ,GAAWL,OAAX;AACAN,QAAAA,IAAI;AACL;AACF,KATH;AAUD,GAZD,MAYO;AACLD,IAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,IAAI,EAAE,KAAR;AAAeC,MAAAA,OAAO,EAAE;AAAxB,KAArB;AACD;AACF,CAhBD",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/config",
      "sourcesContent": [
        "const jwt = require('jsonwebtoken');\n\nexports.jwtEncode = payload => {\n  return jwt.sign({payload}, 'anything');\n}\n\nexports.verifyJwtToken = (req, res, next) => {\n  if ('authorization' in req.headers) {\n    const token = req.headers['authorization'].split(' ')[1];\n    jwt.verify(token, 'anything',\n      (err, decoded) => {\n        if (err) {\n          res.status(401).send({ auth: false, message: 'Token authentication failed.' });\n        }\n        else {\n          req.user = decoded;\n          next();\n        }\n      })\n  } else {\n    res.status(403).send({ auth: false, message: 'No token provided.' });\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1580451469000
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/backend/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/backend/controllers/event.controller.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/controllers/event.controller.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/backend/controllers/event.controller.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/controllers/event.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/controllers",
        "sourceFileName": "event.controller.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst mongoose = require('mongoose');\n\nconst Event = mongoose.model('Event');\n\nconst axios = require('axios');\n\nconst crypto = require('crypto');\n\nconst multer = require('multer');\n\nconst methodOverride = require('method-override');\n\nconst {\n  saveFileFromStream\n} = require('../lib/azure-connect');\n\nconst User = mongoose.model('User');\nmodule.exports = {\n  events: (req, res) => {\n    Event.find((err, events) => {\n      if (err) res.send(err);else res.status(200).send(events);\n    });\n  },\n  tmEvents: (req, res) => {\n    /*   adding it to this query */\n    const {\n      hash\n    } = req.body;\n    axios.get('http://app.ticketmaster.com/discovery/v2/events.json?apikey=hneV7jzq6Uz7IyQC7GtEHz5s2nTsU6Jm&page=0&size=200&geoPoint=' + hash + '&sort=distance,date,asc')\n    /*       .then( function (tmEvents) {\n            return tmEvents.json();\n          }) */\n    .then(json => {\n      res.send(json.data._embedded.events);\n    }).catch(err => {\n      res.send(err);\n    });\n  },\n  addEvent: (req, res) => {\n    Event.create({\n      eventName: req.body.eventName,\n      location: req.body.eventLocation,\n      lat: req.body.eventLat,\n      long: req.body.eventLng,\n      startDate: req.body.eventDateFrom,\n      eventDateUntil: req.body.eventDateUntil,\n      info: req.body.eventDescr,\n      price: req.body.price,\n      status: req.body.status,\n      promoter: req.user.email\n    }).then(event => {\n      User.findOne({\n        email: event.promoter\n      }, function (err, user) {\n        if (!user) return next(new Error('Could not load document'));else {\n          user.posts.userPosts.push(event._id);\n          user.save();\n          res.status(200).send({\n            'event': 'Added successfully'\n          });\n        }\n      });\n    }).catch(err => {\n      res.status(400).send('Failed to create new record because', err);\n    });\n  },\n  uploadFiles: async (req, res) => {\n    try {\n      const {\n        stream,\n        filename,\n        mimetype,\n        encoding,\n        size\n      } = req.file;\n      await saveFileFromStream(userSetting.privateKey, userSetting.map, filename, stream, size);\n      res.send(200);\n    } catch (error) {\n      res.status(500).send(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV2ZW50LmNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJyZXF1aXJlIiwiRXZlbnQiLCJtb2RlbCIsImF4aW9zIiwiY3J5cHRvIiwibXVsdGVyIiwibWV0aG9kT3ZlcnJpZGUiLCJzYXZlRmlsZUZyb21TdHJlYW0iLCJVc2VyIiwibW9kdWxlIiwiZXhwb3J0cyIsImV2ZW50cyIsInJlcSIsInJlcyIsImZpbmQiLCJlcnIiLCJzZW5kIiwic3RhdHVzIiwidG1FdmVudHMiLCJoYXNoIiwiYm9keSIsImdldCIsInRoZW4iLCJqc29uIiwiZGF0YSIsIl9lbWJlZGRlZCIsImNhdGNoIiwiYWRkRXZlbnQiLCJjcmVhdGUiLCJldmVudE5hbWUiLCJsb2NhdGlvbiIsImV2ZW50TG9jYXRpb24iLCJsYXQiLCJldmVudExhdCIsImxvbmciLCJldmVudExuZyIsInN0YXJ0RGF0ZSIsImV2ZW50RGF0ZUZyb20iLCJldmVudERhdGVVbnRpbCIsImluZm8iLCJldmVudERlc2NyIiwicHJpY2UiLCJwcm9tb3RlciIsInVzZXIiLCJlbWFpbCIsImV2ZW50IiwiZmluZE9uZSIsIm5leHQiLCJFcnJvciIsInBvc3RzIiwidXNlclBvc3RzIiwicHVzaCIsIl9pZCIsInNhdmUiLCJ1cGxvYWRGaWxlcyIsInN0cmVhbSIsImZpbGVuYW1lIiwibWltZXR5cGUiLCJlbmNvZGluZyIsInNpemUiLCJmaWxlIiwidXNlclNldHRpbmciLCJwcml2YXRlS2V5IiwibWFwIiwiZXJyb3IiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBRCxDQUF4Qjs7QUFDQSxNQUFNQyxLQUFLLEdBQUdGLFFBQVEsQ0FBQ0csS0FBVCxDQUFlLE9BQWYsQ0FBZDs7QUFDQSxNQUFNQyxLQUFLLEdBQUdILE9BQU8sQ0FBQyxPQUFELENBQXJCOztBQUNBLE1BQU1JLE1BQU0sR0FBR0osT0FBTyxDQUFDLFFBQUQsQ0FBdEI7O0FBQ0EsTUFBTUssTUFBTSxH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R0FBWCxFQUFnQkQsSUFBaEIsQ0FBcUI7QUFBQyxxQkFBUztBQUFWLFdBQXJCO0FBQ0g7QUFDRixPQVJDO0FBVUgsS0F2QkQsRUF3QkdVLEtBeEJILENBd0JTWCxHQUFHLElBQUk7QUFDUkYsTUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkQsSUFBaEIsQ0FBcUIscUNBQXJCLEVBQTRERCxHQUE1RDtBQUNMLEtBMUJIO0FBMkJELEdBckRjO0FBc0RmdUMsRUFBQUEsV0FBVyxFQUFFLE9BQU8xQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDL0IsUUFBSTtBQUNGLFlBQU07QUFBRTBDLFFBQUFBLE1BQUY7QUFBVUMsUUFBQUEsUUFBVjtBQUFvQkMsUUFBQUEsUUFBcEI7QUFBOEJDLFFBQUFBLFFBQTlCO0FBQXdDQyxRQUFBQTtBQUF4QyxVQUFpRC9DLEdBQUcsQ0FBQ2dELElBQTNEO0FBRUEsWUFBTXJELGtCQUFrQixDQUN0QnNELFdBQVcsQ0FBQ0MsVUFEVSxFQUV0QkQsV0FBVyxDQUFDRSxHQUZVLEVBR3RCUCxRQUhzQixFQUl0QkQsTUFKc0IsRUFLdEJJLElBTHNCLENBQXhCO0FBT0E5QyxNQUFBQSxHQUFHLENBQUNHLElBQUosQ0FBUyxHQUFUO0FBQ0QsS0FYRCxDQVdFLE9BQU9nRCxLQUFQLEVBQWM7QUFDZG5ELE1BQUFBLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JELElBQWhCLENBQXFCZ0QsS0FBckI7QUFDRDtBQUNGO0FBckVjLENBQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9qb25hdGhhbmF1Z3VzdGluL0Rlc2t0b3AvV2Vic2l0ZXMvYmFja2VuZC9jb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcbmNvbnN0IEV2ZW50ID0gbW9uZ29vc2UubW9kZWwoJ0V2ZW50Jyk7XG5jb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7XG5jb25zdCBjcnlwdG8gPSByZXF1aXJlKCdjcnlwdG8nKTtcbmNvbnN0IG11bHRlciA9IHJlcXVpcmUoJ211bHRlcicpO1xuY29uc3QgbWV0aG9kT3ZlcnJpZGUgPSByZXF1aXJlKCdtZXRob2Qtb3ZlcnJpZGUnKTtcbmNvbnN0IHsgc2F2ZUZpbGVGcm9tU3RyZWFtIH0gPSByZXF1aXJlKCcuLi9saWIvYXp1cmUtY29ubmVjdCcpO1xuY29uc3QgVXNlciA9IG1vbmdvb3NlLm1vZGVsKCdVc2VyJyk7XG5cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGV2ZW50czogKHJlcSwgcmVzKSA9PiB7XG4gICAgRXZlbnQuZmluZCgoZXJyLCBldmVudHMpID0+IHtcbiAgICAgIGlmIChlcnIpIHJlcy5zZW5kKGVycik7XG4gICAgICBlbHNlIHJlcy5zdGF0dXMoMjAwKS5zZW5kKGV2ZW50cyk7XG4gICAgfSk7XG4gIH0sXG4gIHRtRXZlbnRzOiAocmVxLCByZXMpID0+IHtcbiAgICAvKiAgIGFkZGluZyBpdCB0byB0aGlzIHF1ZXJ5ICovXG4gICAgY29uc3QgeyBoYXNoIH0gPSByZXEuYm9keTtcbiAgICBheGlvcy5nZXQoXG4gICAgICAgICdodHRwOi8vYXBwLnRpY2tldG1hc3Rlci5jb20vZGlzY292ZXJ5L3YyL2V2ZW50cy5qc29uP2FwaWtleT1obmVWN2p6cTZVejdJeVFDN0d0RUh6NXMyblRzVTZKbSZwYWdlPTAmc2l6ZT0yMDAmZ2VvUG9pbnQ9JyArXG4gICAgICAgICAgaGFzaCArXG4gICAgICAgICAgJyZzb3J0PWRpc3RhbmNlLGRhdGUsYXNjJ1xuICAgICAgKVxuLyogICAgICAgLnRoZW4oIGZ1bmN0aW9uICh0bUV2ZW50cykge1xuICAgICAgICByZXR1cm4gdG1FdmVudHMuanNvbigpO1xuICAgICAgfSkgKi9cbiAgICAgIC50aGVuKGpzb24gPT4ge1xuICAgICAgICByZXMuc2VuZChqc29uLmRhdGEuX2VtYmVkZGVkLmV2ZW50cyk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIHJlcy5zZW5kKGVycik7XG4gICAgICB9KTtcbiAgfSxcbiAgYWRkRXZlbnQ6IChyZXEsIHJlcykgPT4ge1xuICAgIEV2ZW50LmNyZWF0ZSh7XG4gICAgICBldmVudE5hbWU6IHJlcS5ib2R5LmV2ZW50TmFtZSxcbiAgICAgIGxvY2F0aW9uOiByZXEuYm9keS5ldmVudExvY2F0aW9uLFxuICAgICAgbGF0OiByZXEuYm9keS5ldmVudExhdCxcbiAgICAgIGxvbmc6IHJlcS5ib2R5LmV2ZW50TG5nLFxuICAgICAgc3RhcnREYXRlOiByZXEuYm9keS5ldmVudERhdGVGcm9tLFxuICAgICAgZXZlbnREYXRlVW50aWw6IHJlcS5ib2R5LmV2ZW50RGF0ZVVudGlsLFxuICAgICAgaW5mbzogcmVxLmJvZHkuZXZlbnREZXNjcixcbiAgICAgIHByaWNlOiByZXEuYm9keS5wcmljZSxcbiAgICAgIHN0YXR1czogcmVxLmJvZHkuc3RhdHVzLFxuICAgICAgcHJvbW90ZXI6IHJlcS51c2VyLmVtYWlsLFxuICAgIH0pXG4gICAgICAudGhlbihldmVudCA9PiB7XG4gICAgICAgIFVzZXIuZmluZE9uZSh7IGVtYWlsOiBldmVudC5wcm9tb3Rlcn0sIGZ1bmN0aW9uIChlcnIsIHVzZXIpIHtcbiAgICAgICAgICBpZiAoIXVzZXIpXG4gICAgICAgICAgcmV0dXJuIG5leHQobmV3IEVycm9yKCdDb3VsZCBub3QgbG9hZCBkb2N1bWVudCcpKTtcbiAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgdXNlci5wb3N0cy51c2VyUG9zdHMucHVzaChldmVudC5faWQpO1xuICAgICAgICAgICAgdXNlci5zYXZlKCk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZCh7J2V2ZW50JzogJ0FkZGVkIHN1Y2Nlc3NmdWxseSd9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgKVxuICAgIH0pXG4gICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdGYWlsZWQgdG8gY3JlYXRlIG5ldyByZWNvcmQgYmVjYXVzZScsIGVycik7XG4gICAgICB9KTtcbiAgfSxcbiAgdXBsb2FkRmlsZXM6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IHN0cmVhbSwgZmlsZW5hbWUsIG1pbWV0eXBlLCBlbmNvZGluZywgc2l6ZSB9ID0gcmVxLmZpbGU7XG5cbiAgICAgIGF3YWl0IHNhdmVGaWxlRnJvbVN0cmVhbShcbiAgICAgICAgdXNlclNldHRpbmcucHJpdmF0ZUtleSxcbiAgICAgICAgdXNlclNldHRpbmcubWFwLFxuICAgICAgICBmaWxlbmFtZSxcbiAgICAgICAgc3RyZWFtLFxuICAgICAgICBzaXplLFxuICAgICAgKTtcbiAgICAgIHJlcy5zZW5kKDIwMCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGVycm9yKTtcbiAgICB9XG4gIH0sXG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "event.controller.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Event",
        "model",
        "axios",
        "crypto",
        "multer",
        "methodOverride",
        "saveFileFromStream",
        "User",
        "module",
        "exports",
        "events",
        "req",
        "res",
        "find",
        "err",
        "send",
        "status",
        "tmEvents",
        "hash",
        "body",
        "get",
        "then",
        "json",
        "data",
        "_embedded",
        "catch",
        "addEvent",
        "create",
        "eventName",
        "location",
        "eventLocation",
        "lat",
        "eventLat",
        "long",
        "eventLng",
        "startDate",
        "eventDateFrom",
        "eventDateUntil",
        "info",
        "eventDescr",
        "price",
        "promoter",
        "user",
        "email",
        "event",
        "findOne",
        "next",
        "Error",
        "posts",
        "userPosts",
        "push",
        "_id",
        "save",
        "uploadFiles",
        "stream",
        "filename",
        "mimetype",
        "encoding",
        "size",
        "file",
        "userSetting",
        "privateKey",
        "map",
        "error"
      ],
      "mappings": ";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAMC,KAAK,GAAGF,QAAQ,CAACG,KAAT,CAAe,OAAf,CAAd;;AACA,MAAMC,KAAK,GAAGH,OAAO,CAAC,OAAD,CAArB;;AACA,MAAMI,MAAM,GAAGJ,OAAO,CAAC,QAAD,CAAtB;;AACA,MAAMK,MAAM,GAAGL,OAAO,CAAC,QAAD,CAAtB;;AACA,MAAMM,cAAc,GAAGN,OAAO,CAAC,iBAAD,CAA9B;;AACA,MAAM;AAAEO,EAAAA;AAAF,IAAyBP,OAAO,CAAC,sBAAD,CAAtC;;AACA,MAAMQ,IAAI,GAAGT,QAAQ,CAACG,KAAT,CAAe,MAAf,CAAb;AAGAO,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,MAAM,EAAE,CAACC,GAAD,EAAMC,GAAN,KAAc;AACpBZ,IAAAA,KAAK,CAACa,IAAN,CAAW,CAACC,GAAD,EAAMJ,MAAN,KAAiB;AAC1B,UAAII,GAAJ,EAASF,GAAG,CAACG,IAAJ,CAASD,GAAT,EAAT,KACKF,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBD,IAAhB,CAAqBL,MAArB;AACN,KAHD;AAID,GANc;AAOfO,EAAAA,QAAQ,EAAE,CAACN,GAAD,EAAMC,GAAN,KAAc;AACtB;AACA,UAAM;AAAEM,MAAAA;AAAF,QAAWP,GAAG,CAACQ,IAArB;AACAjB,IAAAA,KAAK,CAACkB,GAAN,CACI,2HACEF,IADF,GAEE,yBAHN;AAKJ;;;AALI,KAQGG,IARH,CAQQC,IAAI,IAAI;AACZV,MAAAA,GAAG,CAACG,IAAJ,CAASO,IAAI,CAACC,IAAL,CAAUC,SAAV,CAAoBd,MAA7B;AACD,KAVH,EAWGe,KAXH,CAWSX,GAAG,IAAI;AACZF,MAAAA,GAAG,CAACG,IAAJ,CAASD,GAAT;AACD,KAbH;AAcD,GAxBc;AAyBfY,EAAAA,QAAQ,EAAE,CAACf,GAAD,EAAMC,GAAN,KAAc;AACtBZ,IAAAA,KAAK,CAAC2B,MAAN,CAAa;AACXC,MAAAA,SAAS,EAAEjB,GAAG,CAACQ,IAAJ,CAASS,SADT;AAEXC,MAAAA,QAAQ,EAAElB,GAAG,CAACQ,IAAJ,CAASW,aAFR;AAGXC,MAAAA,GAAG,EAAEpB,GAAG,CAACQ,IAAJ,CAASa,QAHH;AAIXC,MAAAA,IAAI,EAAEtB,GAAG,CAACQ,IAAJ,CAASe,QAJJ;AAKXC,MAAAA,SAAS,EAAExB,GAAG,CAACQ,IAAJ,CAASiB,aALT;AAMXC,MAAAA,cAAc,EAAE1B,GAAG,CAACQ,IAAJ,CAASkB,cANd;AAOXC,MAAAA,IAAI,EAAE3B,GAAG,CAACQ,IAAJ,CAASoB,UAPJ;AAQXC,MAAAA,KAAK,EAAE7B,GAAG,CAACQ,IAAJ,CAASqB,KARL;AASXxB,MAAAA,MAAM,EAAEL,GAAG,CAACQ,IAAJ,CAASH,MATN;AAUXyB,MAAAA,QAAQ,EAAE9B,GAAG,CAAC+B,IAAJ,CAASC;AAVR,KAAb,EAYGtB,IAZH,CAYQuB,KAAK,IAAI;AACbrC,MAAAA,IAAI,CAACsC,OAAL,CAAa;AAAEF,QAAAA,KAAK,EAAEC,KAAK,CAACH;AAAf,OAAb,EAAuC,UAAU3B,GAAV,EAAe4B,IAAf,EAAqB;AAC1D,YAAI,CAACA,IAAL,EACA,OAAOI,IAAI,CAAC,IAAIC,KAAJ,CAAU,yBAAV,CAAD,CAAX,CADA,KAEI;AACFL,UAAAA,IAAI,CAACM,KAAL,CAAWC,SAAX,CAAqBC,IAArB,CAA0BN,KAAK,CAACO,GAAhC;AACAT,UAAAA,IAAI,CAACU,IAAL;AACAxC,UAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBD,IAAhB,CAAqB;AAAC,qBAAS;AAAV,WAArB;AACH;AACF,OARC;AAUH,KAvBD,EAwBGU,KAxBH,CAwBSX,GAAG,IAAI;AACRF,MAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBD,IAAhB,CAAqB,qCAArB,EAA4DD,GAA5D;AACL,KA1BH;AA2BD,GArDc;AAsDfuC,EAAAA,WAAW,EAAE,OAAO1C,GAAP,EAAYC,GAAZ,KAAoB;AAC/B,QAAI;AACF,YAAM;AAAE0C,QAAAA,MAAF;AAAUC,QAAAA,QAAV;AAAoBC,QAAAA,QAApB;AAA8BC,QAAAA,QAA9B;AAAwCC,QAAAA;AAAxC,UAAiD/C,GAAG,CAACgD,IAA3D;AAEA,YAAMrD,kBAAkB,CACtBsD,WAAW,CAACC,UADU,EAEtBD,WAAW,CAACE,GAFU,EAGtBP,QAHsB,EAItBD,MAJsB,EAKtBI,IALsB,CAAxB;AAOA9C,MAAAA,GAAG,CAACG,IAAJ,CAAS,GAAT;AACD,KAXD,CAWE,OAAOgD,KAAP,EAAc;AACdnD,MAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBD,IAAhB,CAAqBgD,KAArB;AACD;AACF;AArEc,CAAjB",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/controllers",
      "sourcesContent": [
        "const mongoose = require('mongoose');\nconst Event = mongoose.model('Event');\nconst axios = require('axios');\nconst crypto = require('crypto');\nconst multer = require('multer');\nconst methodOverride = require('method-override');\nconst { saveFileFromStream } = require('../lib/azure-connect');\nconst User = mongoose.model('User');\n\n\nmodule.exports = {\n  events: (req, res) => {\n    Event.find((err, events) => {\n      if (err) res.send(err);\n      else res.status(200).send(events);\n    });\n  },\n  tmEvents: (req, res) => {\n    /*   adding it to this query */\n    const { hash } = req.body;\n    axios.get(\n        'http://app.ticketmaster.com/discovery/v2/events.json?apikey=hneV7jzq6Uz7IyQC7GtEHz5s2nTsU6Jm&page=0&size=200&geoPoint=' +\n          hash +\n          '&sort=distance,date,asc'\n      )\n/*       .then( function (tmEvents) {\n        return tmEvents.json();\n      }) */\n      .then(json => {\n        res.send(json.data._embedded.events);\n      })\n      .catch(err => {\n        res.send(err);\n      });\n  },\n  addEvent: (req, res) => {\n    Event.create({\n      eventName: req.body.eventName,\n      location: req.body.eventLocation,\n      lat: req.body.eventLat,\n      long: req.body.eventLng,\n      startDate: req.body.eventDateFrom,\n      eventDateUntil: req.body.eventDateUntil,\n      info: req.body.eventDescr,\n      price: req.body.price,\n      status: req.body.status,\n      promoter: req.user.email,\n    })\n      .then(event => {\n        User.findOne({ email: event.promoter}, function (err, user) {\n          if (!user)\n          return next(new Error('Could not load document'));\n          else{\n            user.posts.userPosts.push(event._id);\n            user.save();\n            res.status(200).send({'event': 'Added successfully'});\n        }\n      }\n      )\n    })\n      .catch(err => {\n            res.status(400).send('Failed to create new record because', err);\n      });\n  },\n  uploadFiles: async (req, res) => {\n    try {\n      const { stream, filename, mimetype, encoding, size } = req.file;\n\n      await saveFileFromStream(\n        userSetting.privateKey,\n        userSetting.map,\n        filename,\n        stream,\n        size,\n      );\n      res.send(200);\n    } catch (error) {\n      res.status(500).send(error);\n    }\n  },\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1578628584032
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/backend/lib\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/backend/lib/azure-connect.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/lib",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/lib/azure-connect.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/backend/lib/azure-connect.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/lib/azure-connect.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/lib",
        "sourceFileName": "azure-connect.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst storage = require('azure-storage');\n\nconst memoizeOne = require('memoize-one');\n\nconst streams = require('memory-streams');\n\nconst getFileService = memoizeOne(conn => storage.createFileService(conn));\n\nconst getFiles = (conn, map) => new Promise((resolve, reject) => {\n  const fileService = getFileService(conn);\n  fileService.listFilesAndDirectoriesSegmented(map, '', null, (error, result) => {\n    if (error) {\n      return reject(error);\n    }\n\n    const {\n      entries\n    } = result;\n    const {\n      files\n    } = entries;\n    resolve(files);\n  });\n});\n\nconst readRawFile = (conn, map, fileName) => new Promise((resolve, reject) => {\n  const fileService = getFileService(conn);\n  fileService.getFileToText(map, '', fileName, null, (error, result, response) => {\n    if (error) {\n      return reject(error);\n    }\n\n    return resolve(result);\n  });\n});\n\nconst saveFileFromStream = (conn, map, fileName, content, size) => new Promise((resolve, reject) => {\n  const fileService = getFileService(conn);\n  fileService.createFileFromStream(map, '', fileName, content, size, (error, result, response) => {\n    if (error) {\n      return reject(error);\n    }\n\n    resolve(true);\n  });\n});\n\nmodule.exports = {\n  getFiles,\n  readRawFile,\n  saveFileFromStream\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF6dXJlLWNvbm5lY3QuanMiXSwibmFtZXMiOlsic3RvcmFnZSIsInJlcXVpcmUiLCJtZW1vaXplT25lIiwic3RyZWFtcyIsImdldEZpbGVTZXJ2aWNlIiwiY29ubiIsImNyZWF0ZUZpbGVTZXJ2aWNlIiwiZ2V0RmlsZXMiLCJtYXAiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZpbGVTZXJ2aWNlIiwibGlzdEZpbGVzQW5kRGlyZWN0b3JpZXNTZWdtZW50ZWQiLCJlcnJvciIsInJlc3VsdCIsImVudHJpZXMiLCJmaWxlcyIsInJlYWRSYXdGaWxlIiwiZmlsZU5hbWUiLCJnZXRGaWxlVG9UZXh0IiwicmVzcG9uc2UiLCJzYXZlRmlsZUZyb21TdHJlYW0iLCJjb250ZW50Iiwic2l6ZSIsImNyZWF0ZUZpbGVGcm9tU3RyZWFtIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxlQUFELENBQXZCOztBQUNBLE1BQU1DLFVBQVUsR0FBR0QsT0FBTyxDQUFDLGFBQUQsQ0FBMUI7O0FBQ0EsTUFBTUUsT0FBTyxHQUFHRixPQUFPLENBQUMsZ0JBQUQsQ0FBdkI7O0FBRUEsTUFBTUcsY0FBYyxHQUFHRixVQUFVLENBQUNHLElBQUksSUFBSUwsT0FBTyxDQUFDTSxpQkFBUixDQUEwQkQsSUFBMUIsQ0FBVCxDQUFqQzs7QUFFQSxNQUFNRSxRQUFRLEdBQUcsQ0FBQ0YsSUFBRCxFQUFPRyxHQUFQLEtBQ2YsSUFBSUMsT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUMvQixRQUFNQyxXQUFXLEdBQUdSLGNBQWMsQ0FBQ0MsSUFBRCxDQUFsQztBQUNBTyxFQUFBQSxXQUFXLENBQUNDLGdDQUFaLENBQ0VMLEdBREYsRUFFRSxFQUZGLEVBR0UsSUFIRixFQUlFLENBQUNNLEtBQUQsRUFBUUMsTUFBUixLQUFtQjtBQUNqQixRQUFJRCxLQUFKLEVBQVc7QUFDVCxhQUFPSCxNQUFNLENBQUNHLEtBQUQsQ0FBYjtBQUNEOztBQUNELFVBQU07QUFBRUUsTUFBQUE7QUFBRixRQUFjRCxNQUFwQjtBQUNBLFVBQU07QUFBRUUsTUFBQUE7QUFBRixRQUFZRCxPQUFsQjtBQUNBTixJQUFBQSxPQUFPLENBQUNPLEtBQUQsQ0FBUDtBQUNELEdBWEg7QUFhRCxDQWZELENBREY7O0FBa0JBLE1BQU1DLFdBQVcsR0FBRyxDQUFDYixJQUFELEVBQU9HLEdBQVAsRUFBWVcsUUFBWixLQUNsQixJQUFJVixPQUFKLENBQVksQ0FBQ0MsT0FBRCxFQUFVQyxNQUFWLEtBQXFCO0FBQy9CLFFBQU1DLFdBQVcsR0FBR1IsY0FBYyxDQUFDQyxJQUFELENBQWxDO0FBRUFPLEVBQUFBLFdBQVcsQ0FBQ1EsYUFBWixDQUNFWixHQURGLEVBRUUsRUFGRixFQUdFVyxRQUhGLEVBSUUsSUFKRixFQUtFLENBQUNMLEtBQUQsRUFBUUMsTUFBUixFQUFnQk0sUUFBaEIsS0FBNkI7QUFDM0IsUUFBSVAsS0FBSixFQUFXO0FBQ1QsYUFBT0gsTUFBTSxDQUFDRyxLQUFELENBQWI7QUFDRDs7QUFDRCxXQUFPSixPQUFPLENBQUNLLE1BQUQsQ0FBZDtBQUNELEdBVkg7QUFZRCxDQWZELENBREY7O0FBbUJBLE1BQU1PLGtCQUFrQixHQUFHLENBQUNqQixJQUFELEVBQU9HLEdBQVAsRUFBWVcsUUFBWixFQUFzQkksT0FBdEIsRUFBK0JDLElBQS9CLEtBQ3pCLElBQUlmLE9BQUosQ0FBWSxDQUFDQyxPQUFELEVBQVVDLE1BQVYsS0FBcUI7QUFDL0IsUUFBTUMsV0FBVyxHQUFHUixjQUFjLENBQUNDLElBQUQsQ0FBbEM7QUFDQU8sRUFBQUEsV0FBVyxDQUFDYSxvQkFBWixDQUNFakIsR0FERixFQUVFLEVBRkYsRUFHRVcsUUFIRixFQUlFSSxPQUpGLEVBS0VDLElBTEYsRUFNRSxDQUFDVixLQUFELEVBQVFDLE1BQVIsRUFBZ0JNLFFBQWhCLEtBQTZCO0FBQzNCLFFBQUlQLEtBQUosRUFBVztBQUNULGFBQU9ILE1BQU0sQ0FBQ0csS0FBRCxDQUFiO0FBQ0Q7O0FBQ0RKLElBQUFBLE9BQU8sQ0FBQyxJQUFELENBQVA7QUFDRCxHQVhIO0FBYUQsQ0FmRCxDQURGOztBQWtCQWdCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUNmcEIsRUFBQUEsUUFEZTtBQUVmVyxFQUFBQSxXQUZlO0FBR2ZJLEVBQUFBO0FBSGUsQ0FBakIiLCJzb3VyY2VSb290IjoiL1VzZXJzL2pvbmF0aGFuYXVndXN0aW4vRGVza3RvcC9XZWJzaXRlcy9iYWNrZW5kL2xpYiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHN0b3JhZ2UgPSByZXF1aXJlKCdhenVyZS1zdG9yYWdlJyk7XG5jb25zdCBtZW1vaXplT25lID0gcmVxdWlyZSgnbWVtb2l6ZS1vbmUnKTtcbmNvbnN0IHN0cmVhbXMgPSByZXF1aXJlKCdtZW1vcnktc3RyZWFtcycpO1xuXG5jb25zdCBnZXRGaWxlU2VydmljZSA9IG1lbW9pemVPbmUoY29ubiA9PiBzdG9yYWdlLmNyZWF0ZUZpbGVTZXJ2aWNlKGNvbm4pKTtcblxuY29uc3QgZ2V0RmlsZXMgPSAoY29ubiwgbWFwKSA9PlxuICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgZmlsZVNlcnZpY2UgPSBnZXRGaWxlU2VydmljZShjb25uKTtcbiAgICBmaWxlU2VydmljZS5saXN0RmlsZXNBbmREaXJlY3Rvcmllc1NlZ21lbnRlZChcbiAgICAgIG1hcCxcbiAgICAgICcnLFxuICAgICAgbnVsbCxcbiAgICAgIChlcnJvciwgcmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiByZWplY3QoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgZW50cmllcyB9ID0gcmVzdWx0O1xuICAgICAgICBjb25zdCB7IGZpbGVzIH0gPSBlbnRyaWVzO1xuICAgICAgICByZXNvbHZlKGZpbGVzKTtcbiAgICAgIH1cbiAgICApO1xuICB9KTtcblxuY29uc3QgcmVhZFJhd0ZpbGUgPSAoY29ubiwgbWFwLCBmaWxlTmFtZSkgPT5cbiAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGZpbGVTZXJ2aWNlID0gZ2V0RmlsZVNlcnZpY2UoY29ubik7XG5cbiAgICBmaWxlU2VydmljZS5nZXRGaWxlVG9UZXh0KFxuICAgICAgbWFwLFxuICAgICAgJycsXG4gICAgICBmaWxlTmFtZSxcbiAgICAgIG51bGwsXG4gICAgICAoZXJyb3IsIHJlc3VsdCwgcmVzcG9uc2UpID0+IHtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc29sdmUocmVzdWx0KTtcbiAgICAgIH1cbiAgICApO1xuICB9KTtcblxuXG5jb25zdCBzYXZlRmlsZUZyb21TdHJlYW0gPSAoY29ubiwgbWFwLCBmaWxlTmFtZSwgY29udGVudCwgc2l6ZSkgPT5cbiAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGZpbGVTZXJ2aWNlID0gZ2V0RmlsZVNlcnZpY2UoY29ubik7XG4gICAgZmlsZVNlcnZpY2UuY3JlYXRlRmlsZUZyb21TdHJlYW0oXG4gICAgICBtYXAsXG4gICAgICAnJyxcbiAgICAgIGZpbGVOYW1lLFxuICAgICAgY29udGVudCxcbiAgICAgIHNpemUsXG4gICAgICAoZXJyb3IsIHJlc3VsdCwgcmVzcG9uc2UpID0+IHtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgIH1cbiAgICApO1xuICB9KTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGdldEZpbGVzLFxuICByZWFkUmF3RmlsZSxcbiAgc2F2ZUZpbGVGcm9tU3RyZWFtLFxufTtcblxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "azure-connect.js"
      ],
      "names": [
        "storage",
        "require",
        "memoizeOne",
        "streams",
        "getFileService",
        "conn",
        "createFileService",
        "getFiles",
        "map",
        "Promise",
        "resolve",
        "reject",
        "fileService",
        "listFilesAndDirectoriesSegmented",
        "error",
        "result",
        "entries",
        "files",
        "readRawFile",
        "fileName",
        "getFileToText",
        "response",
        "saveFileFromStream",
        "content",
        "size",
        "createFileFromStream",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,eAAD,CAAvB;;AACA,MAAMC,UAAU,GAAGD,OAAO,CAAC,aAAD,CAA1B;;AACA,MAAME,OAAO,GAAGF,OAAO,CAAC,gBAAD,CAAvB;;AAEA,MAAMG,cAAc,GAAGF,UAAU,CAACG,IAAI,IAAIL,OAAO,CAACM,iBAAR,CAA0BD,IAA1B,CAAT,CAAjC;;AAEA,MAAME,QAAQ,GAAG,CAACF,IAAD,EAAOG,GAAP,KACf,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC/B,QAAMC,WAAW,GAAGR,cAAc,CAACC,IAAD,CAAlC;AACAO,EAAAA,WAAW,CAACC,gCAAZ,CACEL,GADF,EAEE,EAFF,EAGE,IAHF,EAIE,CAACM,KAAD,EAAQC,MAAR,KAAmB;AACjB,QAAID,KAAJ,EAAW;AACT,aAAOH,MAAM,CAACG,KAAD,CAAb;AACD;;AACD,UAAM;AAAEE,MAAAA;AAAF,QAAcD,MAApB;AACA,UAAM;AAAEE,MAAAA;AAAF,QAAYD,OAAlB;AACAN,IAAAA,OAAO,CAACO,KAAD,CAAP;AACD,GAXH;AAaD,CAfD,CADF;;AAkBA,MAAMC,WAAW,GAAG,CAACb,IAAD,EAAOG,GAAP,EAAYW,QAAZ,KAClB,IAAIV,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC/B,QAAMC,WAAW,GAAGR,cAAc,CAACC,IAAD,CAAlC;AAEAO,EAAAA,WAAW,CAACQ,aAAZ,CACEZ,GADF,EAEE,EAFF,EAGEW,QAHF,EAIE,IAJF,EAKE,CAACL,KAAD,EAAQC,MAAR,EAAgBM,QAAhB,KAA6B;AAC3B,QAAIP,KAAJ,EAAW;AACT,aAAOH,MAAM,CAACG,KAAD,CAAb;AACD;;AACD,WAAOJ,OAAO,CAACK,MAAD,CAAd;AACD,GAVH;AAYD,CAfD,CADF;;AAmBA,MAAMO,kBAAkB,GAAG,CAACjB,IAAD,EAAOG,GAAP,EAAYW,QAAZ,EAAsBI,OAAtB,EAA+BC,IAA/B,KACzB,IAAIf,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC/B,QAAMC,WAAW,GAAGR,cAAc,CAACC,IAAD,CAAlC;AACAO,EAAAA,WAAW,CAACa,oBAAZ,CACEjB,GADF,EAEE,EAFF,EAGEW,QAHF,EAIEI,OAJF,EAKEC,IALF,EAME,CAACV,KAAD,EAAQC,MAAR,EAAgBM,QAAhB,KAA6B;AAC3B,QAAIP,KAAJ,EAAW;AACT,aAAOH,MAAM,CAACG,KAAD,CAAb;AACD;;AACDJ,IAAAA,OAAO,CAAC,IAAD,CAAP;AACD,GAXH;AAaD,CAfD,CADF;;AAkBAgB,MAAM,CAACC,OAAP,GAAiB;AACfpB,EAAAA,QADe;AAEfW,EAAAA,WAFe;AAGfI,EAAAA;AAHe,CAAjB",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/lib",
      "sourcesContent": [
        "const storage = require('azure-storage');\nconst memoizeOne = require('memoize-one');\nconst streams = require('memory-streams');\n\nconst getFileService = memoizeOne(conn => storage.createFileService(conn));\n\nconst getFiles = (conn, map) =>\n  new Promise((resolve, reject) => {\n    const fileService = getFileService(conn);\n    fileService.listFilesAndDirectoriesSegmented(\n      map,\n      '',\n      null,\n      (error, result) => {\n        if (error) {\n          return reject(error);\n        }\n        const { entries } = result;\n        const { files } = entries;\n        resolve(files);\n      }\n    );\n  });\n\nconst readRawFile = (conn, map, fileName) =>\n  new Promise((resolve, reject) => {\n    const fileService = getFileService(conn);\n\n    fileService.getFileToText(\n      map,\n      '',\n      fileName,\n      null,\n      (error, result, response) => {\n        if (error) {\n          return reject(error);\n        }\n        return resolve(result);\n      }\n    );\n  });\n\n\nconst saveFileFromStream = (conn, map, fileName, content, size) =>\n  new Promise((resolve, reject) => {\n    const fileService = getFileService(conn);\n    fileService.createFileFromStream(\n      map,\n      '',\n      fileName,\n      content,\n      size,\n      (error, result, response) => {\n        if (error) {\n          return reject(error);\n        }\n        resolve(true);\n      }\n    );\n  });\n\nmodule.exports = {\n  getFiles,\n  readRawFile,\n  saveFileFromStream,\n};\n\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1581085919111
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/backend/manageEvents.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/manageEvents.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/backend/manageEvents.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/manageEvents.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend",
        "sourceFileName": "manageEvents.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _event = _interopRequireDefault(require(\"./models/event.model\"));\n\nvar _pastEvent = _interopRequireDefault(require(\"./models/pastEvent\"));\n\nvar _cron = _interopRequireDefault(require(\"cron\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst CronJob = _cron.default.CronJob;\n\nmodule.exports = () => {\n  new CronJob(\"* 0 0 * * *\", () => {\n    _mongoose.default.connect(process.env.MONGODB_URI), {\n      useNewUrlParser: true\n    }.then(() => {\n      console.log(\"connected to MongoDB\");\n      const currentDate = new Date();\n\n      _event.default.find().then(events => {\n        const matchingEvents = events.filter(e => new Date(e.eventDateUntil) < currentDate);\n        const pastEventIds = matchingEvents.map(i => i.id);\n        const addEventsPromises = matchingEvents.map(e => {\n          const newRecord = JSON.parse(JSON.stringify(e));\n          delete newRecord._id;\n          delete newRecord.__v;\n          const newPastEvent = new _pastEvent.default(newRecord);\n          return newPastEvent.save();\n        });\n        Promise.all(addEventsPromises).then(addResArr => {\n          console.log(\"added all past events to pastEvents collection\", addResArr && addResArr.length);\n\n          _event.default.deleteMany({\n            _id: {\n              $in: pastEventIds\n            }\n          }).then(res => {\n            console.log(\"removed all past events from events collection\", pastEventIds && pastEventIds.length);\n          }).catch(err => console.log('errrrr', err));\n        });\n      }).catch(err => console.log(\"err fetching events\", err));\n    }).catch(err => console.log(\"err connecting to DB\", err));\n  }, null, true);\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hbmFnZUV2ZW50cy5qcyJdLCJuYW1lcyI6WyJDcm9uSm9iIiwiQ3JvbiIsIm1vZHVsZSIsImV4cG9ydHMiLCJtb25nb29zZSIsImNvbm5lY3QiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09EQl9VUkkiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsImN1cnJlbnREYXRlIiwiRGF0ZSIsIkV2ZW50IiwiZmluZCIsImV2ZW50cyIsIm1hdGNoaW5nRXZlbnRzIiwiZmlsdGVyIiwiZSIsImV2ZW50RGF0ZVVudGlsIiwicGFzdEV2ZW50SWRzIiwibWFwIiwiaSIsImlkIiwiYWRkRXZlbnRzUHJvbWlzZXMiLCJuZXdSZWNvcmQiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJfaWQiLCJfX3YiLCJuZXdQYXN0RXZlbnQiLCJQYXN0RXZlbnRNb2RlbCIsInNhdmUiLCJQcm9taXNlIiwiYWxsIiwiYWRkUmVzQXJyIiwibGVuZ3RoIiwiZGVsZXRlTWFueSIsIiRpbiIsInJlcyIsImNhdGNoIiwiZXJyIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsT0FBTyxHQUFHQyxjQUFLRCxPQUFyQjs7QUFFQUUsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLE1BQU07QUFDckIsTUFBSUgsT0FBSixDQUNFLGFBREYsRUFFRSxNQUFNO0FBQ0pJLHNCQUNHQyxPQURILENBQ1dDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxXQUR2QixHQUNxQztBQUFFQyxNQUFBQSxlQUFlLEVBQUU7QUFBbkIsTUFDbENDLElBRGtDLENBQzdCLE1BQU07QUFDVkMsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksc0JBQVo7QUFDQSxZQUFNQyxXQUFXLEdBQUcsSUFBSUMsSUFBSixFQUFwQjs7QUFDQUMscUJBQU1DLElBQU4sR0FDR04sSUFESCxDQUNRTyxNQUFNLElBQUk7QUFDZixjQUFNQyxjQUFjLEdBQUdELE1BQU0sQ0FBQ0UsTUFBUCxDQUNwQkMsQ0FBQyxJQUFJLElBQUlOLElBQUosQ0FBU00sQ0FBQyxDQUFDQyxjQUFYLElBQTZCUixXQURkLENBQXZCO0FBSUMsY0FBTVMsWUFBWSxHQUFHSixjQUFjLENBQUNLLEdBQWYsQ0FBbUJDLENBQUMsSUFBSUEsQ0FBQyxDQUFDQyxFQUExQixDQUFyQjtBQUVBLGNBQU1DLGlCQUFpQixHQUFHUixjQUFjLENBQUNLLEdBQWYsQ0FBbUJILENBQUMsSUFBSTtBQUNoRCxnQkFBTU8sU0FBUyxHQUFHQyxJQUFJLENBQUNDLEtBQUwsQ0FBV0QsSUFBSSxDQUFDRSxTQUFMLENBQWVWLENBQWYsQ0FBWCxDQUFsQjtBQUNBLGlCQUFPTyxTQUFTLENBQUNJLEdBQWpCO0FBQ0EsaUJBQU9KLFNBQVMsQ0FBQ0ssR0FBakI7QUFDQSxnQkFBTUMsWUFBWSxHQUFHLElBQUlDLGtCQUFKLENBQW1CUCxTQUFuQixDQUFyQjtBQUNBLGlCQUFPTSxZQUFZLENBQUNFLElBQWIsRUFBUDtBQUNELFNBTnlCLENBQTFCO0FBUUFDLFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZWCxpQkFBWixFQUErQmhCLElBQS9CLENBQW9DNEIsU0FBUyxJQUFJO0FBQy9DM0IsVUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQ0UsZ0RBREYsRUFFRTBCLFNBQVMsSUFBSUEsU0FBUyxDQUFDQyxNQUZ6Qjs7QUFLQXhCLHlCQUFNeUIsVUFBTixDQUFpQjtBQUFDVCxZQUFBQSxHQUFHLEVBQUU7QUFBQ1UsY0FBQUEsR0FBRyxFQUFFbkI7QUFBTjtBQUFOLFdBQWpCLEVBQ0NaLElBREQsQ0FDTWdDLEdBQUcsSUFBSTtBQUNYL0IsWUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQ0UsZ0RBREYsRUFFRVUsWUFBWSxJQUFJQSxZQUFZLENBQUNpQixNQUYvQjtBQUlELFdBTkQsRUFPQ0ksS0FQRCxDQU9PQyxHQUFHLElBQUtqQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxRQUFaLEVBQXNCZ0MsR0FBdEIsQ0FQZjtBQVFELFNBZEQ7QUFlRCxPQS9CSCxFQWdDR0QsS0FoQ0gsQ0FnQ1NDLEdBQUcsSUFBSWpDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHFCQUFaLEVBQW1DZ0MsR0FBbkMsQ0FoQ2hCO0FBaUNELEtBckNrQyxFQXNDbENELEtBdENrQyxDQXNDNUJDLEdBQUcsSUFBSWpDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHNCQUFaLEVBQW9DZ0MsR0FBcEMsQ0F0Q3FCLENBRHJDO0FBd0NELEdBM0NILEVBNENFLElBNUNGLEVBNkNFLElBN0NGO0FBK0NELENBaEREIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9qb25hdGhhbmF1Z3VzdGluL0Rlc2t0b3AvV2Vic2l0ZXMvYmFja2VuZCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcbmltcG9ydCBFdmVudCBmcm9tIFwiLi9tb2RlbHMvZXZlbnQubW9kZWxcIjtcbmltcG9ydCBQYXN0RXZlbnRNb2RlbCBmcm9tIFwiLi9tb2RlbHMvcGFzdEV2ZW50XCI7XG5pbXBvcnQgQ3JvbiBmcm9tIFwiY3JvblwiO1xuXG5jb25zdCBDcm9uSm9iID0gQ3Jvbi5Dcm9uSm9iO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICgpID0+IHtcbiAgbmV3IENyb25Kb2IoXG4gICAgXCIqIDAgMCAqICogKlwiLFxuICAgICgpID0+IHtcbiAgICAgIG1vbmdvb3NlXG4gICAgICAgIC5jb25uZWN0KHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJKSwgeyB1c2VOZXdVcmxQYXJzZXI6IHRydWUgfVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJjb25uZWN0ZWQgdG8gTW9uZ29EQlwiKTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgRXZlbnQuZmluZCgpXG4gICAgICAgICAgICAudGhlbihldmVudHMgPT4ge1xuICAgICAgICAgICAgIGNvbnN0IG1hdGNoaW5nRXZlbnRzID0gZXZlbnRzLmZpbHRlcihcbiAgICAgICAgICAgICAgICBlID0+IG5ldyBEYXRlKGUuZXZlbnREYXRlVW50aWwpIDwgY3VycmVudERhdGVcbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICBjb25zdCBwYXN0RXZlbnRJZHMgPSBtYXRjaGluZ0V2ZW50cy5tYXAoaSA9PiBpLmlkKTtcblxuICAgICAgICAgICAgICBjb25zdCBhZGRFdmVudHNQcm9taXNlcyA9IG1hdGNoaW5nRXZlbnRzLm1hcChlID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdSZWNvcmQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgbmV3UmVjb3JkLl9pZDtcbiAgICAgICAgICAgICAgICBkZWxldGUgbmV3UmVjb3JkLl9fdjtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdQYXN0RXZlbnQgPSBuZXcgUGFzdEV2ZW50TW9kZWwobmV3UmVjb3JkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3UGFzdEV2ZW50LnNhdmUoKTtcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgUHJvbWlzZS5hbGwoYWRkRXZlbnRzUHJvbWlzZXMpLnRoZW4oYWRkUmVzQXJyID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgICAgIFwiYWRkZWQgYWxsIHBhc3QgZXZlbnRzIHRvIHBhc3RFdmVudHMgY29sbGVjdGlvblwiLFxuICAgICAgICAgICAgICAgICAgYWRkUmVzQXJyICYmIGFkZFJlc0Fyci5sZW5ndGhcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgRXZlbnQuZGVsZXRlTWFueSh7X2lkOiB7JGluOiBwYXN0RXZlbnRJZHN9fSlcbiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgICAgIFwicmVtb3ZlZCBhbGwgcGFzdCBldmVudHMgZnJvbSBldmVudHMgY29sbGVjdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICBwYXN0RXZlbnRJZHMgJiYgcGFzdEV2ZW50SWRzLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gIGNvbnNvbGUubG9nKCdlcnJycnInLCBlcnIpKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhcImVyciBmZXRjaGluZyBldmVudHNcIiwgZXJyKSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coXCJlcnIgY29ubmVjdGluZyB0byBEQlwiLCBlcnIpKTtcbiAgICB9LFxuICAgIG51bGwsXG4gICAgdHJ1ZVxuICApO1xufTtcblxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "manageEvents.js"
      ],
      "names": [
        "CronJob",
        "Cron",
        "module",
        "exports",
        "mongoose",
        "connect",
        "process",
        "env",
        "MONGODB_URI",
        "useNewUrlParser",
        "then",
        "console",
        "log",
        "currentDate",
        "Date",
        "Event",
        "find",
        "events",
        "matchingEvents",
        "filter",
        "e",
        "eventDateUntil",
        "pastEventIds",
        "map",
        "i",
        "id",
        "addEventsPromises",
        "newRecord",
        "JSON",
        "parse",
        "stringify",
        "_id",
        "__v",
        "newPastEvent",
        "PastEventModel",
        "save",
        "Promise",
        "all",
        "addResArr",
        "length",
        "deleteMany",
        "$in",
        "res",
        "catch",
        "err"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,OAAO,GAAGC,cAAKD,OAArB;;AAEAE,MAAM,CAACC,OAAP,GAAiB,MAAM;AACrB,MAAIH,OAAJ,CACE,aADF,EAEE,MAAM;AACJI,sBACGC,OADH,CACWC,OAAO,CAACC,GAAR,CAAYC,WADvB,GACqC;AAAEC,MAAAA,eAAe,EAAE;AAAnB,MAClCC,IADkC,CAC7B,MAAM;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACA,YAAMC,WAAW,GAAG,IAAIC,IAAJ,EAApB;;AACAC,qBAAMC,IAAN,GACGN,IADH,CACQO,MAAM,IAAI;AACf,cAAMC,cAAc,GAAGD,MAAM,CAACE,MAAP,CACpBC,CAAC,IAAI,IAAIN,IAAJ,CAASM,CAAC,CAACC,cAAX,IAA6BR,WADd,CAAvB;AAIC,cAAMS,YAAY,GAAGJ,cAAc,CAACK,GAAf,CAAmBC,CAAC,IAAIA,CAAC,CAACC,EAA1B,CAArB;AAEA,cAAMC,iBAAiB,GAAGR,cAAc,CAACK,GAAf,CAAmBH,CAAC,IAAI;AAChD,gBAAMO,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeV,CAAf,CAAX,CAAlB;AACA,iBAAOO,SAAS,CAACI,GAAjB;AACA,iBAAOJ,SAAS,CAACK,GAAjB;AACA,gBAAMC,YAAY,GAAG,IAAIC,kBAAJ,CAAmBP,SAAnB,CAArB;AACA,iBAAOM,YAAY,CAACE,IAAb,EAAP;AACD,SANyB,CAA1B;AAQAC,QAAAA,OAAO,CAACC,GAAR,CAAYX,iBAAZ,EAA+BhB,IAA/B,CAAoC4B,SAAS,IAAI;AAC/C3B,UAAAA,OAAO,CAACC,GAAR,CACE,gDADF,EAEE0B,SAAS,IAAIA,SAAS,CAACC,MAFzB;;AAKAxB,yBAAMyB,UAAN,CAAiB;AAACT,YAAAA,GAAG,EAAE;AAACU,cAAAA,GAAG,EAAEnB;AAAN;AAAN,WAAjB,EACCZ,IADD,CACMgC,GAAG,IAAI;AACX/B,YAAAA,OAAO,CAACC,GAAR,CACE,gDADF,EAEEU,YAAY,IAAIA,YAAY,CAACiB,MAF/B;AAID,WAND,EAOCI,KAPD,CAOOC,GAAG,IAAKjC,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBgC,GAAtB,CAPf;AAQD,SAdD;AAeD,OA/BH,EAgCGD,KAhCH,CAgCSC,GAAG,IAAIjC,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCgC,GAAnC,CAhChB;AAiCD,KArCkC,EAsClCD,KAtCkC,CAsC5BC,GAAG,IAAIjC,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCgC,GAApC,CAtCqB,CADrC;AAwCD,GA3CH,EA4CE,IA5CF,EA6CE,IA7CF;AA+CD,CAhDD",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "sourcesContent": [
        "import mongoose from \"mongoose\";\nimport Event from \"./models/event.model\";\nimport PastEventModel from \"./models/pastEvent\";\nimport Cron from \"cron\";\n\nconst CronJob = Cron.CronJob;\n\nmodule.exports = () => {\n  new CronJob(\n    \"* 0 0 * * *\",\n    () => {\n      mongoose\n        .connect(process.env.MONGODB_URI), { useNewUrlParser: true }\n        .then(() => {\n          console.log(\"connected to MongoDB\");\n          const currentDate = new Date();\n          Event.find()\n            .then(events => {\n             const matchingEvents = events.filter(\n                e => new Date(e.eventDateUntil) < currentDate\n              );\n\n              const pastEventIds = matchingEvents.map(i => i.id);\n\n              const addEventsPromises = matchingEvents.map(e => {\n                const newRecord = JSON.parse(JSON.stringify(e));\n                delete newRecord._id;\n                delete newRecord.__v;\n                const newPastEvent = new PastEventModel(newRecord);\n                return newPastEvent.save();\n              });\n\n              Promise.all(addEventsPromises).then(addResArr => {\n                console.log(\n                  \"added all past events to pastEvents collection\",\n                  addResArr && addResArr.length\n                );\n\n                Event.deleteMany({_id: {$in: pastEventIds}})\n                .then(res => {\n                  console.log(\n                    \"removed all past events from events collection\",\n                    pastEventIds && pastEventIds.length\n                  );\n                })\n                .catch(err =>  console.log('errrrr', err));\n              });\n            })\n            .catch(err => console.log(\"err fetching events\", err));\n        })\n        .catch(err => console.log(\"err connecting to DB\", err));\n    },\n    null,\n    true\n  );\n};\n\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1578088240498
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/backend/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/backend/models/pastEvent.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/models/pastEvent.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/backend/models/pastEvent.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/models/pastEvent.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/models",
        "sourceFileName": "pastEvent.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst Schema = _mongoose.default.Schema;\nlet pastEvent = new Schema({\n  eventName: {\n    type: String\n  },\n  eventLocation: {\n    type: String\n  },\n  eventLat: {\n    type: Number\n  },\n  eventLng: {\n    type: Number\n  },\n  eventDateFrom: {\n    type: String\n  },\n  eventDateUntil: {\n    type: String\n  },\n  eventDescr: {\n    type: String\n  },\n  price: {\n    type: Number,\n    default: 0\n  },\n  interest: {\n    type: Number,\n    default: 0\n  },\n  eventPrivate: {\n    type: Boolean,\n    default: false\n  },\n  responsible: {\n    type: String,\n    default: '0000'\n  },\n  status: {\n    type: String,\n    default: 'Open'\n  }\n});\n\nvar _default = _mongoose.default.model('PastEvent', pastEvent, 'past_events');\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhc3RFdmVudC5qcyJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsInBhc3RFdmVudCIsImV2ZW50TmFtZSIsInR5cGUiLCJTdHJpbmciLCJldmVudExvY2F0aW9uIiwiZXZlbnRMYXQiLCJOdW1iZXIiLCJldmVudExuZyIsImV2ZW50RGF0ZUZyb20iLCJldmVudERhdGVVbnRpbCIsImV2ZW50RGVzY3IiLCJwcmljZSIsImRlZmF1bHQiLCJpbnRlcmVzdCIsImV2ZW50UHJpdmF0ZSIsIkJvb2xlYW4iLCJyZXNwb25zaWJsZSIsInN0YXR1cyIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLGtCQUFTRCxNQUF4QjtBQUVBLElBQUlFLFNBQVMsR0FBRyxJQUFJRixNQUFKLENBQVc7QUFDekJHLEVBQUFBLFNBQVMsRUFBRTtBQUNUQyxJQUFBQSxJQUFJLEVBQUVDO0FBREcsR0FEYztBQUl6QkMsRUFBQUEsYUFBYSxFQUFFO0FBQ2JGLElBQUFBLElBQUksRUFBRUM7QUFETyxHQUpVO0FBT3pCRSxFQUFBQSxRQUFRLEVBQUU7QUFDUkgsSUFBQUEsSUFBSSxFQUFFSTtBQURFLEdBUGU7QUFVekJDLEVBQUFBLFFBQVEsRUFBRTtBQUNSTCxJQUFBQSxJQUFJLEVBQUVJO0FBREUsR0FWZTtBQWF6QkUsRUFBQUEsYUFBYSxFQUFFO0FBQ2JOLElBQUFBLElBQUksRUFBRUM7QUFETyxHQWJVO0FBZ0J6Qk0sRUFBQUEsY0FBYyxFQUFFO0FBQ2RQLElBQUFBLElBQUksRUFBRUM7QUFEUSxHQWhCUztBQW1CekJPLEVBQUFBLFVBQVUsRUFBRTtBQUNWUixJQUFBQSxJQUFJLEVBQUVDO0FBREksR0FuQmE7QUFzQnpCUSxFQUFBQSxLQUFLLEVBQUU7QUFDTFQsSUFBQUEsSUFBSSxFQUFFSSxNQUREO0FBRUxNLElBQUFBLE9BQU8sRUFBRTtBQUZKLEdBdEJrQjtBQTBCekJDLEVBQUFBLFFBQVEsRUFBRTtBQUNSWCxJQUFBQSxJQUFJLEVBQUVJLE1BREU7QUFFUk0sSUFBQUEsT0FBTyxFQUFFO0FBRkQsR0ExQmU7QUE4QnpCRSxFQUFBQSxZQUFZLEVBQUU7QUFDWlosSUFBQUEsSUFBSSxFQUFFYSxPQURNO0FBRVpILElBQUFBLE9BQU8sRUFBRTtBQUZHLEdBOUJXO0FBa0N6QkksRUFBQUEsV0FBVyxFQUFFO0FBQ1hkLElBQUFBLElBQUksRUFBRUMsTUFESztBQUVYUyxJQUFBQSxPQUFPLEVBQUU7QUFGRSxHQWxDWTtBQXNDekJLLEVBQUFBLE1BQU0sRUFBRTtBQUNOZixJQUFBQSxJQUFJLEVBQUVDLE1BREE7QUFFTlMsSUFBQUEsT0FBTyxFQUFFO0FBRkg7QUF0Q2lCLENBQVgsQ0FBaEI7O2VBMkNlYixrQkFBU21CLEtBQVQsQ0FBZSxXQUFmLEVBQTRCbEIsU0FBNUIsRUFBdUMsYUFBdkMsQyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvam9uYXRoYW5hdWd1c3Rpbi9EZXNrdG9wL1dlYnNpdGVzL2JhY2tlbmQvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcblxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hO1xuXG5sZXQgcGFzdEV2ZW50ID0gbmV3IFNjaGVtYSh7XG4gIGV2ZW50TmFtZToge1xuICAgIHR5cGU6IFN0cmluZ1xuICB9LFxuICBldmVudExvY2F0aW9uOiB7XG4gICAgdHlwZTogU3RyaW5nXG4gIH0sXG4gIGV2ZW50TGF0OiB7XG4gICAgdHlwZTogTnVtYmVyXG4gIH0sXG4gIGV2ZW50TG5nOiB7XG4gICAgdHlwZTogTnVtYmVyXG4gIH0sXG4gIGV2ZW50RGF0ZUZyb206IHtcbiAgICB0eXBlOiBTdHJpbmdcbiAgfSxcbiAgZXZlbnREYXRlVW50aWw6IHtcbiAgICB0eXBlOiBTdHJpbmdcbiAgfSxcbiAgZXZlbnREZXNjcjoge1xuICAgIHR5cGU6IFN0cmluZ1xuICB9LFxuICBwcmljZToge1xuICAgIHR5cGU6IE51bWJlcixcbiAgICBkZWZhdWx0OiAwXG4gIH0sXG4gIGludGVyZXN0OiB7XG4gICAgdHlwZTogTnVtYmVyLFxuICAgIGRlZmF1bHQ6IDBcbiAgfSxcbiAgZXZlbnRQcml2YXRlOiB7XG4gICAgdHlwZTogQm9vbGVhbixcbiAgICBkZWZhdWx0OiBmYWxzZVxuICB9LFxuICByZXNwb25zaWJsZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBkZWZhdWx0OiAnMDAwMCdcbiAgfSxcbiAgc3RhdHVzOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGRlZmF1bHQ6ICdPcGVuJ1xuICB9XG59KTtcbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVsKCdQYXN0RXZlbnQnLCBwYXN0RXZlbnQsICdwYXN0X2V2ZW50cycpO1xuXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "pastEvent.js"
      ],
      "names": [
        "Schema",
        "mongoose",
        "pastEvent",
        "eventName",
        "type",
        "String",
        "eventLocation",
        "eventLat",
        "Number",
        "eventLng",
        "eventDateFrom",
        "eventDateUntil",
        "eventDescr",
        "price",
        "default",
        "interest",
        "eventPrivate",
        "Boolean",
        "responsible",
        "status",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,MAAM,GAAGC,kBAASD,MAAxB;AAEA,IAAIE,SAAS,GAAG,IAAIF,MAAJ,CAAW;AACzBG,EAAAA,SAAS,EAAE;AACTC,IAAAA,IAAI,EAAEC;AADG,GADc;AAIzBC,EAAAA,aAAa,EAAE;AACbF,IAAAA,IAAI,EAAEC;AADO,GAJU;AAOzBE,EAAAA,QAAQ,EAAE;AACRH,IAAAA,IAAI,EAAEI;AADE,GAPe;AAUzBC,EAAAA,QAAQ,EAAE;AACRL,IAAAA,IAAI,EAAEI;AADE,GAVe;AAazBE,EAAAA,aAAa,EAAE;AACbN,IAAAA,IAAI,EAAEC;AADO,GAbU;AAgBzBM,EAAAA,cAAc,EAAE;AACdP,IAAAA,IAAI,EAAEC;AADQ,GAhBS;AAmBzBO,EAAAA,UAAU,EAAE;AACVR,IAAAA,IAAI,EAAEC;AADI,GAnBa;AAsBzBQ,EAAAA,KAAK,EAAE;AACLT,IAAAA,IAAI,EAAEI,MADD;AAELM,IAAAA,OAAO,EAAE;AAFJ,GAtBkB;AA0BzBC,EAAAA,QAAQ,EAAE;AACRX,IAAAA,IAAI,EAAEI,MADE;AAERM,IAAAA,OAAO,EAAE;AAFD,GA1Be;AA8BzBE,EAAAA,YAAY,EAAE;AACZZ,IAAAA,IAAI,EAAEa,OADM;AAEZH,IAAAA,OAAO,EAAE;AAFG,GA9BW;AAkCzBI,EAAAA,WAAW,EAAE;AACXd,IAAAA,IAAI,EAAEC,MADK;AAEXS,IAAAA,OAAO,EAAE;AAFE,GAlCY;AAsCzBK,EAAAA,MAAM,EAAE;AACNf,IAAAA,IAAI,EAAEC,MADA;AAENS,IAAAA,OAAO,EAAE;AAFH;AAtCiB,CAAX,CAAhB;;eA2Ceb,kBAASmB,KAAT,CAAe,WAAf,EAA4BlB,SAA5B,EAAuC,aAAvC,C",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/models",
      "sourcesContent": [
        "import mongoose from 'mongoose';\n\nconst Schema = mongoose.Schema;\n\nlet pastEvent = new Schema({\n  eventName: {\n    type: String\n  },\n  eventLocation: {\n    type: String\n  },\n  eventLat: {\n    type: Number\n  },\n  eventLng: {\n    type: Number\n  },\n  eventDateFrom: {\n    type: String\n  },\n  eventDateUntil: {\n    type: String\n  },\n  eventDescr: {\n    type: String\n  },\n  price: {\n    type: Number,\n    default: 0\n  },\n  interest: {\n    type: Number,\n    default: 0\n  },\n  eventPrivate: {\n    type: Boolean,\n    default: false\n  },\n  responsible: {\n    type: String,\n    default: '0000'\n  },\n  status: {\n    type: String,\n    default: 'Open'\n  }\n});\nexport default mongoose.model('PastEvent', pastEvent, 'past_events');\n\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1552576583285
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/backend/config\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/backend/config/config.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/config",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/config/config.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/backend/config/config.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/config/config.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/config",
        "sourceFileName": "config.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\n// check env\nvar env = process.env.NONE_ENV || 'development'; // fetch env.con\n\nvar config = require('./config.json');\n\nvar envConfig = config[env]; // add env. config values to process.env\n\nObject.keys(envConfig).forEach(key => process.env[key] = envConfig[key]);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJlbnYiLCJwcm9jZXNzIiwiTk9ORV9FTlYiLCJjb25maWciLCJyZXF1aXJlIiwiZW52Q29uZmlnIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrZXkiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQSxJQUFJQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQ0QsR0FBUixDQUFZRSxRQUFaLElBQXdCLGFBQWxDLEMsQ0FDQTs7QUFDQSxJQUFJQyxNQUFNLEdBQUdDLE9BQU8sQ0FBQyxlQUFELENBQXBCOztBQUNBLElBQUlDLFNBQVMsR0FBR0YsTUFBTSxDQUFDSCxHQUFELENBQXRCLEMsQ0FDQTs7QUFDQU0sTUFBTSxDQUFDQyxJQUFQLENBQVlGLFNBQVosRUFBdUJHLE9BQXZCLENBQStCQyxHQUFHLElBQUlSLE9BQU8sQ0FBQ0QsR0FBUixDQUFZUyxHQUFaLElBQW1CSixTQUFTLENBQUNJLEdBQUQsQ0FBbEUiLCJzb3VyY2VSb290IjoiL1VzZXJzL2pvbmF0aGFuYXVndXN0aW4vRGVza3RvcC9XZWJzaXRlcy9iYWNrZW5kL2NvbmZpZyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGNoZWNrIGVudlxudmFyIGVudiA9IHByb2Nlc3MuZW52Lk5PTkVfRU5WIHx8ICdkZXZlbG9wbWVudCc7XG4vLyBmZXRjaCBlbnYuY29uXG52YXIgY29uZmlnID0gcmVxdWlyZSgnLi9jb25maWcuanNvbicpO1xudmFyIGVudkNvbmZpZyA9IGNvbmZpZ1tlbnZdO1xuLy8gYWRkIGVudi4gY29uZmlnIHZhbHVlcyB0byBwcm9jZXNzLmVudlxuT2JqZWN0LmtleXMoZW52Q29uZmlnKS5mb3JFYWNoKGtleSA9PiBwcm9jZXNzLmVudltrZXldID0gZW52Q29uZmlnW2tleV0pO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "config.js"
      ],
      "names": [
        "env",
        "process",
        "NONE_ENV",
        "config",
        "require",
        "envConfig",
        "Object",
        "keys",
        "forEach",
        "key"
      ],
      "mappings": ";;AAAA;AACA,IAAIA,GAAG,GAAGC,OAAO,CAACD,GAAR,CAAYE,QAAZ,IAAwB,aAAlC,C,CACA;;AACA,IAAIC,MAAM,GAAGC,OAAO,CAAC,eAAD,CAApB;;AACA,IAAIC,SAAS,GAAGF,MAAM,CAACH,GAAD,CAAtB,C,CACA;;AACAM,MAAM,CAACC,IAAP,CAAYF,SAAZ,EAAuBG,OAAvB,CAA+BC,GAAG,IAAIR,OAAO,CAACD,GAAR,CAAYS,GAAZ,IAAmBJ,SAAS,CAACI,GAAD,CAAlE",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/config",
      "sourcesContent": [
        "// check env\nvar env = process.env.NONE_ENV || 'development';\n// fetch env.con\nvar config = require('./config.json');\nvar envConfig = config[env];\n// add env. config values to process.env\nObject.keys(envConfig).forEach(key => process.env[key] = envConfig[key]);\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557273659461
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/backend/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/backend/models/db.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/models/db.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/backend/models/db.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/models/db.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/models",
        "sourceFileName": "db.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst mongoose = require('mongoose');\n\nmongoose.connect(process.env.MONGODB_URI, {\n  useNewUrlParser: true\n}, err => {\n  if (!err) {\n    console.log('MongoDB connection succeeded.');\n  } else {\n    console.log('Error in MongoDB connection : ' + JSON.stringify(err, undefined, 2));\n  }\n});\n\nrequire('./user.model');\n\nrequire('./event.model');\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsImNvbm5lY3QiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09EQl9VUkkiLCJ1c2VOZXdVcmxQYXJzZXIiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiSlNPTiIsInN0cmluZ2lmeSIsInVuZGVmaW5lZCJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFELENBQXhCOztBQUVBRCxRQUFRLENBQUNFLE9BQVQsQ0FBaUJDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxXQUE3QixFQUEwQztBQUFDQyxFQUFBQSxlQUFlLEVBQUU7QUFBbEIsQ0FBMUMsRUFBcUVDLEdBQUQsSUFBUztBQUN6RSxNQUFJLENBQUNBLEdBQUwsRUFBVTtBQUFFQyxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSwrQkFBWjtBQUErQyxHQUEzRCxNQUNLO0FBQUVELElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLG1DQUFtQ0MsSUFBSSxDQUFDQyxTQUFMLENBQWVKLEdBQWYsRUFBb0JLLFNBQXBCLEVBQStCLENBQS9CLENBQS9DO0FBQW9GO0FBQzlGLENBSEQ7O0FBS0FYLE9BQU8sQ0FBQyxjQUFELENBQVA7O0FBQ0FBLE9BQU8sQ0FBQyxlQUFELENBQVAiLCJzb3VyY2VSb290IjoiL1VzZXJzL2pvbmF0aGFuYXVndXN0aW4vRGVza3RvcC9XZWJzaXRlcy9iYWNrZW5kL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcblxubW9uZ29vc2UuY29ubmVjdChwcm9jZXNzLmVudi5NT05HT0RCX1VSSSwge3VzZU5ld1VybFBhcnNlcjogdHJ1ZX0sICAoZXJyKSA9PiB7XG4gICAgaWYgKCFlcnIpIHsgY29uc29sZS5sb2coJ01vbmdvREIgY29ubmVjdGlvbiBzdWNjZWVkZWQuJyk7IH1cbiAgICBlbHNlIHsgY29uc29sZS5sb2coJ0Vycm9yIGluIE1vbmdvREIgY29ubmVjdGlvbiA6ICcgKyBKU09OLnN0cmluZ2lmeShlcnIsIHVuZGVmaW5lZCwgMikpOyB9XG59KTtcblxucmVxdWlyZSgnLi91c2VyLm1vZGVsJyk7XG5yZXF1aXJlKCcuL2V2ZW50Lm1vZGVsJyk7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "db.js"
      ],
      "names": [
        "mongoose",
        "require",
        "connect",
        "process",
        "env",
        "MONGODB_URI",
        "useNewUrlParser",
        "err",
        "console",
        "log",
        "JSON",
        "stringify",
        "undefined"
      ],
      "mappings": ";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AAEAD,QAAQ,CAACE,OAAT,CAAiBC,OAAO,CAACC,GAAR,CAAYC,WAA7B,EAA0C;AAACC,EAAAA,eAAe,EAAE;AAAlB,CAA1C,EAAqEC,GAAD,IAAS;AACzE,MAAI,CAACA,GAAL,EAAU;AAAEC,IAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ;AAA+C,GAA3D,MACK;AAAED,IAAAA,OAAO,CAACC,GAAR,CAAY,mCAAmCC,IAAI,CAACC,SAAL,CAAeJ,GAAf,EAAoBK,SAApB,EAA+B,CAA/B,CAA/C;AAAoF;AAC9F,CAHD;;AAKAX,OAAO,CAAC,cAAD,CAAP;;AACAA,OAAO,CAAC,eAAD,CAAP",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/models",
      "sourcesContent": [
        "const mongoose = require('mongoose');\n\nmongoose.connect(process.env.MONGODB_URI, {useNewUrlParser: true},  (err) => {\n    if (!err) { console.log('MongoDB connection succeeded.'); }\n    else { console.log('Error in MongoDB connection : ' + JSON.stringify(err, undefined, 2)); }\n});\n\nrequire('./user.model');\nrequire('./event.model');\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1571411911020
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/backend/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/backend/models/user.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/models/user.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/backend/models/user.model.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/models/user.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/models",
        "sourceFileName": "user.model.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst mongoose = require('mongoose');\n\nconst bcrypt = require('bcryptjs');\n\nconst jwt = require('jsonwebtoken');\n\nconst Event = require('../models/event.model');\n\nvar Schema = mongoose.Schema;\nvar ObjectId = Schema.ObjectId;\nvar userSchema = new mongoose.Schema({\n  fullName: {\n    type: String,\n    required: 'Full name can\\'t be empty'\n  },\n  email: {\n    type: String,\n    required: 'Email can\\'t be empty',\n    unique: true\n  },\n  password: {\n    type: String,\n    required: 'Password can\\'t be empty',\n    minlength: [6, 'Password must be at least 6 characters long']\n  },\n  relationships: {\n    followers: [{\n      type: String,\n      ref: \"User\"\n    }],\n    following: [{\n      type: String,\n      ref: \"User\"\n    }]\n  },\n  saltSecret: String,\n  posts: {\n    userPosts: [{\n      type: String\n    }]\n  }\n}); //Custom validation for email\n\nuserSchema.path('email').validate(val => {\n  return /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(val);\n}, 'Invalid e-mail.');\nuserSchema.pre('save', function (next) {\n  bcrypt.genSalt(10, (err, salt) => {\n    bcrypt.hash(this.password, salt, (err, hash) => {\n      this.password = hash;\n      this.saltSecret = salt;\n      next();\n    });\n  });\n}); // Methods\n\nuserSchema.methods.verifyPassword = async function (password, hashed_pass) {\n  const saltSecret = this.saltSecret;\n  const isValid = await bcrypt.compare(password, hashed_pass);\n  return isValid;\n};\n\nuserSchema.methods.generateJwt = function () {\n  return jwt.sign({\n    _id: this._id\n  }, process.env.JWT_SECRET, {\n    expiresIn: process.env.JWT_EXP\n  });\n};\n\nmongoose.model('User', userSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIubW9kZWwuanMiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJyZXF1aXJlIiwiYmNyeXB0Iiwiand0IiwiRXZlbnQiLCJTY2hlbWEiLCJPYmplY3RJZCIsInVzZXJTY2hlbWEiLCJmdWxsTmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImVtYWlsIiwidW5pcXVlIiwicGFzc3dvcmQiLCJtaW5sZW5ndGgiLCJyZWxhdGlvbnNoaXBzIiwiZm9sbG93ZXJzIiwicmVmIiwiZm9sbG93aW5nIiwic2FsdFNlY3JldCIsInBvc3RzIiwidXNlclBvc3RzIiwicGF0aCIsInZhbGlkYXRlIiwidmFsIiwidGVzdCIsInByZSIsIm5leHQiLCJnZW5TYWx0IiwiZXJyIiwic2FsdCIsImhhc2giLCJtZXRob2RzIiwidmVyaWZ5UGFzc3dvcmQiLCJoYXNoZWRfcGFzcyIsImlzVmFsaWQiLCJjb21wYXJlIiwiZ2VuZXJhdGVKd3QiLCJzaWduIiwiX2lkIiwicHJvY2VzcyIsImVudiIsIkpXVF9TRUNSRVQiLCJleHBpcmVzSW4iLCJKV1RfRVhQIiwibW9kZWwiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBRCxDQUF4Qjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxVQUFELENBQXRCOztBQUNBLE1BQU1FLEdBQUcsR0FBR0YsT0FBTyxDQUFDLGNBQUQsQ0FBbkI7O0FBQ0EsTUFBTUcsS0FBSyxHQUFHSCxPQUFPLENBQUMsdUJBQUQsQ0FBckI7O0FBRUEsSUFBSUksTUFBTSxHQUFHTCxRQUFRLENBQUNLLE1BQXRCO0FBQ0EsSUFBSUMsUUFBUSxHQUFHRCxNQUFNLENBQUNDLFFBQXRCO0FBRUEsSUFBSUMsVUFBVSxHQUFHLElBQUlQLFFBQVEsQ0FBQ0ssTUFBYixDQUFvQjtBQUNuQ0csRUFBQUEsUUFBUSxFQUFFO0FBQ1JDLElBQUFBLElBQUksRUFBRUMsTUFERTtBQUVSQyxJQUFBQSxRQUFRLEVBQUU7QUFGRixHQUR5QjtBQUtuQ0MsRUFBQUEsS0FBSyxFQUFFO0FBQ0xILElBQUFBLElBQUksRUFBRUMsTUFERDtBQUVMQyxJQUFBQSxRQUFRLEVBQUUsdUJBRkw7QUFHTEUsSUFBQUEsTUFBTSxFQUFFO0FBSEgsR0FMNEI7QUFVbkNDLEVBQUFBLFFBQVEsRUFBRTtBQUNSTCxJQUFBQSxJQUFJLEVBQUVDLE1BREU7QUFFUkMsSUFBQUEsUUFBUSxFQUFFLDBCQUZGO0FBR1JJLElBQUFBLFNBQVMsRUFBRSxDQUFDLENBQUQsRUFBSSw2Q0FBSjtBQUhILEdBVnlCO0FBZW5DQyxFQUFBQSxhQUFhLEVBQUU7QUFDYkMsSUFBQUEsU0FBUyxFQUFFLENBQUM7QUFBRVIsTUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCUSxNQUFBQSxHQUFHLEVBQUU7QUFBckIsS0FBRCxDQURFO0FBRWJDLElBQUFBLFNBQVMsRUFBRSxDQUFDO0FBQUVWLE1BQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQlEsTUFBQUEsR0FBRyxFQUFFO0FBQXJCLEtBQUQ7QUFGRSxHQWZvQjtBQW1CbkNFLEVBQUFBLFVBQVUsRUFBRVYsTUFuQnVCO0FBb0JuQ1csRUFBQUEsS0FBSyxFQUFFO0FBQ0xDLElBQUFBLFNBQVMsRUFBRSxDQUFDO0FBQUViLE1BQUFBLElBQUksRUFBRUM7QUFBUixLQUFEO0FBRE47QUFwQjRCLENBQXBCLENBQWpCLEMsQ0F5QkE7O0FBRUFILFVBQVUsQ0FBQ2dCLElBQVgsQ0FBZ0IsT0FBaEIsRUFBeUJDLFFBQXpCLENBQW1DQyxHQUFELElBQVM7QUFDekMsU0FBTywwSkFBMEpDLElBQTFKLENBQStKRCxHQUEvSixDQUFQO0FBQ0QsQ0FGRCxFQUVHLGlCQUZIO0FBSUFsQixVQUFVLENBQUNvQixHQUFYLENBQWUsTUFBZixFQUF1QixVQUFTQyxJQUFULEVBQWU7QUFDcEMxQixFQUFBQSxNQUFNLENBQUMyQixPQUFQLENBQWUsRUFBZixFQUFtQixDQUFDQyxHQUFELEVBQU1DLElBQU4sS0FBZTtBQUNoQzdCLElBQUFBLE1BQU0sQ0FBQzhCLElBQVAsQ0FBWSxLQUFLbEIsUUFBakIsRUFBMkJpQixJQUEzQixFQUFpQyxDQUFDRCxHQUFELEVBQU1FLElBQU4sS0FBZTtBQUM5QyxXQUFLbEIsUUFBTCxHQUFnQmtCLElBQWhCO0FBQ0EsV0FBS1osVUFBTCxHQUFrQlcsSUFBbEI7QUFDQUgsTUFBQUEsSUFBSTtBQUNMLEtBSkQ7QUFLRCxHQU5EO0FBT0QsQ0FSRCxFLENBVUE7O0FBRUFyQixVQUFVLENBQUMwQixPQUFYLENBQW1CQyxjQUFuQixHQUFvQyxnQkFBZ0JwQixRQUFoQixFQUEwQnFCLFdBQTFCLEVBQXVDO0FBQ3pFLFFBQU1mLFVBQVUsR0FBRyxLQUFLQSxVQUF4QjtBQUNBLFFBQU1nQixPQUFPLEdBQUcsTUFBTWxDLE1BQU0sQ0FBQ21DLE9BQVAsQ0FBZXZCLFFBQWYsRUFBeUJxQixXQUF6QixDQUF0QjtBQUNBLFNBQU9DLE9BQVA7QUFDRCxDQUpEOztBQU1BN0IsVUFBVSxDQUFDMEIsT0FBWCxDQUFtQkssV0FBbkIsR0FBaUMsWUFBWTtBQUMzQyxTQUFPbkMsR0FBRyxDQUFDb0MsSUFBSixDQUFTO0FBQUNDLElBQUFBLEdBQUcsRUFBRSxLQUFLQTtBQUFYLEdBQVQsRUFDUEMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFVBREwsRUFDaUI7QUFDdEJDLElBQUFBLFNBQVMsRUFBRUgsT0FBTyxDQUFDQyxHQUFSLENBQVlHO0FBREQsR0FEakIsQ0FBUDtBQUlELENBTEQ7O0FBTUE3QyxRQUFRLENBQUM4QyxLQUFULENBQWUsTUFBZixFQUF1QnZDLFVBQXZCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9qb25hdGhhbmF1Z3VzdGluL0Rlc2t0b3AvV2Vic2l0ZXMvYmFja2VuZC9tb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKCdiY3J5cHRqcycpO1xuY29uc3Qgand0ID0gcmVxdWlyZSgnanNvbndlYnRva2VuJyk7XG5jb25zdCBFdmVudCA9IHJlcXVpcmUoJy4uL21vZGVscy9ldmVudC5tb2RlbCcpO1xuXG52YXIgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hO1xudmFyIE9iamVjdElkID0gU2NoZW1hLk9iamVjdElkO1xuXG52YXIgdXNlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICBmdWxsTmFtZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogJ0Z1bGwgbmFtZSBjYW5cXCd0IGJlIGVtcHR5J1xuICB9LFxuICBlbWFpbDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogJ0VtYWlsIGNhblxcJ3QgYmUgZW1wdHknLFxuICAgIHVuaXF1ZTogdHJ1ZVxuICB9LFxuICBwYXNzd29yZDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogJ1Bhc3N3b3JkIGNhblxcJ3QgYmUgZW1wdHknLFxuICAgIG1pbmxlbmd0aDogWzYsICdQYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0IDYgY2hhcmFjdGVycyBsb25nJ11cbiAgfSxcbiAgcmVsYXRpb25zaGlwczoge1xuICAgIGZvbGxvd2VyczogW3sgdHlwZTogU3RyaW5nLCByZWY6IFwiVXNlclwiIH1dLFxuICAgIGZvbGxvd2luZzogW3sgdHlwZTogU3RyaW5nLCByZWY6IFwiVXNlclwiIH1dXG4gIH0sXG4gIHNhbHRTZWNyZXQ6IFN0cmluZyxcbiAgcG9zdHM6IHtcbiAgICB1c2VyUG9zdHM6IFt7IHR5cGU6IFN0cmluZ31dXG4gIH1cbn0pO1xuXG4vL0N1c3RvbSB2YWxpZGF0aW9uIGZvciBlbWFpbFxuXG51c2VyU2NoZW1hLnBhdGgoJ2VtYWlsJykudmFsaWRhdGUoKHZhbCkgPT4ge1xuICByZXR1cm4gL14oKFtePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFxdKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLy50ZXN0KHZhbCk7XG59LCAnSW52YWxpZCBlLW1haWwuJyk7XG5cbnVzZXJTY2hlbWEucHJlKCdzYXZlJywgZnVuY3Rpb24obmV4dCkge1xuICBiY3J5cHQuZ2VuU2FsdCgxMCwgKGVyciwgc2FsdCkgPT4ge1xuICAgIGJjcnlwdC5oYXNoKHRoaXMucGFzc3dvcmQsIHNhbHQsIChlcnIsIGhhc2gpID0+IHtcbiAgICAgIHRoaXMucGFzc3dvcmQgPSBoYXNoO1xuICAgICAgdGhpcy5zYWx0U2VjcmV0ID0gc2FsdDtcbiAgICAgIG5leHQoKTtcbiAgICB9KVxuICB9KVxufSlcblxuLy8gTWV0aG9kc1xuXG51c2VyU2NoZW1hLm1ldGhvZHMudmVyaWZ5UGFzc3dvcmQgPSBhc3luYyBmdW5jdGlvbiAocGFzc3dvcmQsIGhhc2hlZF9wYXNzKSB7XG4gIGNvbnN0IHNhbHRTZWNyZXQgPSB0aGlzLnNhbHRTZWNyZXQ7XG4gIGNvbnN0IGlzVmFsaWQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgaGFzaGVkX3Bhc3MpO1xuICByZXR1cm4gaXNWYWxpZDtcbn1cblxudXNlclNjaGVtYS5tZXRob2RzLmdlbmVyYXRlSnd0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gand0LnNpZ24oe19pZDogdGhpcy5faWR9LFxuICBwcm9jZXNzLmVudi5KV1RfU0VDUkVULCB7XG4gICAgZXhwaXJlc0luOiBwcm9jZXNzLmVudi5KV1RfRVhQXG4gIH0pO1xufVxubW9uZ29vc2UubW9kZWwoJ1VzZXInLCB1c2VyU2NoZW1hKTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "user.model.js"
      ],
      "names": [
        "mongoose",
        "require",
        "bcrypt",
        "jwt",
        "Event",
        "Schema",
        "ObjectId",
        "userSchema",
        "fullName",
        "type",
        "String",
        "required",
        "email",
        "unique",
        "password",
        "minlength",
        "relationships",
        "followers",
        "ref",
        "following",
        "saltSecret",
        "posts",
        "userPosts",
        "path",
        "validate",
        "val",
        "test",
        "pre",
        "next",
        "genSalt",
        "err",
        "salt",
        "hash",
        "methods",
        "verifyPassword",
        "hashed_pass",
        "isValid",
        "compare",
        "generateJwt",
        "sign",
        "_id",
        "process",
        "env",
        "JWT_SECRET",
        "expiresIn",
        "JWT_EXP",
        "model"
      ],
      "mappings": ";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAMC,MAAM,GAAGD,OAAO,CAAC,UAAD,CAAtB;;AACA,MAAME,GAAG,GAAGF,OAAO,CAAC,cAAD,CAAnB;;AACA,MAAMG,KAAK,GAAGH,OAAO,CAAC,uBAAD,CAArB;;AAEA,IAAII,MAAM,GAAGL,QAAQ,CAACK,MAAtB;AACA,IAAIC,QAAQ,GAAGD,MAAM,CAACC,QAAtB;AAEA,IAAIC,UAAU,GAAG,IAAIP,QAAQ,CAACK,MAAb,CAAoB;AACnCG,EAAAA,QAAQ,EAAE;AACRC,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE;AAFF,GADyB;AAKnCC,EAAAA,KAAK,EAAE;AACLH,IAAAA,IAAI,EAAEC,MADD;AAELC,IAAAA,QAAQ,EAAE,uBAFL;AAGLE,IAAAA,MAAM,EAAE;AAHH,GAL4B;AAUnCC,EAAAA,QAAQ,EAAE;AACRL,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE,0BAFF;AAGRI,IAAAA,SAAS,EAAE,CAAC,CAAD,EAAI,6CAAJ;AAHH,GAVyB;AAenCC,EAAAA,aAAa,EAAE;AACbC,IAAAA,SAAS,EAAE,CAAC;AAAER,MAAAA,IAAI,EAAEC,MAAR;AAAgBQ,MAAAA,GAAG,EAAE;AAArB,KAAD,CADE;AAEbC,IAAAA,SAAS,EAAE,CAAC;AAAEV,MAAAA,IAAI,EAAEC,MAAR;AAAgBQ,MAAAA,GAAG,EAAE;AAArB,KAAD;AAFE,GAfoB;AAmBnCE,EAAAA,UAAU,EAAEV,MAnBuB;AAoBnCW,EAAAA,KAAK,EAAE;AACLC,IAAAA,SAAS,EAAE,CAAC;AAAEb,MAAAA,IAAI,EAAEC;AAAR,KAAD;AADN;AApB4B,CAApB,CAAjB,C,CAyBA;;AAEAH,UAAU,CAACgB,IAAX,CAAgB,OAAhB,EAAyBC,QAAzB,CAAmCC,GAAD,IAAS;AACzC,SAAO,0JAA0JC,IAA1J,CAA+JD,GAA/J,CAAP;AACD,CAFD,EAEG,iBAFH;AAIAlB,UAAU,CAACoB,GAAX,CAAe,MAAf,EAAuB,UAASC,IAAT,EAAe;AACpC1B,EAAAA,MAAM,CAAC2B,OAAP,CAAe,EAAf,EAAmB,CAACC,GAAD,EAAMC,IAAN,KAAe;AAChC7B,IAAAA,MAAM,CAAC8B,IAAP,CAAY,KAAKlB,QAAjB,EAA2BiB,IAA3B,EAAiC,CAACD,GAAD,EAAME,IAAN,KAAe;AAC9C,WAAKlB,QAAL,GAAgBkB,IAAhB;AACA,WAAKZ,UAAL,GAAkBW,IAAlB;AACAH,MAAAA,IAAI;AACL,KAJD;AAKD,GAND;AAOD,CARD,E,CAUA;;AAEArB,UAAU,CAAC0B,OAAX,CAAmBC,cAAnB,GAAoC,gBAAgBpB,QAAhB,EAA0BqB,WAA1B,EAAuC;AACzE,QAAMf,UAAU,GAAG,KAAKA,UAAxB;AACA,QAAMgB,OAAO,GAAG,MAAMlC,MAAM,CAACmC,OAAP,CAAevB,QAAf,EAAyBqB,WAAzB,CAAtB;AACA,SAAOC,OAAP;AACD,CAJD;;AAMA7B,UAAU,CAAC0B,OAAX,CAAmBK,WAAnB,GAAiC,YAAY;AAC3C,SAAOnC,GAAG,CAACoC,IAAJ,CAAS;AAACC,IAAAA,GAAG,EAAE,KAAKA;AAAX,GAAT,EACPC,OAAO,CAACC,GAAR,CAAYC,UADL,EACiB;AACtBC,IAAAA,SAAS,EAAEH,OAAO,CAACC,GAAR,CAAYG;AADD,GADjB,CAAP;AAID,CALD;;AAMA7C,QAAQ,CAAC8C,KAAT,CAAe,MAAf,EAAuBvC,UAAvB",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/models",
      "sourcesContent": [
        "const mongoose = require('mongoose');\nconst bcrypt = require('bcryptjs');\nconst jwt = require('jsonwebtoken');\nconst Event = require('../models/event.model');\n\nvar Schema = mongoose.Schema;\nvar ObjectId = Schema.ObjectId;\n\nvar userSchema = new mongoose.Schema({\n  fullName: {\n    type: String,\n    required: 'Full name can\\'t be empty'\n  },\n  email: {\n    type: String,\n    required: 'Email can\\'t be empty',\n    unique: true\n  },\n  password: {\n    type: String,\n    required: 'Password can\\'t be empty',\n    minlength: [6, 'Password must be at least 6 characters long']\n  },\n  relationships: {\n    followers: [{ type: String, ref: \"User\" }],\n    following: [{ type: String, ref: \"User\" }]\n  },\n  saltSecret: String,\n  posts: {\n    userPosts: [{ type: String}]\n  }\n});\n\n//Custom validation for email\n\nuserSchema.path('email').validate((val) => {\n  return /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(val);\n}, 'Invalid e-mail.');\n\nuserSchema.pre('save', function(next) {\n  bcrypt.genSalt(10, (err, salt) => {\n    bcrypt.hash(this.password, salt, (err, hash) => {\n      this.password = hash;\n      this.saltSecret = salt;\n      next();\n    })\n  })\n})\n\n// Methods\n\nuserSchema.methods.verifyPassword = async function (password, hashed_pass) {\n  const saltSecret = this.saltSecret;\n  const isValid = await bcrypt.compare(password, hashed_pass);\n  return isValid;\n}\n\nuserSchema.methods.generateJwt = function () {\n  return jwt.sign({_id: this._id},\n  process.env.JWT_SECRET, {\n    expiresIn: process.env.JWT_EXP\n  });\n}\nmongoose.model('User', userSchema);\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1580451530546
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/backend/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/backend/models/event.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/models/event.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/backend/models/event.model.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/models/event.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/models",
        "sourceFileName": "event.model.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst mongoose = require(\"mongoose\");\n\nconst Schema = mongoose.Schema;\nlet Event = new Schema({\n  eventName: {\n    type: String\n  },\n  location: {\n    type: String\n  },\n  lat: {\n    type: Number\n  },\n  long: {\n    type: Number\n  },\n  startDate: {\n    type: String\n  },\n  eventDateUntil: {\n    type: String\n  },\n  info: {\n    type: String\n  },\n  price: {\n    type: Number,\n    default: 0\n  },\n  interest: {\n    type: Number,\n    default: 0\n  },\n  eventPrivate: {\n    type: Boolean,\n    default: false\n  },\n  promoter: {\n    /*     required: true */\n  },\n  status: {\n    type: String,\n    default: 'Open'\n  }\n});\nmodule.exports = mongoose.model('Event', Event);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV2ZW50Lm1vZGVsLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsIlNjaGVtYSIsIkV2ZW50IiwiZXZlbnROYW1lIiwidHlwZSIsIlN0cmluZyIsImxvY2F0aW9uIiwibGF0IiwiTnVtYmVyIiwibG9uZyIsInN0YXJ0RGF0ZSIsImV2ZW50RGF0ZVVudGlsIiwiaW5mbyIsInByaWNlIiwiZGVmYXVsdCIsImludGVyZXN0IiwiZXZlbnRQcml2YXRlIiwiQm9vbGVhbiIsInByb21vdGVyIiwic3RhdHVzIiwibW9kdWxlIiwiZXhwb3J0cyIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBeEI7O0FBR0EsTUFBTUMsTUFBTSxHQUFHRixRQUFRLENBQUNFLE1BQXhCO0FBRUEsSUFBSUMsS0FBSyxHQUFHLElBQUlELE1BQUosQ0FBVztBQUNyQkUsRUFBQUEsU0FBUyxFQUFFO0FBQ1RDLElBQUFBLElBQUksRUFBRUM7QUFERyxHQURVO0FBSXJCQyxFQUFBQSxRQUFRLEVBQUU7QUFDUkYsSUFBQUEsSUFBSSxFQUFFQztBQURFLEdBSlc7QUFPckJFLEVBQUFBLEdBQUcsRUFBRTtBQUNISCxJQUFBQSxJQUFJLEVBQUVJO0FBREgsR0FQZ0I7QUFVckJDLEVBQUFBLElBQUksRUFBRTtBQUNKTCxJQUFBQSxJQUFJLEVBQUVJO0FBREYsR0FWZTtBQWFyQkUsRUFBQUEsU0FBUyxFQUFFO0FBQ1ROLElBQUFBLElBQUksRUFBRUM7QUFERyxHQWJVO0FBZ0JyQk0sRUFBQUEsY0FBYyxFQUFFO0FBQ2RQLElBQUFBLElBQUksRUFBRUM7QUFEUSxHQWhCSztBQW1CckJPLEVBQUFBLElBQUksRUFBRTtBQUNKUixJQUFBQSxJQUFJLEVBQUVDO0FBREYsR0FuQmU7QUFzQnJCUSxFQUFBQSxLQUFLLEVBQUU7QUFDTFQsSUFBQUEsSUFBSSxFQUFFSSxNQUREO0FBRUxNLElBQUFBLE9BQU8sRUFBRTtBQUZKLEdBdEJjO0FBMEJyQkMsRUFBQUEsUUFBUSxFQUFFO0FBQ1JYLElBQUFBLElBQUksRUFBRUksTUFERTtBQUVSTSxJQUFBQSxPQUFPLEVBQUU7QUFGRCxHQTFCVztBQThCckJFLEVBQUFBLFlBQVksRUFBRTtBQUNaWixJQUFBQSxJQUFJLEVBQUVhLE9BRE07QUFFWkgsSUFBQUEsT0FBTyxFQUFFO0FBRkcsR0E5Qk87QUFrQ3JCSSxFQUFBQSxRQUFRLEVBQUU7QUFDWjtBQURZLEdBbENXO0FBcUNyQkMsRUFBQUEsTUFBTSxFQUFFO0FBQ05mLElBQUFBLElBQUksRUFBRUMsTUFEQTtBQUVOUyxJQUFBQSxPQUFPLEVBQUU7QUFGSDtBQXJDYSxDQUFYLENBQVo7QUEyQ0FNLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnRCLFFBQVEsQ0FBQ3VCLEtBQVQsQ0FBZSxPQUFmLEVBQXdCcEIsS0FBeEIsQ0FBakIiLCJzb3VyY2VSb290IjoiL1VzZXJzL2pvbmF0aGFuYXVndXN0aW4vRGVza3RvcC9XZWJzaXRlcy9iYWNrZW5kL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZShcIm1vbmdvb3NlXCIpO1xuXG5cbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYTtcblxubGV0IEV2ZW50ID0gbmV3IFNjaGVtYSh7XG4gIGV2ZW50TmFtZToge1xuICAgIHR5cGU6IFN0cmluZ1xuICB9LFxuICBsb2NhdGlvbjoge1xuICAgIHR5cGU6IFN0cmluZ1xuICB9LFxuICBsYXQ6IHtcbiAgICB0eXBlOiBOdW1iZXJcbiAgfSxcbiAgbG9uZzoge1xuICAgIHR5cGU6IE51bWJlclxuICB9LFxuICBzdGFydERhdGU6IHtcbiAgICB0eXBlOiBTdHJpbmdcbiAgfSxcbiAgZXZlbnREYXRlVW50aWw6IHtcbiAgICB0eXBlOiBTdHJpbmdcbiAgfSxcbiAgaW5mbzoge1xuICAgIHR5cGU6IFN0cmluZ1xuICB9LFxuICBwcmljZToge1xuICAgIHR5cGU6IE51bWJlcixcbiAgICBkZWZhdWx0OiAwXG4gIH0sXG4gIGludGVyZXN0OiB7XG4gICAgdHlwZTogTnVtYmVyLFxuICAgIGRlZmF1bHQ6IDBcbiAgfSxcbiAgZXZlbnRQcml2YXRlOiB7XG4gICAgdHlwZTogQm9vbGVhbixcbiAgICBkZWZhdWx0OiBmYWxzZVxuICB9LFxuICBwcm9tb3Rlcjoge1xuLyogICAgIHJlcXVpcmVkOiB0cnVlICovXG4gIH0sXG4gIHN0YXR1czoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBkZWZhdWx0OiAnT3BlbidcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gbW9uZ29vc2UubW9kZWwoJ0V2ZW50JywgRXZlbnQpXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "event.model.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Schema",
        "Event",
        "eventName",
        "type",
        "String",
        "location",
        "lat",
        "Number",
        "long",
        "startDate",
        "eventDateUntil",
        "info",
        "price",
        "default",
        "interest",
        "eventPrivate",
        "Boolean",
        "promoter",
        "status",
        "module",
        "exports",
        "model"
      ],
      "mappings": ";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AAGA,MAAMC,MAAM,GAAGF,QAAQ,CAACE,MAAxB;AAEA,IAAIC,KAAK,GAAG,IAAID,MAAJ,CAAW;AACrBE,EAAAA,SAAS,EAAE;AACTC,IAAAA,IAAI,EAAEC;AADG,GADU;AAIrBC,EAAAA,QAAQ,EAAE;AACRF,IAAAA,IAAI,EAAEC;AADE,GAJW;AAOrBE,EAAAA,GAAG,EAAE;AACHH,IAAAA,IAAI,EAAEI;AADH,GAPgB;AAUrBC,EAAAA,IAAI,EAAE;AACJL,IAAAA,IAAI,EAAEI;AADF,GAVe;AAarBE,EAAAA,SAAS,EAAE;AACTN,IAAAA,IAAI,EAAEC;AADG,GAbU;AAgBrBM,EAAAA,cAAc,EAAE;AACdP,IAAAA,IAAI,EAAEC;AADQ,GAhBK;AAmBrBO,EAAAA,IAAI,EAAE;AACJR,IAAAA,IAAI,EAAEC;AADF,GAnBe;AAsBrBQ,EAAAA,KAAK,EAAE;AACLT,IAAAA,IAAI,EAAEI,MADD;AAELM,IAAAA,OAAO,EAAE;AAFJ,GAtBc;AA0BrBC,EAAAA,QAAQ,EAAE;AACRX,IAAAA,IAAI,EAAEI,MADE;AAERM,IAAAA,OAAO,EAAE;AAFD,GA1BW;AA8BrBE,EAAAA,YAAY,EAAE;AACZZ,IAAAA,IAAI,EAAEa,OADM;AAEZH,IAAAA,OAAO,EAAE;AAFG,GA9BO;AAkCrBI,EAAAA,QAAQ,EAAE;AACZ;AADY,GAlCW;AAqCrBC,EAAAA,MAAM,EAAE;AACNf,IAAAA,IAAI,EAAEC,MADA;AAENS,IAAAA,OAAO,EAAE;AAFH;AArCa,CAAX,CAAZ;AA2CAM,MAAM,CAACC,OAAP,GAAiBtB,QAAQ,CAACuB,KAAT,CAAe,OAAf,EAAwBpB,KAAxB,CAAjB",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/models",
      "sourcesContent": [
        "const mongoose = require(\"mongoose\");\n\n\nconst Schema = mongoose.Schema;\n\nlet Event = new Schema({\n  eventName: {\n    type: String\n  },\n  location: {\n    type: String\n  },\n  lat: {\n    type: Number\n  },\n  long: {\n    type: Number\n  },\n  startDate: {\n    type: String\n  },\n  eventDateUntil: {\n    type: String\n  },\n  info: {\n    type: String\n  },\n  price: {\n    type: Number,\n    default: 0\n  },\n  interest: {\n    type: Number,\n    default: 0\n  },\n  eventPrivate: {\n    type: Boolean,\n    default: false\n  },\n  promoter: {\n/*     required: true */\n  },\n  status: {\n    type: String,\n    default: 'Open'\n  }\n});\n\nmodule.exports = mongoose.model('Event', Event)\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1578431118000
  },
  "{\"sourceRoot\":\"/Users/jonathanaugustin/Desktop/Websites/backend/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"filename\":\"/Users/jonathanaugustin/Desktop/Websites/backend/routes/index.routes.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jonathanaugustin/Desktop/Websites/backend\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-dynamic-import\",\"visitor\":{},\"options\":{}},{\"key\":\"proposal-export-default-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.7.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/routes/index.routes.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jonathanaugustin/Desktop/Websites/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-dynamic-import",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "proposal-export-default-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jonathanaugustin/Desktop/Websites/backend/routes/index.routes.js",
        "plugins": [
          "objectRestSpread",
          "classProperties",
          "classPrivateProperties",
          "dynamicImport",
          "exportDefaultFrom",
          "optionalChaining",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jonathanaugustin/Desktop/Websites/backend/routes/index.routes.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/routes",
        "sourceFileName": "index.routes.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst express = require('express');\n\nconst router = express.Router();\n\nconst ctrlUser = require('../controllers/user.controller');\n\nconst ctrlEvent = require('../controllers/event.controller');\n\nconst jwtHelper = require('../config/jwtHelper');\n\nrouter.route('/test').post(jwtHelper.verifyJwtToken, (req, res) => {\n  console.log('yes');\n  console.log('req.body:', req.body);\n  res.status(200).send(req.body);\n});\nrouter.post('/register', ctrlUser.register);\nrouter.post('/authenticate', ctrlUser.authenticate);\nrouter.post('/refresh', ctrlUser.refresh);\nrouter.post('/logout', ctrlUser.logout);\nrouter.get('/userProfile', jwtHelper.verifyJwtToken, ctrlUser.userProfile);\nrouter.get('/users', jwtHelper.verifyJwtToken, ctrlUser.users);\nrouter.post('/posts', jwtHelper.verifyJwtToken, ctrlUser.posts);\nrouter.post('/ticketmaster-events', ctrlEvent.tmEvents);\nrouter.get('/users2', ctrlUser.users);\nrouter.get(\"/profile/:email\", ctrlUser.friendProfile);\nrouter.post('/follow', jwtHelper.verifyJwtToken, ctrlUser.follow);\nrouter.get('/events', ctrlEvent.events);\nrouter.post('/events/add', jwtHelper.verifyJwtToken, ctrlEvent.addEvent);\nrouter.post('/events/upload', ctrlEvent.uploadFiles);\nrouter.route('/events/:id').get((req, res) => {\n  Event.findById(req.params.id, (err, event) => {\n    if (err) console.log(err);else res.json(event);\n  });\n});\nrouter.route('/events/update/:id').post((req, res) => {\n  Event.findById(req.params.id, (err, event) => {\n    if (!event) return next(new Error('Could not load document'));else {\n      // This may change here\n      event.eventName = req.body.eventName;\n      event.eventLocation = req.body.eventLocation;\n      event.eventLat = req.body.eventLat;\n      event.eventLng = req.body.eventLng;\n      event.eventDateFrom = req.body.eventDateFrom;\n      event.eventDateUntil = req.body.eventDateUntil;\n      event.eventDescr = req.body.eventDescr;\n      event.price = req.body.price;\n      event.eventPrivate = req.body.eventPrivate;\n      event.interest = req.body.interest;\n      event.save().then(event => {\n        res.json('Update done');\n      }).catch(err => {\n        res.status(400).send('Update failed');\n      });\n    }\n  });\n});\nrouter.route('/events/delete/:id').get((req, res) => {\n  Event.findByIdAndRemove({\n    _id: req.params.id\n  }, (err, event) => {\n    if (err) res.json(err);else res.json('Remove successfully');\n  });\n});\n/* router.post('/unfollow', function(req, res) {\n    const user_id = req.user._id;\n    const to_follow_id = req.body.follow_id;\n\n    let bulk = Follow.collection.initializeUnorderedBulkOp();\n\n    bulk.find({ 'user': Types.ObjectId(user_id) }).upsert().updateOne({\n        $pull: {\n            following: Types.ObjectId(to_follow_id)\n        }\n    });\n\n    bulk.find({ 'user': Types.ObjectId(to_follow_id) }).upsert().updateOne({\n        $pull: {\n            followers: Types.ObjectId(user_id)\n        }\n    })\n\n    bulk.execute(function(err, doc) {\n        if (err) {\n            return res.json({\n                'state': false,\n                'msg': err\n            })\n        }\n        res.json({\n            'state': true,\n            'msg': 'Unfollowed'\n        })\n    })\n}) */\n\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnJvdXRlcy5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImN0cmxVc2VyIiwiY3RybEV2ZW50Iiwiand0SGVscGVyIiwicm91dGUiLCJwb3N0IiwidmVyaWZ5Snd0VG9rZW4iLCJyZXEiLCJyZXMiLCJjb25zb2xlIiwibG9nIiwiYm9keSIsInN0YXR1cyIsInNlbmQiLCJyZWdpc3RlciIsImF1dGhlbnRpY2F0ZSIsInJlZnJlc2giLCJsb2dvdXQiLCJnZXQiLCJ1c2VyUHJvZmlsZSIsInVzZXJzIiwicG9zdHMiLCJ0bUV2ZW50cyIsImZyaWVuZFByb2ZpbGUiLCJmb2xsb3ciLCJldmVudHMiLCJhZGRFdmVudCIsInVwbG9hZEZpbGVzIiwiRXZlbnQiLCJmaW5kQnlJZCIsInBhcmFtcyIsImlkIiwiZXJyIiwiZXZlbnQiLCJqc29uIiwibmV4dCIsIkVycm9yIiwiZXZlbnROYW1lIiwiZXZlbnRMb2NhdGlvbiIsImV2ZW50TGF0IiwiZXZlbnRMbmciLCJldmVudERhdGVGcm9tIiwiZXZlbnREYXRlVW50aWwiLCJldmVudERlc2NyIiwicHJpY2UiLCJldmVudFByaXZhdGUiLCJpbnRlcmVzdCIsInNhdmUiLCJ0aGVuIiwiY2F0Y2giLCJmaW5kQnlJZEFuZFJlbW92ZSIsIl9pZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBUixFQUFmOztBQUVBLE1BQU1DLFFBQVEsR0FBR0gsT0FBTyxDQUFDLGdDQUFELENBQXhCOztBQUNBLE1BQU1JLFNBQVMsR0FBR0osT0FBTyxDQUFDLGlDQUFELENBQXpCOztBQUdBLE1BQU1LLFNBQVMsR0FBR0wsT0FBTyxDQUFDLHFCQUFELENBQXpCOztBQUNBQyxNQUFNLENBQUNLLEtBQVAsQ0FBYSxPQUFiLEVBQXNC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RUFBTUMsR0FBTixLQUFjO0FBQ25Eb0IsRUFBQUEsS0FBSyxDQUFDc0IsaUJBQU4sQ0FBd0I7QUFBQ0MsSUFBQUEsR0FBRyxFQUFFNUMsR0FBRyxDQUFDdUIsTUFBSixDQUFXQztBQUFqQixHQUF4QixFQUE4QyxDQUFDQyxHQUFELEVBQU1DLEtBQU4sS0FBZ0I7QUFDNUQsUUFBSUQsR0FBSixFQUNFeEIsR0FBRyxDQUFDMEIsSUFBSixDQUFTRixHQUFULEVBREYsS0FHRXhCLEdBQUcsQ0FBQzBCLElBQUosQ0FBUyxxQkFBVDtBQUNILEdBTEQ7QUFNRCxDQVBEO0FBU0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBZ0NBa0IsTUFBTSxDQUFDQyxPQUFQLEdBQWlCdEQsTUFBakIiLCJzb3VyY2VSb290IjoiL1VzZXJzL2pvbmF0aGFuYXVndXN0aW4vRGVza3RvcC9XZWJzaXRlcy9iYWNrZW5kL3JvdXRlcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5jb25zdCBjdHJsVXNlciA9IHJlcXVpcmUoJy4uL2NvbnRyb2xsZXJzL3VzZXIuY29udHJvbGxlcicpO1xuY29uc3QgY3RybEV2ZW50ID0gcmVxdWlyZSgnLi4vY29udHJvbGxlcnMvZXZlbnQuY29udHJvbGxlcicpO1xuXG5cbmNvbnN0IGp3dEhlbHBlciA9IHJlcXVpcmUoJy4uL2NvbmZpZy9qd3RIZWxwZXInKTtcbnJvdXRlci5yb3V0ZSgnL3Rlc3QnKS5wb3N0KGp3dEhlbHBlci52ZXJpZnlKd3RUb2tlbiwgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnNvbGUubG9nKCd5ZXMnKTtcbiAgY29uc29sZS5sb2coJ3JlcS5ib2R5OicsIHJlcS5ib2R5KTtcbiAgcmVzLnN0YXR1cygyMDApLnNlbmQocmVxLmJvZHkpO1xufSk7XG5yb3V0ZXIucG9zdCgnL3JlZ2lzdGVyJywgY3RybFVzZXIucmVnaXN0ZXIpO1xucm91dGVyLnBvc3QoJy9hdXRoZW50aWNhdGUnLCBjdHJsVXNlci5hdXRoZW50aWNhdGUpO1xucm91dGVyLnBvc3QoJy9yZWZyZXNoJywgY3RybFVzZXIucmVmcmVzaCk7XG5yb3V0ZXIucG9zdCgnL2xvZ291dCcsIGN0cmxVc2VyLmxvZ291dCk7XG5yb3V0ZXIuZ2V0KCcvdXNlclByb2ZpbGUnLCBqd3RIZWxwZXIudmVyaWZ5Snd0VG9rZW4sIGN0cmxVc2VyLnVzZXJQcm9maWxlKTtcbnJvdXRlci5nZXQoJy91c2VycycsIGp3dEhlbHBlci52ZXJpZnlKd3RUb2tlbiwgY3RybFVzZXIudXNlcnMpO1xucm91dGVyLnBvc3QoJy9wb3N0cycsIGp3dEhlbHBlci52ZXJpZnlKd3RUb2tlbiwgY3RybFVzZXIucG9zdHMpO1xucm91dGVyLnBvc3QoJy90aWNrZXRtYXN0ZXItZXZlbnRzJywgY3RybEV2ZW50LnRtRXZlbnRzKTtcbnJvdXRlci5nZXQoJy91c2VyczInLCBjdHJsVXNlci51c2Vycyk7XG5yb3V0ZXIuZ2V0KFwiL3Byb2ZpbGUvOmVtYWlsXCIsIGN0cmxVc2VyLmZyaWVuZFByb2ZpbGUpO1xucm91dGVyLnBvc3QoJy9mb2xsb3cnLCBqd3RIZWxwZXIudmVyaWZ5Snd0VG9rZW4sIGN0cmxVc2VyLmZvbGxvdyk7XG5yb3V0ZXIuZ2V0KCcvZXZlbnRzJywgY3RybEV2ZW50LmV2ZW50cyk7XG5yb3V0ZXIucG9zdCgnL2V2ZW50cy9hZGQnLCBqd3RIZWxwZXIudmVyaWZ5Snd0VG9rZW4sIGN0cmxFdmVudC5hZGRFdmVudCk7XG5yb3V0ZXIucG9zdCgnL2V2ZW50cy91cGxvYWQnLCBjdHJsRXZlbnQudXBsb2FkRmlsZXMpO1xucm91dGVyLnJvdXRlKCcvZXZlbnRzLzppZCcpLmdldCgocmVxLCByZXMpID0+IHtcbiAgRXZlbnQuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCwgKGVyciwgZXZlbnQpID0+IHtcbiAgICBpZiAoZXJyKVxuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICBlbHNlXG4gICAgICByZXMuanNvbihldmVudCk7XG4gIH0pO1xufSk7XG5cbnJvdXRlci5yb3V0ZSgnL2V2ZW50cy91cGRhdGUvOmlkJykucG9zdCgocmVxLCByZXMpID0+IHtcbiAgRXZlbnQuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCwgKGVyciwgZXZlbnQpID0+IHtcbiAgICBpZiAoIWV2ZW50KVxuICAgICAgcmV0dXJuIG5leHQobmV3IEVycm9yKCdDb3VsZCBub3QgbG9hZCBkb2N1bWVudCcpKTtcbiAgICBlbHNle1xuICAgICAgLy8gVGhpcyBtYXkgY2hhbmdlIGhlcmVcbiAgICAgIGV2ZW50LmV2ZW50TmFtZT0gcmVxLmJvZHkuZXZlbnROYW1lO1xuICAgICAgZXZlbnQuZXZlbnRMb2NhdGlvbj0gcmVxLmJvZHkuZXZlbnRMb2NhdGlvbjtcbiAgICAgIGV2ZW50LmV2ZW50TGF0PSByZXEuYm9keS5ldmVudExhdDtcbiAgICAgIGV2ZW50LmV2ZW50TG5nPSByZXEuYm9keS5ldmVudExuZztcbiAgICAgIGV2ZW50LmV2ZW50RGF0ZUZyb209IHJlcS5ib2R5LmV2ZW50RGF0ZUZyb207XG4gICAgICBldmVudC5ldmVudERhdGVVbnRpbD0gcmVxLmJvZHkuZXZlbnREYXRlVW50aWw7XG4gICAgICBldmVudC5ldmVudERlc2NyPSByZXEuYm9keS5ldmVudERlc2NyO1xuICAgICAgZXZlbnQucHJpY2U9IHJlcS5ib2R5LnByaWNlO1xuICAgICAgZXZlbnQuZXZlbnRQcml2YXRlPSByZXEuYm9keS5ldmVudFByaXZhdGU7XG4gICAgICBldmVudC5pbnRlcmVzdD0gcmVxLmJvZHkuaW50ZXJlc3Q7XG5cbiAgICAgIGV2ZW50LnNhdmUoKS50aGVuKGV2ZW50ID0+IHtcbiAgICAgICAgcmVzLmpzb24oJ1VwZGF0ZSBkb25lJyk7XG4gICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICByZXMuc3RhdHVzKDQwMCkuc2VuZCgnVXBkYXRlIGZhaWxlZCcpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn0pO1xuXG5yb3V0ZXIucm91dGUoJy9ldmVudHMvZGVsZXRlLzppZCcpLmdldCgocmVxLCByZXMpID0+IHtcbiAgRXZlbnQuZmluZEJ5SWRBbmRSZW1vdmUoe19pZDogcmVxLnBhcmFtcy5pZH0sIChlcnIsIGV2ZW50KSA9PiB7XG4gICAgaWYgKGVycilcbiAgICAgIHJlcy5qc29uKGVycik7XG4gICAgZWxzZVxuICAgICAgcmVzLmpzb24oJ1JlbW92ZSBzdWNjZXNzZnVsbHknKTtcbiAgfSlcbn0pXG5cbi8qIHJvdXRlci5wb3N0KCcvdW5mb2xsb3cnLCBmdW5jdGlvbihyZXEsIHJlcykge1xuICAgIGNvbnN0IHVzZXJfaWQgPSByZXEudXNlci5faWQ7XG4gICAgY29uc3QgdG9fZm9sbG93X2lkID0gcmVxLmJvZHkuZm9sbG93X2lkO1xuXG4gICAgbGV0IGJ1bGsgPSBGb2xsb3cuY29sbGVjdGlvbi5pbml0aWFsaXplVW5vcmRlcmVkQnVsa09wKCk7XG5cbiAgICBidWxrLmZpbmQoeyAndXNlcic6IFR5cGVzLk9iamVjdElkKHVzZXJfaWQpIH0pLnVwc2VydCgpLnVwZGF0ZU9uZSh7XG4gICAgICAgICRwdWxsOiB7XG4gICAgICAgICAgICBmb2xsb3dpbmc6IFR5cGVzLk9iamVjdElkKHRvX2ZvbGxvd19pZClcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgYnVsay5maW5kKHsgJ3VzZXInOiBUeXBlcy5PYmplY3RJZCh0b19mb2xsb3dfaWQpIH0pLnVwc2VydCgpLnVwZGF0ZU9uZSh7XG4gICAgICAgICRwdWxsOiB7XG4gICAgICAgICAgICBmb2xsb3dlcnM6IFR5cGVzLk9iamVjdElkKHVzZXJfaWQpXG4gICAgICAgIH1cbiAgICB9KVxuXG4gICAgYnVsay5leGVjdXRlKGZ1bmN0aW9uKGVyciwgZG9jKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbih7XG4gICAgICAgICAgICAgICAgJ3N0YXRlJzogZmFsc2UsXG4gICAgICAgICAgICAgICAgJ21zZyc6IGVyclxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICByZXMuanNvbih7XG4gICAgICAgICAgICAnc3RhdGUnOiB0cnVlLFxuICAgICAgICAgICAgJ21zZyc6ICdVbmZvbGxvd2VkJ1xuICAgICAgICB9KVxuICAgIH0pXG59KSAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.routes.js"
      ],
      "names": [
        "express",
        "require",
        "router",
        "Router",
        "ctrlUser",
        "ctrlEvent",
        "jwtHelper",
        "route",
        "post",
        "verifyJwtToken",
        "req",
        "res",
        "console",
        "log",
        "body",
        "status",
        "send",
        "register",
        "authenticate",
        "refresh",
        "logout",
        "get",
        "userProfile",
        "users",
        "posts",
        "tmEvents",
        "friendProfile",
        "follow",
        "events",
        "addEvent",
        "uploadFiles",
        "Event",
        "findById",
        "params",
        "id",
        "err",
        "event",
        "json",
        "next",
        "Error",
        "eventName",
        "eventLocation",
        "eventLat",
        "eventLng",
        "eventDateFrom",
        "eventDateUntil",
        "eventDescr",
        "price",
        "eventPrivate",
        "interest",
        "save",
        "then",
        "catch",
        "findByIdAndRemove",
        "_id",
        "module",
        "exports"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/jonathanaugustin/Desktop/Websites/backend/routes",
      "sourcesContent": [
        "const express = require('express');\nconst router = express.Router();\n\nconst ctrlUser = require('../controllers/user.controller');\nconst ctrlEvent = require('../controllers/event.controller');\n\n\nconst jwtHelper = require('../config/jwtHelper');\nrouter.route('/test').post(jwtHelper.verifyJwtToken, (req, res) => {\n  console.log('yes');\n  console.log('req.body:', req.body);\n  res.status(200).send(req.body);\n});\nrouter.post('/register', ctrlUser.register);\nrouter.post('/authenticate', ctrlUser.authenticate);\nrouter.post('/refresh', ctrlUser.refresh);\nrouter.post('/logout', ctrlUser.logout);\nrouter.get('/userProfile', jwtHelper.verifyJwtToken, ctrlUser.userProfile);\nrouter.get('/users', jwtHelper.verifyJwtToken, ctrlUser.users);\nrouter.post('/posts', jwtHelper.verifyJwtToken, ctrlUser.posts);\nrouter.post('/ticketmaster-events', ctrlEvent.tmEvents);\nrouter.get('/users2', ctrlUser.users);\nrouter.get(\"/profile/:email\", ctrlUser.friendProfile);\nrouter.post('/follow', jwtHelper.verifyJwtToken, ctrlUser.follow);\nrouter.get('/events', ctrlEvent.events);\nrouter.post('/events/add', jwtHelper.verifyJwtToken, ctrlEvent.addEvent);\nrouter.post('/events/upload', ctrlEvent.uploadFiles);\nrouter.route('/events/:id').get((req, res) => {\n  Event.findById(req.params.id, (err, event) => {\n    if (err)\n      console.log(err);\n    else\n      res.json(event);\n  });\n});\n\nrouter.route('/events/update/:id').post((req, res) => {\n  Event.findById(req.params.id, (err, event) => {\n    if (!event)\n      return next(new Error('Could not load document'));\n    else{\n      // This may change here\n      event.eventName= req.body.eventName;\n      event.eventLocation= req.body.eventLocation;\n      event.eventLat= req.body.eventLat;\n      event.eventLng= req.body.eventLng;\n      event.eventDateFrom= req.body.eventDateFrom;\n      event.eventDateUntil= req.body.eventDateUntil;\n      event.eventDescr= req.body.eventDescr;\n      event.price= req.body.price;\n      event.eventPrivate= req.body.eventPrivate;\n      event.interest= req.body.interest;\n\n      event.save().then(event => {\n        res.json('Update done');\n      }).catch(err => {\n        res.status(400).send('Update failed');\n      });\n    }\n  });\n});\n\nrouter.route('/events/delete/:id').get((req, res) => {\n  Event.findByIdAndRemove({_id: req.params.id}, (err, event) => {\n    if (err)\n      res.json(err);\n    else\n      res.json('Remove successfully');\n  })\n})\n\n/* router.post('/unfollow', function(req, res) {\n    const user_id = req.user._id;\n    const to_follow_id = req.body.follow_id;\n\n    let bulk = Follow.collection.initializeUnorderedBulkOp();\n\n    bulk.find({ 'user': Types.ObjectId(user_id) }).upsert().updateOne({\n        $pull: {\n            following: Types.ObjectId(to_follow_id)\n        }\n    });\n\n    bulk.find({ 'user': Types.ObjectId(to_follow_id) }).upsert().updateOne({\n        $pull: {\n            followers: Types.ObjectId(user_id)\n        }\n    })\n\n    bulk.execute(function(err, doc) {\n        if (err) {\n            return res.json({\n                'state': false,\n                'msg': err\n            })\n        }\n        res.json({\n            'state': true,\n            'msg': 'Unfollowed'\n        })\n    })\n}) */\n\nmodule.exports = router;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1580241289834
  }
}